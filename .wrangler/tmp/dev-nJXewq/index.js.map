{
  "version": 3,
  "sources": ["wrangler-modules-watch:wrangler:modules-watch", "../../../node_modules/wrangler/templates/modules-watch-stub.js", "../../../node_modules/fast-decode-uri-component/index.js", "../../../node_modules/ieee754/index.js", "../../../node_modules/@borewit/text-codec/lib/index.js", "../../../node_modules/token-types/lib/index.js", "../../../node_modules/strtok3/lib/stream/Errors.js", "../../../node_modules/strtok3/lib/stream/Deferred.js", "../../../node_modules/strtok3/lib/stream/AbstractStreamReader.js", "../../../node_modules/strtok3/lib/stream/StreamReader.js", "../../../node_modules/strtok3/lib/stream/WebStreamReader.js", "../../../node_modules/strtok3/lib/stream/WebStreamByobReader.js", "../../../node_modules/strtok3/lib/stream/WebStreamDefaultReader.js", "../../../node_modules/strtok3/lib/stream/WebStreamReaderFactory.js", "../../../node_modules/strtok3/lib/stream/index.js", "../../../node_modules/strtok3/lib/AbstractTokenizer.js", "../../../node_modules/strtok3/lib/ReadStreamTokenizer.js", "../../../node_modules/strtok3/lib/BufferTokenizer.js", "../../../node_modules/strtok3/lib/BlobTokenizer.js", "../../../node_modules/strtok3/lib/core.js", "../../../node_modules/fflate/esm/browser.js", "../../../node_modules/ms/index.js", "../../../node_modules/debug/src/common.js", "../../../node_modules/debug/src/browser.js", "../../../node_modules/@tokenizer/inflate/lib/ZipToken.js", "../../../node_modules/@tokenizer/inflate/lib/index.js", "../../../node_modules/uint8array-extras/index.js", "../../../node_modules/file-type/util.js", "../../../node_modules/file-type/supported.js", "../../../node_modules/file-type/core.js", "../../../node_modules/cookie/src/index.ts", "../bundle-zdNJy7/middleware-loader.entry.ts", "../bundle-zdNJy7/middleware-insertion-facade.js", "../../../src/index.ts", "../../../node_modules/elysia/dist/index.mjs", "../../../node_modules/memoirist/dist/index.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/clone/type.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/clone/value.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/guard/value.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/create/type.mjs", "../../../node_modules/@sinclair/typebox/build/esm/system/policy.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/guard/guard.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/create/immutable.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/error/error.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/guard/index.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/guard/kind.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/symbols/symbols.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/guard/type.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/patterns/patterns.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/registry/index.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/registry/format.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/registry/type.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/sets/set.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/any/any.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/array/array.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/argument/argument.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/async-iterator/async-iterator.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/awaited/awaited.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/computed/computed.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/intersect/intersect-evaluated.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/discard/discard.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/never/never.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/optional/optional-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/mapped/mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/mapped/mapped.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/constructor/constructor.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/function/function.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/indexed/indexed-from-mapped-key.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/indexed/indexed.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/union/union-evaluated.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/union/union-create.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/union/union.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/indexed/indexed-property-keys.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/template-literal/finite.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/template-literal/parse.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/template-literal/generate.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/template-literal/syntax.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/literal/literal.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/boolean/boolean.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/bigint/bigint.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/number/number.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/string/string.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/template-literal/pattern.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/template-literal/union.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/template-literal/template-literal.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/indexed/indexed-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/iterator/iterator.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/object/object.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/promise/promise.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/readonly/readonly-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/readonly/readonly.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/tuple/tuple.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/optional/optional.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/intersect/intersect-create.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/intersect/intersect.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/ref/ref.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/composite/composite.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/keyof/keyof-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/keyof/keyof.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/keyof/keyof-property-keys.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/keyof/keyof-property-entries.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/const/const.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/date/date.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/null/null.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/symbol/symbol.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/undefined/undefined.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/uint8array/uint8array.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/unknown/unknown.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/constructor-parameters/constructor-parameters.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/enum/enum.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/exclude/exclude-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/exclude/exclude.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/extends/extends-check.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/extends/extends-from-mapped-key.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/extends/extends.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/extends/extends-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/extends/extends-undefined.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/exclude/exclude-from-template-literal.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/extract/extract-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/extract/extract.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/extract/extract-from-template-literal.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/instance-type/instance-type.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/instantiate/instantiate.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/readonly-optional/readonly-optional.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/record/record.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/integer/integer.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/intrinsic/capitalize.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/intrinsic/intrinsic.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/intrinsic/intrinsic-from-mapped-key.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/intrinsic/lowercase.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/intrinsic/uncapitalize.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/intrinsic/uppercase.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/module/module.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/module/compute.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/omit/omit-from-mapped-key.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/omit/omit.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/omit/omit-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/pick/pick-from-mapped-key.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/pick/pick.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/pick/pick-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/partial/partial-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/partial/partial.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/required/required-from-mapped-result.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/required/required.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/not/not.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/parameters/parameters.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/recursive/recursive.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/regexp/regexp.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/rest/rest.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/return-type/return-type.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/transform/transform.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/unsafe/unsafe.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/void/void.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/type/index.mjs", "../../../node_modules/@sinclair/typebox/build/esm/type/type/type.mjs", "../../../node_modules/elysia/dist/type-system/index.mjs", "../../../node_modules/elysia/dist/type-system/utils.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/index.mjs", "../../../node_modules/@sinclair/typebox/build/esm/errors/errors.mjs", "../../../node_modules/@sinclair/typebox/build/esm/errors/function.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/deref/deref.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/hash/hash.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/check/check.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/assert/assert.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/cast/cast.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/create/create.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/clone/clone.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/clean/clean.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/convert/convert.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/decode/decode.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/transform/decode.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/transform/encode.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/transform/has.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/default/default.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/delta/delta.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/pointer/index.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/pointer/pointer.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/equal/equal.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/encode/encode.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/mutate/mutate.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/parse/parse.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/value/index.mjs", "../../../node_modules/@sinclair/typebox/build/esm/value/value/value.mjs", "../../../node_modules/@sinclair/typebox/build/esm/compiler/compiler.mjs", "../../../node_modules/elysia/dist/universal/file.mjs", "../../../node_modules/elysia/dist/universal/utils.mjs", "../../../node_modules/elysia/dist/error.mjs", "../../../node_modules/elysia/dist/utils.mjs", "../../../node_modules/elysia/dist/type-system/format.mjs", "../../../node_modules/elysia/dist/sucrose.mjs", "../../../node_modules/elysia/dist/adapter/cloudflare-worker/index.mjs", "../../../node_modules/elysia/dist/adapter/web-standard/index.mjs", "../../../node_modules/elysia/dist/adapter/web-standard/handler.mjs", "../../../node_modules/elysia/dist/adapter/utils.mjs", "../../../node_modules/elysia/dist/cookies.mjs", "../../../node_modules/elysia/dist/universal/index.mjs", "../../../node_modules/elysia/dist/universal/env.mjs", "../../../node_modules/elysia/dist/adapter/bun/index.mjs", "../../../node_modules/elysia/dist/adapter/bun/compose.mjs", "../../../node_modules/elysia/dist/adapter/bun/handler.mjs", "../../../node_modules/elysia/dist/compose.mjs", "../../../node_modules/elysia/dist/parse-query.mjs", "../../../node_modules/elysia/dist/trace.mjs", "../../../node_modules/elysia/dist/schema.mjs", "../../../node_modules/exact-mirror/dist/index.mjs", "../../../node_modules/elysia/dist/adapter/bun/handler-native.mjs", "../../../node_modules/elysia/dist/ws/index.mjs", "../../../node_modules/elysia/dist/dynamic-handle.mjs", "../../../src/nostr.ts", "../../../node_modules/nostr-tools/lib/esm/index.js", "../../../node_modules/@noble/curves/src/secp256k1.ts", "../../../node_modules/@noble/curves/node_modules/@noble/hashes/src/sha256.ts", "../../../node_modules/@noble/curves/node_modules/@noble/hashes/src/_sha2.ts", "../../../node_modules/@noble/curves/node_modules/@noble/hashes/src/_assert.ts", "../../../node_modules/@noble/curves/node_modules/@noble/hashes/src/utils.ts", "../../../node_modules/@noble/curves/node_modules/@noble/hashes/src/crypto.ts", "../../../node_modules/@noble/curves/src/abstract/modular.ts", "../../../node_modules/@noble/curves/src/abstract/utils.ts", "../../../node_modules/@noble/curves/src/abstract/weierstrass.ts", "../../../node_modules/@noble/curves/src/abstract/curve.ts", "../../../node_modules/@noble/curves/src/_shortw_utils.ts", "../../../node_modules/@noble/curves/node_modules/@noble/hashes/src/hmac.ts", "../../../node_modules/@noble/hashes/src/utils.ts", "../../../node_modules/@noble/hashes/src/crypto.ts", "../../../node_modules/@noble/hashes/src/sha256.ts", "../../../node_modules/@noble/hashes/src/_sha2.ts", "../../../node_modules/@noble/hashes/src/_assert.ts", "../../../node_modules/@scure/base/lib/esm/index.js", "../../../node_modules/@noble/ciphers/src/aes.ts", "../../../node_modules/@noble/ciphers/src/utils.ts", "../../../node_modules/@noble/ciphers/src/_assert.ts", "../../../node_modules/@noble/ciphers/src/_polyval.ts", "../../../node_modules/@noble/ciphers/src/chacha.ts", "../../../node_modules/@noble/ciphers/src/_poly1305.ts", "../../../node_modules/@noble/ciphers/src/_arx.ts", "../../../node_modules/@noble/hashes/src/hkdf.ts", "../../../node_modules/@noble/hashes/src/hmac.ts", "../../../src/svg.ts", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../../../node_modules/wrangler/templates/middleware/common.ts"],
  "sourceRoot": "/Users/somanoda/Documents/program/nostr-embed/.wrangler/tmp/dev-nJXewq",
  "sourcesContent": ["", "// `esbuild` doesn't support returning `watch*` options from `onStart()`\n// plugin callbacks. Instead, we define an empty virtual module that is\n// imported by this injected file. Importing the module registers watchers.\nimport \"wrangler:modules-watch\";\n", "'use strict'\n\nvar UTF8_ACCEPT = 12\nvar UTF8_REJECT = 0\nvar UTF8_DATA = [\n  // The first part of the table maps bytes to character to a transition.\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n  2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n  3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n  3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n  4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,\n  5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,\n  6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 7, 7,\n  10, 9, 9, 9, 11, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,\n\n  // The second part of the table maps a state to a new state when adding a\n  // transition.\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  12, 0, 0, 0, 0, 24, 36, 48, 60, 72, 84, 96,\n  0, 12, 12, 12, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 24, 24, 24, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 24, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 48, 48, 48, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 48, 48, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\n  // The third part maps the current transition to a mask that needs to apply\n  // to the byte.\n  0x7F, 0x3F, 0x3F, 0x3F, 0x00, 0x1F, 0x0F, 0x0F, 0x0F, 0x07, 0x07, 0x07\n]\n\nfunction decodeURIComponent (uri) {\n  var percentPosition = uri.indexOf('%')\n  if (percentPosition === -1) return uri\n\n  var length = uri.length\n  var decoded = ''\n  var last = 0\n  var codepoint = 0\n  var startOfOctets = percentPosition\n  var state = UTF8_ACCEPT\n\n  while (percentPosition > -1 && percentPosition < length) {\n    var high = hexCodeToInt(uri[percentPosition + 1], 4)\n    var low = hexCodeToInt(uri[percentPosition + 2], 0)\n    var byte = high | low\n    var type = UTF8_DATA[byte]\n    state = UTF8_DATA[256 + state + type]\n    codepoint = (codepoint << 6) | (byte & UTF8_DATA[364 + type])\n\n    if (state === UTF8_ACCEPT) {\n      decoded += uri.slice(last, startOfOctets)\n\n      decoded += (codepoint <= 0xFFFF)\n        ? String.fromCharCode(codepoint)\n        : String.fromCharCode(\n          (0xD7C0 + (codepoint >> 10)),\n          (0xDC00 + (codepoint & 0x3FF))\n        )\n\n      codepoint = 0\n      last = percentPosition + 3\n      percentPosition = startOfOctets = uri.indexOf('%', last)\n    } else if (state === UTF8_REJECT) {\n      return null\n    } else {\n      percentPosition += 3\n      if (percentPosition < length && uri.charCodeAt(percentPosition) === 37) continue\n      return null\n    }\n  }\n\n  return decoded + uri.slice(last)\n}\n\nvar HEX = {\n  '0': 0,\n  '1': 1,\n  '2': 2,\n  '3': 3,\n  '4': 4,\n  '5': 5,\n  '6': 6,\n  '7': 7,\n  '8': 8,\n  '9': 9,\n  'a': 10,\n  'A': 10,\n  'b': 11,\n  'B': 11,\n  'c': 12,\n  'C': 12,\n  'd': 13,\n  'D': 13,\n  'e': 14,\n  'E': 14,\n  'f': 15,\n  'F': 15\n}\n\nfunction hexCodeToInt (c, shift) {\n  var i = HEX[c]\n  return i === undefined ? 255 : i << shift\n}\n\nmodule.exports = decodeURIComponent\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "// text-polyfill.ts\n// Minimal encode/decode for utf-8, utf-16le, ascii, latin1, windows-1252\nconst WINDOWS_1252_EXTRA = {\n    0x80: \"\u20AC\", 0x82: \"\u201A\", 0x83: \"\u0192\", 0x84: \"\u201E\", 0x85: \"\u2026\", 0x86: \"\u2020\",\n    0x87: \"\u2021\", 0x88: \"\u02C6\", 0x89: \"\u2030\", 0x8a: \"\u0160\", 0x8b: \"\u2039\", 0x8c: \"\u0152\",\n    0x8e: \"\u017D\", 0x91: \"\u2018\", 0x92: \"\u2019\", 0x93: \"\u201C\", 0x94: \"\u201D\", 0x95: \"\u2022\",\n    0x96: \"\u2013\", 0x97: \"\u2014\", 0x98: \"\u02DC\", 0x99: \"\u2122\", 0x9a: \"\u0161\", 0x9b: \"\u203A\",\n    0x9c: \"\u0153\", 0x9e: \"\u017E\", 0x9f: \"\u0178\",\n};\nconst WINDOWS_1252_REVERSE = {};\nfor (const [code, char] of Object.entries(WINDOWS_1252_EXTRA)) {\n    WINDOWS_1252_REVERSE[char] = Number.parseInt(code);\n}\n/**\n * Decode text from binary data\n * @param bytes Binary data\n * @param encoding Encoding\n */\nexport function textDecode(bytes, encoding = \"utf-8\") {\n    switch (encoding.toLowerCase()) {\n        case \"utf-8\":\n        case \"utf8\":\n            if (typeof globalThis.TextDecoder !== \"undefined\") {\n                return new globalThis.TextDecoder(\"utf-8\").decode(bytes);\n            }\n            return decodeUTF8(bytes);\n        case \"utf-16le\":\n            return decodeUTF16LE(bytes);\n        case \"ascii\":\n            return decodeASCII(bytes);\n        case \"latin1\":\n        case \"iso-8859-1\":\n            return decodeLatin1(bytes);\n        case \"windows-1252\":\n            return decodeWindows1252(bytes);\n        default:\n            throw new RangeError(`Encoding '${encoding}' not supported`);\n    }\n}\nexport function textEncode(input = \"\", encoding = \"utf-8\") {\n    switch (encoding.toLowerCase()) {\n        case \"utf-8\":\n        case \"utf8\":\n            if (typeof globalThis.TextEncoder !== \"undefined\") {\n                return new globalThis.TextEncoder().encode(input);\n            }\n            return encodeUTF8(input);\n        case \"utf-16le\":\n            return encodeUTF16LE(input);\n        case \"ascii\":\n            return encodeASCII(input);\n        case \"latin1\":\n        case \"iso-8859-1\":\n            return encodeLatin1(input);\n        case \"windows-1252\":\n            return encodeWindows1252(input);\n        default:\n            throw new RangeError(`Encoding '${encoding}' not supported`);\n    }\n}\n// --- Internal helpers ---\nfunction decodeUTF8(bytes) {\n    let out = \"\";\n    let i = 0;\n    while (i < bytes.length) {\n        const b1 = bytes[i++];\n        if (b1 < 0x80) {\n            out += String.fromCharCode(b1);\n        }\n        else if (b1 < 0xe0) {\n            const b2 = bytes[i++] & 0x3f;\n            out += String.fromCharCode(((b1 & 0x1f) << 6) | b2);\n        }\n        else if (b1 < 0xf0) {\n            const b2 = bytes[i++] & 0x3f;\n            const b3 = bytes[i++] & 0x3f;\n            out += String.fromCharCode(((b1 & 0x0f) << 12) | (b2 << 6) | b3);\n        }\n        else {\n            const b2 = bytes[i++] & 0x3f;\n            const b3 = bytes[i++] & 0x3f;\n            const b4 = bytes[i++] & 0x3f;\n            let cp = ((b1 & 0x07) << 18) |\n                (b2 << 12) |\n                (b3 << 6) |\n                b4;\n            cp -= 0x10000;\n            out += String.fromCharCode(0xd800 + ((cp >> 10) & 0x3ff), 0xdc00 + (cp & 0x3ff));\n        }\n    }\n    return out;\n}\nfunction decodeUTF16LE(bytes) {\n    let out = \"\";\n    for (let i = 0; i < bytes.length; i += 2) {\n        out += String.fromCharCode(bytes[i] | (bytes[i + 1] << 8));\n    }\n    return out;\n}\nfunction decodeASCII(bytes) {\n    return String.fromCharCode(...bytes.map((b) => b & 0x7f));\n}\nfunction decodeLatin1(bytes) {\n    return String.fromCharCode(...bytes);\n}\nfunction decodeWindows1252(bytes) {\n    let out = \"\";\n    for (const b of bytes) {\n        if (b >= 0x80 && b <= 0x9f && WINDOWS_1252_EXTRA[b]) {\n            out += WINDOWS_1252_EXTRA[b];\n        }\n        else {\n            out += String.fromCharCode(b);\n        }\n    }\n    return out;\n}\nfunction encodeUTF8(str) {\n    const out = [];\n    for (let i = 0; i < str.length; i++) {\n        const cp = str.charCodeAt(i);\n        if (cp < 0x80) {\n            out.push(cp);\n        }\n        else if (cp < 0x800) {\n            out.push(0xc0 | (cp >> 6), 0x80 | (cp & 0x3f));\n        }\n        else if (cp < 0x10000) {\n            out.push(0xe0 | (cp >> 12), 0x80 | ((cp >> 6) & 0x3f), 0x80 | (cp & 0x3f));\n        }\n        else {\n            out.push(0xf0 | (cp >> 18), 0x80 | ((cp >> 12) & 0x3f), 0x80 | ((cp >> 6) & 0x3f), 0x80 | (cp & 0x3f));\n        }\n    }\n    return new Uint8Array(out);\n}\nfunction encodeUTF16LE(str) {\n    const out = new Uint8Array(str.length * 2);\n    for (let i = 0; i < str.length; i++) {\n        const code = str.charCodeAt(i);\n        out[i * 2] = code & 0xff;\n        out[i * 2 + 1] = code >> 8;\n    }\n    return out;\n}\nfunction encodeASCII(str) {\n    return new Uint8Array([...str].map((ch) => ch.charCodeAt(0) & 0x7f));\n}\nfunction encodeLatin1(str) {\n    return new Uint8Array([...str].map((ch) => ch.charCodeAt(0) & 0xff));\n}\nfunction encodeWindows1252(str) {\n    return new Uint8Array([...str].map((ch) => {\n        const code = ch.charCodeAt(0);\n        if (code <= 0xff)\n            return code;\n        if (WINDOWS_1252_REVERSE[ch] !== undefined)\n            return WINDOWS_1252_REVERSE[ch];\n        return 0x3f; // '?'\n    }));\n}\n", "import * as ieee754 from 'ieee754';\nimport { textDecode } from \"@borewit/text-codec\";\n// Primitive types\nfunction dv(array) {\n    return new DataView(array.buffer, array.byteOffset);\n}\n/*\n * 8-bit unsigned integer\n */\nexport const UINT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getUint8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit unsigned integer, Little Endian byte order\n */\nexport const UINT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit unsigned integer, Big Endian byte order\n */\nexport const UINT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit unsigned integer, Little Endian byte order\n */\nexport const UINT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return dataView.getUint8(offset) + (dataView.getUint16(offset + 1, true) << 8);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit unsigned integer, Big Endian byte order\n */\nexport const UINT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return (dataView.getUint16(offset) << 8) + dataView.getUint8(offset + 2);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit unsigned integer, Little Endian byte order\n */\nexport const UINT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit unsigned integer, Big Endian byte order\n */\nexport const UINT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 8-bit signed integer\n */\nexport const INT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getInt8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit signed integer, Big Endian byte order\n */\nexport const INT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit signed integer, Little Endian byte order\n */\nexport const INT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit signed integer, Little Endian byte order\n */\nexport const INT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = UINT24_LE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit signed integer, Big Endian byte order\n */\nexport const INT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = UINT24_BE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexport const INT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexport const INT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 64-bit unsigned integer, Little Endian byte order\n */\nexport const UINT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Little Endian byte order\n */\nexport const INT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit unsigned integer, Big Endian byte order\n */\nexport const UINT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Big Endian byte order\n */\nexport const INT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, big endian\n */\nexport const Float16_BE = {\n    len: 2,\n    get(dataView, offset) {\n        return ieee754.read(dataView, offset, false, 10, this.len);\n    },\n    put(dataView, offset, value) {\n        ieee754.write(dataView, value, offset, false, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, little endian\n */\nexport const Float16_LE = {\n    len: 2,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 10, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, big endian\n */\nexport const Float32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, little endian\n */\nexport const Float32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, big endian\n */\nexport const Float64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, little endian\n */\nexport const Float64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, big endian\n */\nexport const Float80_BE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, false, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, false, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, little endian\n */\nexport const Float80_LE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * Ignore a given number of bytes\n */\nexport class IgnoreType {\n    /**\n     * @param len number of bytes to ignore\n     */\n    constructor(len) {\n        this.len = len;\n    }\n    // ToDo: don't read, but skip data\n    get(_array, _off) {\n    }\n}\nexport class Uint8ArrayType {\n    constructor(len) {\n        this.len = len;\n    }\n    get(array, offset) {\n        return array.subarray(offset, offset + this.len);\n    }\n}\n/**\n * Consume a fixed number of bytes from the stream and return a string with a specified encoding.\n * Supports all encodings supported by TextDecoder, plus 'windows-1252'.\n */\nexport class StringType {\n    constructor(len, encoding) {\n        this.len = len;\n        this.encoding = encoding;\n    }\n    get(data, offset = 0) {\n        const bytes = data.subarray(offset, offset + this.len);\n        return textDecode(bytes, this.encoding);\n    }\n}\n/**\n * ANSI Latin 1 String using Windows-1252 (Code Page 1252)\n * Windows-1252 is a superset of ISO 8859-1 / Latin-1.\n */\nexport class AnsiStringType extends StringType {\n    constructor(len) {\n        super(len, 'windows-1252');\n    }\n}\n", "export const defaultMessages = 'End-Of-Stream';\n/**\n * Thrown on read operation of the end of file or stream has been reached\n */\nexport class EndOfStreamError extends Error {\n    constructor() {\n        super(defaultMessages);\n        this.name = \"EndOfStreamError\";\n    }\n}\nexport class AbortError extends Error {\n    constructor(message = \"The operation was aborted\") {\n        super(message);\n        this.name = \"AbortError\";\n    }\n}\n", "export class Deferred {\n    constructor() {\n        this.resolve = () => null;\n        this.reject = () => null;\n        this.promise = new Promise((resolve, reject) => {\n            this.reject = reject;\n            this.resolve = resolve;\n        });\n    }\n}\n", "import { EndOfStreamError, AbortError } from \"./Errors.js\";\nexport class AbstractStreamReader {\n    constructor() {\n        this.endOfStream = false;\n        this.interrupted = false;\n        /**\n         * Store peeked data\n         * @type {Array}\n         */\n        this.peekQueue = [];\n    }\n    async peek(uint8Array, mayBeLess = false) {\n        const bytesRead = await this.read(uint8Array, mayBeLess);\n        this.peekQueue.push(uint8Array.subarray(0, bytesRead)); // Put read data back to peek buffer\n        return bytesRead;\n    }\n    async read(buffer, mayBeLess = false) {\n        if (buffer.length === 0) {\n            return 0;\n        }\n        let bytesRead = this.readFromPeekBuffer(buffer);\n        if (!this.endOfStream) {\n            bytesRead += await this.readRemainderFromStream(buffer.subarray(bytesRead), mayBeLess);\n        }\n        if (bytesRead === 0 && !mayBeLess) {\n            throw new EndOfStreamError();\n        }\n        return bytesRead;\n    }\n    /**\n     * Read chunk from stream\n     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n     * @returns Number of bytes read\n     */\n    readFromPeekBuffer(buffer) {\n        let remaining = buffer.length;\n        let bytesRead = 0;\n        // consume peeked data first\n        while (this.peekQueue.length > 0 && remaining > 0) {\n            const peekData = this.peekQueue.pop(); // Front of queue\n            if (!peekData)\n                throw new Error('peekData should be defined');\n            const lenCopy = Math.min(peekData.length, remaining);\n            buffer.set(peekData.subarray(0, lenCopy), bytesRead);\n            bytesRead += lenCopy;\n            remaining -= lenCopy;\n            if (lenCopy < peekData.length) {\n                // remainder back to queue\n                this.peekQueue.push(peekData.subarray(lenCopy));\n            }\n        }\n        return bytesRead;\n    }\n    async readRemainderFromStream(buffer, mayBeLess) {\n        let bytesRead = 0;\n        // Continue reading from stream if required\n        while (bytesRead < buffer.length && !this.endOfStream) {\n            if (this.interrupted) {\n                throw new AbortError();\n            }\n            const chunkLen = await this.readFromStream(buffer.subarray(bytesRead), mayBeLess);\n            if (chunkLen === 0)\n                break;\n            bytesRead += chunkLen;\n        }\n        if (!mayBeLess && bytesRead < buffer.length) {\n            throw new EndOfStreamError();\n        }\n        return bytesRead;\n    }\n}\n", "import { AbortError, } from './Errors.js';\nimport { Deferred } from './Deferred.js';\nimport { AbstractStreamReader } from \"./AbstractStreamReader.js\";\n/**\n * Node.js Readable Stream Reader\n * Ref: https://nodejs.org/api/stream.html#readable-streams\n */\nexport class StreamReader extends AbstractStreamReader {\n    constructor(s) {\n        super();\n        this.s = s;\n        /**\n         * Deferred used for postponed read request (as not data is yet available to read)\n         */\n        this.deferred = null;\n        if (!s.read || !s.once) {\n            throw new Error('Expected an instance of stream.Readable');\n        }\n        this.s.once('end', () => {\n            this.endOfStream = true;\n            if (this.deferred) {\n                this.deferred.resolve(0);\n            }\n        });\n        this.s.once('error', err => this.reject(err));\n        this.s.once('close', () => this.abort());\n    }\n    /**\n     * Read chunk from stream\n     * @param buffer Target Uint8Array (or Buffer) to store data read from stream in\n     * @param mayBeLess - If true, may fill the buffer partially\n     * @returns Number of bytes read\n     */\n    async readFromStream(buffer, mayBeLess) {\n        if (buffer.length === 0)\n            return 0;\n        const readBuffer = this.s.read(buffer.length);\n        if (readBuffer) {\n            buffer.set(readBuffer);\n            return readBuffer.length;\n        }\n        const request = {\n            buffer,\n            mayBeLess,\n            deferred: new Deferred()\n        };\n        this.deferred = request.deferred;\n        this.s.once('readable', () => {\n            this.readDeferred(request);\n        });\n        return request.deferred.promise;\n    }\n    /**\n     * Process deferred read request\n     * @param request Deferred read request\n     */\n    readDeferred(request) {\n        const readBuffer = this.s.read(request.buffer.length);\n        if (readBuffer) {\n            request.buffer.set(readBuffer);\n            request.deferred.resolve(readBuffer.length);\n            this.deferred = null;\n        }\n        else {\n            this.s.once('readable', () => {\n                this.readDeferred(request);\n            });\n        }\n    }\n    reject(err) {\n        this.interrupted = true;\n        if (this.deferred) {\n            this.deferred.reject(err);\n            this.deferred = null;\n        }\n    }\n    async abort() {\n        this.reject(new AbortError());\n    }\n    async close() {\n        return this.abort();\n    }\n}\n", "import { AbstractStreamReader } from \"./AbstractStreamReader.js\";\nexport class WebStreamReader extends AbstractStreamReader {\n    constructor(reader) {\n        super();\n        this.reader = reader;\n    }\n    async abort() {\n        return this.close();\n    }\n    async close() {\n        this.reader.releaseLock();\n    }\n}\n", "import { WebStreamReader } from './WebStreamReader.js';\n/**\n * Read from a WebStream using a BYOB reader\n * Reference: https://nodejs.org/api/webstreams.html#class-readablestreambyobreader\n */\nexport class WebStreamByobReader extends WebStreamReader {\n    /**\n     * Read from stream\n     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n     * @param mayBeLess - If true, may fill the buffer partially\n     * @protected Bytes read\n     */\n    async readFromStream(buffer, mayBeLess) {\n        if (buffer.length === 0)\n            return 0;\n        // @ts-ignore\n        const result = await this.reader.read(new Uint8Array(buffer.length), { min: mayBeLess ? undefined : buffer.length });\n        if (result.done) {\n            this.endOfStream = result.done;\n        }\n        if (result.value) {\n            buffer.set(result.value);\n            return result.value.length;\n        }\n        return 0;\n    }\n}\n", "import { EndOfStreamError } from './Errors.js';\nimport { AbstractStreamReader } from \"./AbstractStreamReader.js\";\nexport class WebStreamDefaultReader extends AbstractStreamReader {\n    constructor(reader) {\n        super();\n        this.reader = reader;\n        this.buffer = null; // Internal buffer to store excess data\n    }\n    /**\n     * Copy chunk to target, and store the remainder in this.buffer\n     */\n    writeChunk(target, chunk) {\n        const written = Math.min(chunk.length, target.length);\n        target.set(chunk.subarray(0, written));\n        // Adjust the remainder of the buffer\n        if (written < chunk.length) {\n            this.buffer = chunk.subarray(written);\n        }\n        else {\n            this.buffer = null;\n        }\n        return written;\n    }\n    /**\n     * Read from stream\n     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n     * @param mayBeLess - If true, may fill the buffer partially\n     * @protected Bytes read\n     */\n    async readFromStream(buffer, mayBeLess) {\n        if (buffer.length === 0)\n            return 0;\n        let totalBytesRead = 0;\n        // Serve from the internal buffer first\n        if (this.buffer) {\n            totalBytesRead += this.writeChunk(buffer, this.buffer);\n        }\n        // Continue reading from the stream if more data is needed\n        while (totalBytesRead < buffer.length && !this.endOfStream) {\n            const result = await this.reader.read();\n            if (result.done) {\n                this.endOfStream = true;\n                break;\n            }\n            if (result.value) {\n                totalBytesRead += this.writeChunk(buffer.subarray(totalBytesRead), result.value);\n            }\n        }\n        if (!mayBeLess && totalBytesRead === 0 && this.endOfStream) {\n            throw new EndOfStreamError();\n        }\n        return totalBytesRead;\n    }\n    abort() {\n        this.interrupted = true;\n        return this.reader.cancel();\n    }\n    async close() {\n        await this.abort();\n        this.reader.releaseLock();\n    }\n}\n", "import { WebStreamByobReader } from './WebStreamByobReader.js';\nimport { WebStreamDefaultReader } from './WebStreamDefaultReader.js';\nexport function makeWebStreamReader(stream) {\n    try {\n        const reader = stream.getReader({ mode: \"byob\" });\n        if (reader instanceof ReadableStreamDefaultReader) {\n            // Fallback to default reader in case `mode: byob` is ignored\n            return new WebStreamDefaultReader(reader);\n        }\n        return new WebStreamByobReader(reader);\n    }\n    catch (error) {\n        if (error instanceof TypeError) {\n            // Fallback to default reader in case `mode: byob` rejected by a `TypeError`\n            return new WebStreamDefaultReader(stream.getReader());\n        }\n        throw error;\n    }\n}\n", "export { AbortError, EndOfStreamError } from './Errors.js';\nexport { StreamReader } from './StreamReader.js';\nexport { WebStreamByobReader } from './WebStreamByobReader.js';\nexport { WebStreamDefaultReader } from './WebStreamDefaultReader.js';\nexport { makeWebStreamReader } from './WebStreamReaderFactory.js';\n", "import { EndOfStreamError } from './stream/index.js';\n/**\n * Core tokenizer\n */\nexport class AbstractTokenizer {\n    /**\n     * Constructor\n     * @param options Tokenizer options\n     * @protected\n     */\n    constructor(options) {\n        this.numBuffer = new Uint8Array(8);\n        /**\n         * Tokenizer-stream position\n         */\n        this.position = 0;\n        this.onClose = options?.onClose;\n        if (options?.abortSignal) {\n            options.abortSignal.addEventListener('abort', () => {\n                this.abort();\n            });\n        }\n    }\n    /**\n     * Read a token from the tokenizer-stream\n     * @param token - The token to read\n     * @param position - If provided, the desired position in the tokenizer-stream\n     * @returns Promise with token data\n     */\n    async readToken(token, position = this.position) {\n        const uint8Array = new Uint8Array(token.len);\n        const len = await this.readBuffer(uint8Array, { position });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(uint8Array, 0);\n    }\n    /**\n     * Peek a token from the tokenizer-stream.\n     * @param token - Token to peek from the tokenizer-stream.\n     * @param position - Offset where to begin reading within the file. If position is null, data will be read from the current file position.\n     * @returns Promise with token data\n     */\n    async peekToken(token, position = this.position) {\n        const uint8Array = new Uint8Array(token.len);\n        const len = await this.peekBuffer(uint8Array, { position });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(uint8Array, 0);\n    }\n    /**\n     * Read a numeric token from the stream\n     * @param token - Numeric token\n     * @returns Promise with number\n     */\n    async readNumber(token) {\n        const len = await this.readBuffer(this.numBuffer, { length: token.len });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(this.numBuffer, 0);\n    }\n    /**\n     * Read a numeric token from the stream\n     * @param token - Numeric token\n     * @returns Promise with number\n     */\n    async peekNumber(token) {\n        const len = await this.peekBuffer(this.numBuffer, { length: token.len });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(this.numBuffer, 0);\n    }\n    /**\n     * Ignore number of bytes, advances the pointer in under tokenizer-stream.\n     * @param length - Number of bytes to ignore\n     * @return resolves the number of bytes ignored, equals length if this available, otherwise the number of bytes available\n     */\n    async ignore(length) {\n        if (this.fileInfo.size !== undefined) {\n            const bytesLeft = this.fileInfo.size - this.position;\n            if (length > bytesLeft) {\n                this.position += bytesLeft;\n                return bytesLeft;\n            }\n        }\n        this.position += length;\n        return length;\n    }\n    async close() {\n        await this.abort();\n        await this.onClose?.();\n    }\n    normalizeOptions(uint8Array, options) {\n        if (!this.supportsRandomAccess() && options && options.position !== undefined && options.position < this.position) {\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\n        }\n        return {\n            ...{\n                mayBeLess: false,\n                offset: 0,\n                length: uint8Array.length,\n                position: this.position\n            }, ...options\n        };\n    }\n    abort() {\n        return Promise.resolve(); // Ignore abort signal\n    }\n}\n", "import { AbstractTokenizer } from './AbstractTokenizer.js';\nimport { EndOfStreamError } from './stream/index.js';\nconst maxBufferSize = 256000;\nexport class ReadStreamTokenizer extends AbstractTokenizer {\n    /**\n     * Constructor\n     * @param streamReader stream-reader to read from\n     * @param options Tokenizer options\n     */\n    constructor(streamReader, options) {\n        super(options);\n        this.streamReader = streamReader;\n        this.fileInfo = options?.fileInfo ?? {};\n    }\n    /**\n     * Read buffer from tokenizer\n     * @param uint8Array - Target Uint8Array to fill with data read from the tokenizer-stream\n     * @param options - Read behaviour options\n     * @returns Promise with number of bytes read\n     */\n    async readBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        const skipBytes = normOptions.position - this.position;\n        if (skipBytes > 0) {\n            await this.ignore(skipBytes);\n            return this.readBuffer(uint8Array, options);\n        }\n        if (skipBytes < 0) {\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\n        }\n        if (normOptions.length === 0) {\n            return 0;\n        }\n        const bytesRead = await this.streamReader.read(uint8Array.subarray(0, normOptions.length), normOptions.mayBeLess);\n        this.position += bytesRead;\n        if ((!options || !options.mayBeLess) && bytesRead < normOptions.length) {\n            throw new EndOfStreamError();\n        }\n        return bytesRead;\n    }\n    /**\n     * Peek (read ahead) buffer from tokenizer\n     * @param uint8Array - Uint8Array (or Buffer) to write data to\n     * @param options - Read behaviour options\n     * @returns Promise with number of bytes peeked\n     */\n    async peekBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        let bytesRead = 0;\n        if (normOptions.position) {\n            const skipBytes = normOptions.position - this.position;\n            if (skipBytes > 0) {\n                const skipBuffer = new Uint8Array(normOptions.length + skipBytes);\n                bytesRead = await this.peekBuffer(skipBuffer, { mayBeLess: normOptions.mayBeLess });\n                uint8Array.set(skipBuffer.subarray(skipBytes));\n                return bytesRead - skipBytes;\n            }\n            if (skipBytes < 0) {\n                throw new Error('Cannot peek from a negative offset in a stream');\n            }\n        }\n        if (normOptions.length > 0) {\n            try {\n                bytesRead = await this.streamReader.peek(uint8Array.subarray(0, normOptions.length), normOptions.mayBeLess);\n            }\n            catch (err) {\n                if (options?.mayBeLess && err instanceof EndOfStreamError) {\n                    return 0;\n                }\n                throw err;\n            }\n            if ((!normOptions.mayBeLess) && bytesRead < normOptions.length) {\n                throw new EndOfStreamError();\n            }\n        }\n        return bytesRead;\n    }\n    async ignore(length) {\n        // debug(`ignore ${this.position}...${this.position + length - 1}`);\n        const bufSize = Math.min(maxBufferSize, length);\n        const buf = new Uint8Array(bufSize);\n        let totBytesRead = 0;\n        while (totBytesRead < length) {\n            const remaining = length - totBytesRead;\n            const bytesRead = await this.readBuffer(buf, { length: Math.min(bufSize, remaining) });\n            if (bytesRead < 0) {\n                return bytesRead;\n            }\n            totBytesRead += bytesRead;\n        }\n        return totBytesRead;\n    }\n    abort() {\n        return this.streamReader.abort();\n    }\n    async close() {\n        return this.streamReader.close();\n    }\n    supportsRandomAccess() {\n        return false;\n    }\n}\n", "import { EndOfStreamError } from './stream/index.js';\nimport { AbstractTokenizer } from './AbstractTokenizer.js';\nexport class BufferTokenizer extends AbstractTokenizer {\n    /**\n     * Construct BufferTokenizer\n     * @param uint8Array - Uint8Array to tokenize\n     * @param options Tokenizer options\n     */\n    constructor(uint8Array, options) {\n        super(options);\n        this.uint8Array = uint8Array;\n        this.fileInfo = { ...options?.fileInfo ?? {}, ...{ size: uint8Array.length } };\n    }\n    /**\n     * Read buffer from tokenizer\n     * @param uint8Array - Uint8Array to tokenize\n     * @param options - Read behaviour options\n     * @returns {Promise<number>}\n     */\n    async readBuffer(uint8Array, options) {\n        if (options?.position) {\n            this.position = options.position;\n        }\n        const bytesRead = await this.peekBuffer(uint8Array, options);\n        this.position += bytesRead;\n        return bytesRead;\n    }\n    /**\n     * Peek (read ahead) buffer from tokenizer\n     * @param uint8Array\n     * @param options - Read behaviour options\n     * @returns {Promise<number>}\n     */\n    async peekBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        const bytes2read = Math.min(this.uint8Array.length - normOptions.position, normOptions.length);\n        if ((!normOptions.mayBeLess) && bytes2read < normOptions.length) {\n            throw new EndOfStreamError();\n        }\n        uint8Array.set(this.uint8Array.subarray(normOptions.position, normOptions.position + bytes2read));\n        return bytes2read;\n    }\n    close() {\n        return super.close();\n    }\n    supportsRandomAccess() {\n        return true;\n    }\n    setPosition(position) {\n        this.position = position;\n    }\n}\n", "import { EndOfStreamError } from './stream/index.js';\nimport { AbstractTokenizer } from './AbstractTokenizer.js';\nexport class BlobTokenizer extends AbstractTokenizer {\n    /**\n     * Construct BufferTokenizer\n     * @param blob - Uint8Array to tokenize\n     * @param options Tokenizer options\n     */\n    constructor(blob, options) {\n        super(options);\n        this.blob = blob;\n        this.fileInfo = { ...options?.fileInfo ?? {}, ...{ size: blob.size, mimeType: blob.type } };\n    }\n    /**\n     * Read buffer from tokenizer\n     * @param uint8Array - Uint8Array to tokenize\n     * @param options - Read behaviour options\n     * @returns {Promise<number>}\n     */\n    async readBuffer(uint8Array, options) {\n        if (options?.position) {\n            this.position = options.position;\n        }\n        const bytesRead = await this.peekBuffer(uint8Array, options);\n        this.position += bytesRead;\n        return bytesRead;\n    }\n    /**\n     * Peek (read ahead) buffer from tokenizer\n     * @param buffer\n     * @param options - Read behaviour options\n     * @returns {Promise<number>}\n     */\n    async peekBuffer(buffer, options) {\n        const normOptions = this.normalizeOptions(buffer, options);\n        const bytes2read = Math.min(this.blob.size - normOptions.position, normOptions.length);\n        if ((!normOptions.mayBeLess) && bytes2read < normOptions.length) {\n            throw new EndOfStreamError();\n        }\n        const arrayBuffer = await this.blob.slice(normOptions.position, normOptions.position + bytes2read).arrayBuffer();\n        buffer.set(new Uint8Array(arrayBuffer));\n        return bytes2read;\n    }\n    close() {\n        return super.close();\n    }\n    supportsRandomAccess() {\n        return true;\n    }\n    setPosition(position) {\n        this.position = position;\n    }\n}\n", "import { StreamReader, makeWebStreamReader } from './stream/index.js';\nimport { ReadStreamTokenizer } from './ReadStreamTokenizer.js';\nimport { BufferTokenizer } from './BufferTokenizer.js';\nimport { BlobTokenizer } from './BlobTokenizer.js';\nexport { EndOfStreamError, AbortError } from './stream/index.js';\nexport { AbstractTokenizer } from './AbstractTokenizer.js';\n/**\n * Construct ReadStreamTokenizer from given Stream.\n * Will set fileSize, if provided given Stream has set the .path property/\n * @param stream - Read from Node.js Stream.Readable\n * @param options - Tokenizer options\n * @returns ReadStreamTokenizer\n */\nexport function fromStream(stream, options) {\n    const streamReader = new StreamReader(stream);\n    const _options = options ?? {};\n    const chainedClose = _options.onClose;\n    _options.onClose = async () => {\n        await streamReader.close();\n        if (chainedClose) {\n            return chainedClose();\n        }\n    };\n    return new ReadStreamTokenizer(streamReader, _options);\n}\n/**\n * Construct ReadStreamTokenizer from given ReadableStream (WebStream API).\n * Will set fileSize, if provided given Stream has set the .path property/\n * @param webStream - Read from Node.js Stream.Readable (must be a byte stream)\n * @param options - Tokenizer options\n * @returns ReadStreamTokenizer\n */\nexport function fromWebStream(webStream, options) {\n    const webStreamReader = makeWebStreamReader(webStream);\n    const _options = options ?? {};\n    const chainedClose = _options.onClose;\n    _options.onClose = async () => {\n        await webStreamReader.close();\n        if (chainedClose) {\n            return chainedClose();\n        }\n    };\n    return new ReadStreamTokenizer(webStreamReader, _options);\n}\n/**\n * Construct ReadStreamTokenizer from given Buffer.\n * @param uint8Array - Uint8Array to tokenize\n * @param options - Tokenizer options\n * @returns BufferTokenizer\n */\nexport function fromBuffer(uint8Array, options) {\n    return new BufferTokenizer(uint8Array, options);\n}\n/**\n * Construct ReadStreamTokenizer from given Blob.\n * @param blob - Uint8Array to tokenize\n * @param options - Tokenizer options\n * @returns BufferTokenizer\n */\nexport function fromBlob(blob, options) {\n    return new BlobTokenizer(blob, options);\n}\n", "// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([\n        c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'\n    ], { type: 'text/javascript' }))));\n    w.onmessage = function (e) {\n        var d = e.data, ed = d.$e$;\n        if (ed) {\n            var err = new Error(ed[0]);\n            err['code'] = ed[1];\n            err.stack = ed[2];\n            cb(err, null);\n        }\n        else\n            cb(null, d);\n    };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new i32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return { b: b, r: r };\n};\nvar _a = freb(fleb, 2), fl = _a.b, revfl = _a.r;\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b.b, revfd = _b.r;\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >> 8) | ((x & 0x00FF) << 8)) >> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i) {\n        if (cd[i])\n            ++l[cd[i] - 1];\n    }\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 1; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p + 7) / 8) | 0; };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    return new u8(v.subarray(s, e));\n};\n/**\n * Codes for errors generated within this library\n */\nexport var FlateErrorCode = {\n    UnexpectedEOF: 0,\n    InvalidBlockType: 1,\n    InvalidLengthLiteral: 2,\n    InvalidDistance: 3,\n    StreamFinished: 4,\n    NoStreamHandler: 5,\n    InvalidHeader: 6,\n    NoCallback: 7,\n    InvalidUTF8: 8,\n    ExtraFieldTooLong: 9,\n    InvalidDate: 10,\n    FilenameTooLong: 11,\n    StreamFinishing: 12,\n    InvalidZipData: 13,\n    UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = [\n    'unexpected EOF',\n    'invalid block type',\n    'invalid length/literal',\n    'invalid distance',\n    'stream finished',\n    'no stream handler',\n    ,\n    'no callback',\n    'invalid UTF-8 data',\n    'extra field too long',\n    'date not in range 1980-2099',\n    'filename too long',\n    'stream finishing',\n    'invalid zip data'\n    // determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n    var e = new Error(msg || ec[ind]);\n    e.code = ind;\n    if (Error.captureStackTrace)\n        Error.captureStackTrace(e, err);\n    if (!nt)\n        throw e;\n    return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, st, buf, dict) {\n    // source length       dict length\n    var sl = dat.length, dl = dict ? dict.length : 0;\n    if (!sl || st.f && !st.l)\n        return buf || new u8(0);\n    var noBuf = !buf;\n    // have to estimate size\n    var resize = noBuf || st.i != 2;\n    // no state\n    var noSt = st.i;\n    // Assumes roughly 33% compression ratio average\n    if (noBuf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                // ensure size\n                if (resize)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                err(1);\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17\n        if (resize)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n            if (!c)\n                err(2);\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >> 4;\n                if (!d)\n                    err(3);\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (resize)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                if (bt < dt) {\n                    var shift = dl - dt, dend = Math.min(dt, end);\n                    if (shift + bt < 0)\n                        err(3);\n                    for (; bt < dend; ++bt)\n                        buf[bt] = dict[shift + bt];\n                }\n                for (; bt < end; ++bt)\n                    buf[bt] = buf[bt - dt];\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    // don't reallocate for streams or user buffers\n    return bt != buf.length && noBuf ? slc(buf, 0, bt) : buf.subarray(0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n    d[o + 2] |= v >> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return { t: et, l: 0 };\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return { t: v, l: 1 };\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return { t: new u8(tr), l: mbt };\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return { c: cl.subarray(0, cli), n: s };\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a.t, mlb = _a.l;\n    var _b = hTree(df, 15), ddt = _b.t, mdb = _b.l;\n    var _c = lc(dlt), lclt = _c.c, nlc = _c.n;\n    var _d = lc(ddt), lcdt = _d.c, ndc = _d.n;\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        ++lcfreq[lclt[i] & 31];\n    for (var i = 0; i < lcdt.length; ++i)\n        ++lcfreq[lcdt[i] & 31];\n    var _e = hTree(lcfreq, 7), lct = _e.t, mlcb = _e.l;\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n    if (bs >= 0 && flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >> 5) & 127), p += clct[i] >> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        var sym = syms[i];\n        if (sym > 255) {\n            var len = (sym >> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (sym >> 23) & 31), p += fleb[len];\n            var dst = sym & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (sym >> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[sym]), p += ll[sym];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, st) {\n    var s = st.z || dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var lst = st.l;\n    var pos = (st.r || 0) & 7;\n    if (lvl) {\n        if (pos)\n            w[0] = st.r >> 3;\n        var opt = deo[lvl - 1];\n        var n = opt >> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = st.p || new u16(32768), head = st.h || new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new i32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n        var lc_1 = 0, eb = 0, i = st.i || 0, li = 0, wi = st.w || 0, bs = 0;\n        for (; i + 2 < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && (rem > 423 || !lst)) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = imod - pimod & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = i - dif + j & 32767;\n                                    var pti = prev[ti];\n                                    var cd = ti - pti & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += imod - pimod & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one int32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        for (i = Math.max(i, wi); i < s; ++i) {\n            syms[li++] = dat[i];\n            ++lf[dat[i]];\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        if (!lst) {\n            st.r = (pos & 7) | w[(pos / 8) | 0] << 3;\n            // shft(pos) now 1 less if pos & 7 != 0\n            pos -= 7;\n            st.h = head, st.p = prev, st.i = i, st.w = wi;\n        }\n    }\n    else {\n        for (var i = st.w || 0; i < s + lst; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e >= s) {\n                // write final block\n                w[(pos / 8) | 0] = lst;\n                e = s;\n            }\n            pos = wfblk(w, pos + 1, dat.subarray(i, e));\n        }\n        st.i = s;\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new Int32Array(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && -306674912) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Adler32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length | 0;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | (b >> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    if (!st) {\n        st = { l: 1 };\n        if (opt.dictionary) {\n            var dict = opt.dictionary.subarray(-32768);\n            var newDat = new u8(dict.length + dat.length);\n            newDat.set(dict);\n            newDat.set(dat, dict.length);\n            dat = newDat;\n            st.w = dict.length;\n        }\n    }\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? (st.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 20) : (12 + opt.mem), pre, post, st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return fnStr;\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k].buffer) {\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n        }\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            fnStr = wcln(fns[i], fnStr, td_1);\n        ch[id] = { c: wcln(fns[m], fnStr, td_1), e: td_1 };\n    }\n    var td = mrg({}, ch[id].e);\n    return wk(ch[id].c + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gopt]; };\nvar bDflt = function () { return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zls]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get opts\nvar gopt = function (o) { return o && {\n    out: o.size && new u8(o.size),\n    dictionary: o.dictionary\n}; };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) {\n        if (ev.data.length) {\n            strm.push(ev.data[0], ev.data[1]);\n            postMessage([ev.data[0].length]);\n        }\n        else\n            strm.flush();\n    };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id, flush, ext) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else if (!Array.isArray(dat))\n            ext(dat);\n        else if (dat.length == 1) {\n            strm.queuedSize -= dat[0];\n            if (strm.ondrain)\n                strm.ondrain(dat[0]);\n        }\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.queuedSize = 0;\n    strm.push = function (d, f) {\n        if (!strm.ondata)\n            err(5);\n        if (t)\n            strm.ondata(err(4, 0, 1), null, !!f);\n        strm.queuedSize += d.length;\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n    if (flush) {\n        strm.flush = function () { w.postMessage([]); };\n    }\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        err(6, 'invalid gzip data');\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += (d[10] | d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + (o.filename ? o.filename.length + 1 : 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (o.dictionary && 32);\n    c[1] |= 31 - ((c[0] << 8) | c[1]) % 31;\n    if (o.dictionary) {\n        var h = adler();\n        h.p(o.dictionary);\n        wbytes(c, 2, h.d());\n    }\n};\n// zlib start\nvar zls = function (d, dict) {\n    if ((d[0] & 15) != 8 || (d[0] >> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        err(6, 'invalid zlib data');\n    if ((d[1] >> 5 & 1) == +!dict)\n        err(6, 'invalid zlib data: ' + (d[1] & 32 ? 'need' : 'unexpected') + ' dictionary');\n    return (d[1] >> 3 & 4) + 2;\n};\nfunction StrmOpt(opts, cb) {\n    if (typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n        this.s = { l: 0, i: 32768, w: 32768, z: 32768 };\n        // Buffer length must always be 0 mod 32768 for index calculations to be correct when modifying head and prev\n        // 98304 = 32768 (lookback) + 65536 (common chunk size)\n        this.b = new u8(98304);\n        if (this.o.dictionary) {\n            var dict = this.o.dictionary.subarray(-32768);\n            this.b.set(dict, 32768 - dict.length);\n            this.s.i = 32768 - dict.length;\n        }\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, this.s), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        var endLen = chunk.length + this.s.z;\n        if (endLen > this.b.length) {\n            if (endLen > 2 * this.b.length - 32768) {\n                var newBuf = new u8(endLen & -32768);\n                newBuf.set(this.b.subarray(0, this.s.z));\n                this.b = newBuf;\n            }\n            var split = this.b.length - this.s.z;\n            this.b.set(chunk.subarray(0, split), this.s.z);\n            this.s.z = this.b.length;\n            this.p(this.b, false);\n            this.b.set(this.b.subarray(-32768));\n            this.b.set(chunk.subarray(split), 32768);\n            this.s.z = chunk.length - split + 32768;\n            this.s.i = 32766, this.s.w = 32768;\n        }\n        else {\n            this.b.set(chunk, this.s.z);\n            this.s.z += chunk.length;\n        }\n        this.s.l = final & 1;\n        if (this.s.z > this.s.w + 8191 || final) {\n            this.p(this.b, final || false);\n            this.s.w = this.s.i, this.s.i -= 2;\n        }\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * deflated output for small inputs.\n     */\n    Deflate.prototype.flush = function () {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        this.p(this.b, false);\n        this.s.w = this.s.i, this.s.i -= 2;\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6, 1);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    function Inflate(opts, cb) {\n        // no StrmOpt here to avoid adding to workerizer\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);\n        this.s = { i: 0, b: dict ? dict.length : 0 };\n        this.o = new u8(32768);\n        this.p = new u8(0);\n        if (dict)\n            this.o.set(dict);\n    }\n    Inflate.prototype.e = function (c) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        if (!this.p.length)\n            this.p = c;\n        else if (c.length) {\n            var n = new u8(this.p.length + c.length);\n            n.set(this.p), n.set(c, this.p.length), this.p = n;\n        }\n    };\n    Inflate.prototype.c = function (final) {\n        this.s.i = +(this.d = final || false);\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.s, this.o);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    function AsyncInflate(opts, cb) {\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Inflate(ev.data);\n            onmessage = astrm(strm);\n        }, 7, 0);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gopt(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, opts) {\n    return inflt(data, { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        this.l += chunk.length;\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, this.s);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * GZIPped output for small inputs.\n     */\n    Gzip.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8, 1);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming single or multi-member GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    function Gunzip(opts, cb) {\n        this.v = 1;\n        this.r = 0;\n        Inflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        this.r += chunk.length;\n        if (this.v) {\n            var p = this.p.subarray(this.v - 1);\n            var s = p.length > 3 ? gzs(p) : 4;\n            if (s > p.length) {\n                if (!final)\n                    return;\n            }\n            else if (this.v > 1 && this.onmember) {\n                this.onmember(this.r - p.length);\n            }\n            this.p = p.subarray(s), this.v = 0;\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n        // process concatenated GZIP\n        if (this.s.f && !this.s.l && !final) {\n            this.v = shft(this.s.p) + 9;\n            this.s = { i: 0 };\n            this.o = new u8(0);\n            this.push(new u8(0), final);\n        }\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming single or multi-member GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    function AsyncGunzip(opts, cb) {\n        var _this = this;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gunzip(ev.data);\n            strm.onmember = function (offset) { return postMessage(offset); };\n            onmessage = astrm(strm);\n        }, 9, 0, function (offset) { return _this.onmember && _this.onmember(offset); });\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0], ev.data[1])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, opts) {\n    var st = gzs(data);\n    if (st + 8 > data.length)\n        err(6, 'invalid gzip data');\n    return inflt(data.subarray(st, -8), { i: 2 }, opts && opts.out || new u8(gzl(data)), opts && opts.dictionary);\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && (this.o.dictionary ? 6 : 2), f && 4, this.s);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * zlibbed output for small inputs.\n     */\n    Zlib.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10, 1);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    function Unzlib(opts, cb) {\n        Inflate.call(this, opts, cb);\n        this.v = opts && opts.dictionary ? 2 : 1;\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 6 && !final)\n                return;\n            this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                err(6, 'invalid zlib data');\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    function AsyncUnzlib(opts, cb) {\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Unzlib(ev.data);\n            onmessage = astrm(strm);\n        }, 11, 0);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gopt(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, opts) {\n    return inflt(data.subarray(zls(data, opts && opts.dictionary), -4), { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    function Decompress(opts, cb) {\n        this.o = StrmOpt.call(this, opts, cb) || {};\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n    }\n    // init substream\n    // overriden by AsyncDecompress\n    Decompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (dat, final) {\n            _this.ondata(dat, final);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(this.o)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(this.o)\n                        : new this.Z(this.o);\n                this.i();\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    function AsyncDecompress(opts, cb) {\n        Decompress.call(this, opts, cb);\n        this.queuedSize = 0;\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n    }\n    AsyncDecompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        };\n        this.s.ondrain = function (size) {\n            _this.queuedSize -= size;\n            if (_this.ondrain)\n                _this.ondrain(size);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        this.queuedSize += chunk.length;\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, opts) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, opts)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, opts)\n            : unzlibSync(data, opts);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k, op = o;\n        if (Array.isArray(val))\n            op = mrg(o, val[1]), val = val[0];\n        if (val instanceof u8)\n            t[n] = [val, op];\n        else {\n            t[n += '/'] = [new u8(0), op];\n            fltn(val, n, t, o);\n        }\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return { s: r, r: slc(d, i - 1) };\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    err(8);\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            err(4);\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (final) {\n            if (r.length)\n                err(8);\n            this.p = null;\n        }\n        else\n            this.p = r;\n        this.ondata(s, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td) {\n        return td.decode(dat);\n    }\n    else {\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (r.length)\n            err(8);\n        return s;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                err(9);\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c < 0 && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        err(10);\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >> 1)), b += 4;\n    if (c != -1) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this = this;\n        if (!this.ondata)\n            err(5);\n        // finishing or finished\n        if (this.d & 2)\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);\n        else {\n            var f = strToU8(file.filename), fl_1 = f.length;\n            var com = file.comment, o = com && strToU8(com);\n            var u = fl_1 != file.filename.length || (o && (com.length != o.length));\n            var hl_1 = fl_1 + exfl(file.extra) + 30;\n            if (fl_1 > 65535)\n                this.ondata(err(11, 0, 1), null, false);\n            var header = new u8(hl_1);\n            wzh(header, 0, file, f, u, -1);\n            var chks_1 = [header];\n            var pAll_1 = function () {\n                for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n                    var chk = chks_2[_i];\n                    _this.ondata(null, chk, false);\n                }\n                chks_1 = [];\n            };\n            var tr_1 = this.d;\n            this.d = 0;\n            var ind_1 = this.u.length;\n            var uf_1 = mrg(file, {\n                f: f,\n                u: u,\n                o: o,\n                t: function () {\n                    if (file.terminate)\n                        file.terminate();\n                },\n                r: function () {\n                    pAll_1();\n                    if (tr_1) {\n                        var nxt = _this.u[ind_1 + 1];\n                        if (nxt)\n                            nxt.r();\n                        else\n                            _this.d = 1;\n                    }\n                    tr_1 = 1;\n                }\n            });\n            var cl_1 = 0;\n            file.ondata = function (err, dat, final) {\n                if (err) {\n                    _this.ondata(err, dat, final);\n                    _this.terminate();\n                }\n                else {\n                    cl_1 += dat.length;\n                    chks_1.push(dat);\n                    if (final) {\n                        var dd = new u8(16);\n                        wbytes(dd, 0, 0x8074B50);\n                        wbytes(dd, 4, file.crc);\n                        wbytes(dd, 8, cl_1);\n                        wbytes(dd, 12, file.size);\n                        chks_1.push(dd);\n                        uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n                        if (tr_1)\n                            uf_1.r();\n                        tr_1 = 1;\n                    }\n                    else if (tr_1)\n                        pAll_1();\n                }\n            };\n            this.u.push(uf_1);\n        }\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this = this;\n        if (this.d & 2) {\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n            return;\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this.d & 1))\n                        return;\n                    _this.u.splice(-1, 1);\n                    _this.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cbd(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cbd(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cbd(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl(err(11, 0, 1), null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            err(11);\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this = this;\n        this.i = new Inflate(function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this = this;\n        if (!this.onfile)\n            err(5);\n        if (!this.p)\n            err(4);\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_3 = [];\n                        this_1.k.unshift(chks_3);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    err(5);\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this.o[cmp_1];\n                                    if (!ctr)\n                                        file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                                        var dat = chks_4[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this.k[0] == chks_3 && _this.c)\n                                        _this.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                err(13);\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) { fn(); };\nexport function unzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cbd(err(13, 0, 1), null);\n            return tAll;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (lft) {\n        var c = lft;\n        var o = b4(data, e + 16);\n        var z = o == 4294967295 || c == 65535;\n        if (z) {\n            var ze = b4(data, e - 12);\n            z = b4(data, ze) == 0x6064B50;\n            if (z) {\n                c = lft = b4(data, ze + 32);\n                o = b4(data, ze + 48);\n            }\n        }\n        var fltr = opts && opts.filter;\n        var _loop_3 = function (i) {\n            var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n            o = no;\n            var cbl = function (e, d) {\n                if (e) {\n                    tAll();\n                    cbd(e, null);\n                }\n                else {\n                    if (d)\n                        files[fn] = d;\n                    if (!--lft)\n                        cbd(null, files);\n                }\n            };\n            if (!fltr || fltr({\n                name: fn,\n                size: sc,\n                originalSize: su,\n                compression: c_1\n            })) {\n                if (!c_1)\n                    cbl(null, slc(data, b, b + sc));\n                else if (c_1 == 8) {\n                    var infl = data.subarray(b, b + sc);\n                    // Synchronously decompress under 512KB, or barely-compressed data\n                    if (su < 524288 || sc > 0.8 * su) {\n                        try {\n                            cbl(null, inflateSync(infl, { out: new u8(su) }));\n                        }\n                        catch (e) {\n                            cbl(e, null);\n                        }\n                    }\n                    else\n                        term.push(inflate(infl, { size: su }, cbl));\n                }\n                else\n                    cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n            }\n            else\n                cbl(null, null);\n        };\n        for (var i = 0; i < c; ++i) {\n            _loop_3(i);\n        }\n    }\n    else\n        cbd(null, {});\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nexport function unzipSync(data, opts) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            err(13);\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n        var ze = b4(data, e - 12);\n        z = b4(data, ze) == 0x6064B50;\n        if (z) {\n            c = b4(data, ze + 32);\n            o = b4(data, ze + 48);\n        }\n    }\n    var fltr = opts && opts.filter;\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!fltr || fltr({\n            name: fn,\n            size: sc,\n            originalSize: su,\n            compression: c_2\n        })) {\n            if (!c_2)\n                files[fn] = slc(data, b, b + sc);\n            else if (c_2 == 8)\n                files[fn] = inflateSync(data.subarray(b, b + sc), { out: new u8(su) });\n            else\n                err(14, 'unknown compression type ' + c_2);\n        }\n    }\n    return files;\n}\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "/**\n * Ref https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT\n */\nimport { UINT16_LE, UINT32_LE } from \"token-types\";\nexport const Signature = {\n    LocalFileHeader: 0x04034b50,\n    DataDescriptor: 0x08074b50,\n    CentralFileHeader: 0x02014b50,\n    EndOfCentralDirectory: 0x06054b50\n};\nexport const DataDescriptor = {\n    get(array) {\n        const flags = UINT16_LE.get(array, 6);\n        return {\n            signature: UINT32_LE.get(array, 0),\n            compressedSize: UINT32_LE.get(array, 8),\n            uncompressedSize: UINT32_LE.get(array, 12),\n        };\n    }, len: 16\n};\n/**\n * First part of the ZIP Local File Header\n * Offset | Bytes| Description\n * -------|------+-------------------------------------------------------------------\n *      0 |    4 | Signature (0x04034b50)\n *      4 |    2 | Minimum version needed to extract\n *      6 |    2 | Bit flag\n *      8 |    2 | Compression method\n *     10 |    2 | File last modification time (MS-DOS format)\n *     12 |    2 | File last modification date (MS-DOS format)\n *     14 |    4 | CRC-32 of uncompressed data\n *     18 |    4 | Compressed size\n *     22 |    4 | Uncompressed size\n *     26 |    2 | File name length (n)\n *     28 |    2 | Extra field length (m)\n *     30 |    n | File name\n * 30 + n |    m | Extra field\n */\nexport const LocalFileHeaderToken = {\n    get(array) {\n        const flags = UINT16_LE.get(array, 6);\n        return {\n            signature: UINT32_LE.get(array, 0),\n            minVersion: UINT16_LE.get(array, 4),\n            dataDescriptor: !!(flags & 0x0008),\n            compressedMethod: UINT16_LE.get(array, 8),\n            compressedSize: UINT32_LE.get(array, 18),\n            uncompressedSize: UINT32_LE.get(array, 22),\n            filenameLength: UINT16_LE.get(array, 26),\n            extraFieldLength: UINT16_LE.get(array, 28),\n            filename: null\n        };\n    }, len: 30\n};\n/**\n * 4.3.16  End of central directory record:\n *  end of central dir signature (0x06064b50)                                      4 bytes\n *  number of this disk                                                            2 bytes\n *  number of the disk with the start of the central directory                     2 bytes\n *  total number of entries in the central directory on this disk                  2 bytes\n *  total number of entries in the size of the central directory                   2 bytes\n *  sizeOfTheCentralDirectory                                                      4 bytes\n *  offset of start of central directory with respect to the starting disk number  4 bytes\n *  .ZIP file comment length                                                       2 bytes\n *  .ZIP file comment       (variable size)\n */\nexport const EndOfCentralDirectoryRecordToken = {\n    get(array) {\n        return {\n            signature: UINT32_LE.get(array, 0),\n            nrOfThisDisk: UINT16_LE.get(array, 4),\n            nrOfThisDiskWithTheStart: UINT16_LE.get(array, 6),\n            nrOfEntriesOnThisDisk: UINT16_LE.get(array, 8),\n            nrOfEntriesOfSize: UINT16_LE.get(array, 10),\n            sizeOfCd: UINT32_LE.get(array, 12),\n            offsetOfStartOfCd: UINT32_LE.get(array, 16),\n            zipFileCommentLength: UINT16_LE.get(array, 20),\n        };\n    }, len: 22\n};\n/**\n * File header:\n *    central file header signature   4 bytes   0 (0x02014b50)\n *    version made by                 2 bytes   4\n *    version needed to extract       2 bytes   6\n *    general purpose bit flag        2 bytes   8\n *    compression method              2 bytes  10\n *    last mod file time              2 bytes  12\n *    last mod file date              2 bytes  14\n *    crc-32                          4 bytes  16\n *    compressed size                 4 bytes  20\n *    uncompressed size               4 bytes  24\n *    file name length                2 bytes  28\n *    extra field length              2 bytes  30\n *    file comment length             2 bytes  32\n *    disk number start               2 bytes  34\n *    internal file attributes        2 bytes  36\n *    external file attributes        4 bytes  38\n *    relative offset of local header 4 bytes  42\n */\nexport const FileHeader = {\n    get(array) {\n        const flags = UINT16_LE.get(array, 8);\n        return {\n            signature: UINT32_LE.get(array, 0),\n            minVersion: UINT16_LE.get(array, 6),\n            dataDescriptor: !!(flags & 0x0008),\n            compressedMethod: UINT16_LE.get(array, 10),\n            compressedSize: UINT32_LE.get(array, 20),\n            uncompressedSize: UINT32_LE.get(array, 24),\n            filenameLength: UINT16_LE.get(array, 28),\n            extraFieldLength: UINT16_LE.get(array, 30),\n            fileCommentLength: UINT16_LE.get(array, 32),\n            relativeOffsetOfLocalHeader: UINT32_LE.get(array, 42),\n            filename: null\n        };\n    }, len: 46\n};\n", "import { StringType, UINT32_LE } from 'token-types';\nimport { decompressSync } from 'fflate';\nimport initDebug from 'debug';\nimport { DataDescriptor, EndOfCentralDirectoryRecordToken, FileHeader, LocalFileHeaderToken, Signature } from \"./ZipToken.js\";\nfunction signatureToArray(signature) {\n    const signatureBytes = new Uint8Array(UINT32_LE.len);\n    UINT32_LE.put(signatureBytes, 0, signature);\n    return signatureBytes;\n}\nconst debug = initDebug('tokenizer:inflate');\nconst syncBufferSize = 256 * 1024;\nconst ddSignatureArray = signatureToArray(Signature.DataDescriptor);\nconst eocdSignatureBytes = signatureToArray(Signature.EndOfCentralDirectory);\nexport class ZipHandler {\n    constructor(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.syncBuffer = new Uint8Array(syncBufferSize);\n    }\n    async isZip() {\n        return await this.peekSignature() === Signature.LocalFileHeader;\n    }\n    peekSignature() {\n        return this.tokenizer.peekToken(UINT32_LE);\n    }\n    async findEndOfCentralDirectoryLocator() {\n        const randomReadTokenizer = this.tokenizer;\n        const chunkLength = Math.min(16 * 1024, randomReadTokenizer.fileInfo.size);\n        const buffer = this.syncBuffer.subarray(0, chunkLength);\n        await this.tokenizer.readBuffer(buffer, { position: randomReadTokenizer.fileInfo.size - chunkLength });\n        // Search the buffer from end to beginning for EOCD signature\n        // const signature = 0x06054b50;\n        for (let i = buffer.length - 4; i >= 0; i--) {\n            // Compare 4 bytes directly without calling readUInt32LE\n            if (buffer[i] === eocdSignatureBytes[0] &&\n                buffer[i + 1] === eocdSignatureBytes[1] &&\n                buffer[i + 2] === eocdSignatureBytes[2] &&\n                buffer[i + 3] === eocdSignatureBytes[3]) {\n                return randomReadTokenizer.fileInfo.size - chunkLength + i;\n            }\n        }\n        return -1;\n    }\n    async readCentralDirectory() {\n        if (!this.tokenizer.supportsRandomAccess()) {\n            debug('Cannot reading central-directory without random-read support');\n            return;\n        }\n        debug('Reading central-directory...');\n        const pos = this.tokenizer.position;\n        const offset = await this.findEndOfCentralDirectoryLocator();\n        if (offset > 0) {\n            debug('Central-directory 32-bit signature found');\n            const eocdHeader = await this.tokenizer.readToken(EndOfCentralDirectoryRecordToken, offset);\n            const files = [];\n            this.tokenizer.setPosition(eocdHeader.offsetOfStartOfCd);\n            for (let n = 0; n < eocdHeader.nrOfEntriesOfSize; ++n) {\n                const entry = await this.tokenizer.readToken(FileHeader);\n                if (entry.signature !== Signature.CentralFileHeader) {\n                    throw new Error('Expected Central-File-Header signature');\n                }\n                entry.filename = await this.tokenizer.readToken(new StringType(entry.filenameLength, 'utf-8'));\n                await this.tokenizer.ignore(entry.extraFieldLength);\n                await this.tokenizer.ignore(entry.fileCommentLength);\n                files.push(entry);\n                debug(`Add central-directory file-entry: n=${n + 1}/${files.length}: filename=${files[n].filename}`);\n            }\n            this.tokenizer.setPosition(pos);\n            return files;\n        }\n        this.tokenizer.setPosition(pos);\n    }\n    async unzip(fileCb) {\n        const entries = await this.readCentralDirectory();\n        if (entries) {\n            // Use Central Directory to iterate over files\n            return this.iterateOverCentralDirectory(entries, fileCb);\n        }\n        // Scan Zip files for local-file-header\n        let stop = false;\n        do {\n            const zipHeader = await this.readLocalFileHeader();\n            if (!zipHeader)\n                break;\n            const next = fileCb(zipHeader);\n            stop = !!next.stop;\n            let fileData = undefined;\n            await this.tokenizer.ignore(zipHeader.extraFieldLength);\n            if (zipHeader.dataDescriptor && zipHeader.compressedSize === 0) {\n                const chunks = [];\n                let len = syncBufferSize;\n                debug('Compressed-file-size unknown, scanning for next data-descriptor-signature....');\n                let nextHeaderIndex = -1;\n                while (nextHeaderIndex < 0 && len === syncBufferSize) {\n                    len = await this.tokenizer.peekBuffer(this.syncBuffer, { mayBeLess: true });\n                    nextHeaderIndex = indexOf(this.syncBuffer.subarray(0, len), ddSignatureArray);\n                    const size = nextHeaderIndex >= 0 ? nextHeaderIndex : len;\n                    if (next.handler) {\n                        const data = new Uint8Array(size);\n                        await this.tokenizer.readBuffer(data);\n                        chunks.push(data);\n                    }\n                    else {\n                        // Move position to the next header if found, skip the whole buffer otherwise\n                        await this.tokenizer.ignore(size);\n                    }\n                }\n                debug(`Found data-descriptor-signature at pos=${this.tokenizer.position}`);\n                if (next.handler) {\n                    await this.inflate(zipHeader, mergeArrays(chunks), next.handler);\n                }\n            }\n            else {\n                if (next.handler) {\n                    debug(`Reading compressed-file-data: ${zipHeader.compressedSize} bytes`);\n                    fileData = new Uint8Array(zipHeader.compressedSize);\n                    await this.tokenizer.readBuffer(fileData);\n                    await this.inflate(zipHeader, fileData, next.handler);\n                }\n                else {\n                    debug(`Ignoring compressed-file-data: ${zipHeader.compressedSize} bytes`);\n                    await this.tokenizer.ignore(zipHeader.compressedSize);\n                }\n            }\n            debug(`Reading data-descriptor at pos=${this.tokenizer.position}`);\n            if (zipHeader.dataDescriptor) {\n                // await this.tokenizer.ignore(DataDescriptor.len);\n                const dataDescriptor = await this.tokenizer.readToken(DataDescriptor);\n                if (dataDescriptor.signature !== 0x08074b50) {\n                    throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position - DataDescriptor.len}`);\n                }\n            }\n        } while (!stop);\n    }\n    async iterateOverCentralDirectory(entries, fileCb) {\n        for (const fileHeader of entries) {\n            const next = fileCb(fileHeader);\n            if (next.handler) {\n                this.tokenizer.setPosition(fileHeader.relativeOffsetOfLocalHeader);\n                const zipHeader = await this.readLocalFileHeader();\n                if (zipHeader) {\n                    await this.tokenizer.ignore(zipHeader.extraFieldLength);\n                    const fileData = new Uint8Array(fileHeader.compressedSize);\n                    await this.tokenizer.readBuffer(fileData);\n                    await this.inflate(zipHeader, fileData, next.handler);\n                }\n            }\n            if (next.stop)\n                break;\n        }\n    }\n    inflate(zipHeader, fileData, cb) {\n        if (zipHeader.compressedMethod === 0) {\n            return cb(fileData);\n        }\n        debug(`Decompress filename=${zipHeader.filename}, compressed-size=${fileData.length}`);\n        const uncompressedData = decompressSync(fileData);\n        return cb(uncompressedData);\n    }\n    async readLocalFileHeader() {\n        const signature = await this.tokenizer.peekToken(UINT32_LE);\n        if (signature === Signature.LocalFileHeader) {\n            const header = await this.tokenizer.readToken(LocalFileHeaderToken);\n            header.filename = await this.tokenizer.readToken(new StringType(header.filenameLength, 'utf-8'));\n            return header;\n        }\n        if (signature === Signature.CentralFileHeader) {\n            return false;\n        }\n        if (signature === 0xE011CFD0) {\n            throw new Error('Encrypted ZIP');\n        }\n        throw new Error('Unexpected signature');\n    }\n}\nfunction indexOf(buffer, portion) {\n    const bufferLength = buffer.length;\n    const portionLength = portion.length;\n    // Return -1 if the portion is longer than the buffer\n    if (portionLength > bufferLength)\n        return -1;\n    // Search for the portion in the buffer\n    for (let i = 0; i <= bufferLength - portionLength; i++) {\n        let found = true;\n        for (let j = 0; j < portionLength; j++) {\n            if (buffer[i + j] !== portion[j]) {\n                found = false;\n                break;\n            }\n        }\n        if (found) {\n            return i; // Return the starting offset\n        }\n    }\n    return -1; // Not found\n}\nfunction mergeArrays(chunks) {\n    // Concatenate chunks into a single Uint8Array\n    const totalLength = chunks.reduce((acc, curr) => acc + curr.length, 0);\n    const mergedArray = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks) {\n        mergedArray.set(chunk, offset);\n        offset += chunk.length;\n    }\n    return mergedArray;\n}\n", "const objectToString = Object.prototype.toString;\nconst uint8ArrayStringified = '[object Uint8Array]';\nconst arrayBufferStringified = '[object ArrayBuffer]';\n\nfunction isType(value, typeConstructor, typeStringified) {\n\tif (!value) {\n\t\treturn false;\n\t}\n\n\tif (value.constructor === typeConstructor) {\n\t\treturn true;\n\t}\n\n\treturn objectToString.call(value) === typeStringified;\n}\n\nexport function isUint8Array(value) {\n\treturn isType(value, Uint8Array, uint8ArrayStringified);\n}\n\nfunction isArrayBuffer(value) {\n\treturn isType(value, ArrayBuffer, arrayBufferStringified);\n}\n\nfunction isUint8ArrayOrArrayBuffer(value) {\n\treturn isUint8Array(value) || isArrayBuffer(value);\n}\n\nexport function assertUint8Array(value) {\n\tif (!isUint8Array(value)) {\n\t\tthrow new TypeError(`Expected \\`Uint8Array\\`, got \\`${typeof value}\\``);\n\t}\n}\n\nexport function assertUint8ArrayOrArrayBuffer(value) {\n\tif (!isUint8ArrayOrArrayBuffer(value)) {\n\t\tthrow new TypeError(`Expected \\`Uint8Array\\` or \\`ArrayBuffer\\`, got \\`${typeof value}\\``);\n\t}\n}\n\nexport function toUint8Array(value) {\n\tif (value instanceof ArrayBuffer) {\n\t\treturn new Uint8Array(value);\n\t}\n\n\tif (ArrayBuffer.isView(value)) {\n\t\treturn new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n\t}\n\n\tthrow new TypeError(`Unsupported value, got \\`${typeof value}\\`.`);\n}\n\nexport function concatUint8Arrays(arrays, totalLength) {\n\tif (arrays.length === 0) {\n\t\treturn new Uint8Array(0);\n\t}\n\n\ttotalLength ??= arrays.reduce((accumulator, currentValue) => accumulator + currentValue.length, 0);\n\n\tconst returnValue = new Uint8Array(totalLength);\n\n\tlet offset = 0;\n\tfor (const array of arrays) {\n\t\tassertUint8Array(array);\n\t\treturnValue.set(array, offset);\n\t\toffset += array.length;\n\t}\n\n\treturn returnValue;\n}\n\nexport function areUint8ArraysEqual(a, b) {\n\tassertUint8Array(a);\n\tassertUint8Array(b);\n\n\tif (a === b) {\n\t\treturn true;\n\t}\n\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\n\t// eslint-disable-next-line unicorn/no-for-loop\n\tfor (let index = 0; index < a.length; index++) {\n\t\tif (a[index] !== b[index]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport function compareUint8Arrays(a, b) {\n\tassertUint8Array(a);\n\tassertUint8Array(b);\n\n\tconst length = Math.min(a.length, b.length);\n\n\tfor (let index = 0; index < length; index++) {\n\t\tconst diff = a[index] - b[index];\n\t\tif (diff !== 0) {\n\t\t\treturn Math.sign(diff);\n\t\t}\n\t}\n\n\t// At this point, all the compared elements are equal.\n\t// The shorter array should come first if the arrays are of different lengths.\n\treturn Math.sign(a.length - b.length);\n}\n\nconst cachedDecoders = {\n\tutf8: new globalThis.TextDecoder('utf8'),\n};\n\nexport function uint8ArrayToString(array, encoding = 'utf8') {\n\tassertUint8ArrayOrArrayBuffer(array);\n\tcachedDecoders[encoding] ??= new globalThis.TextDecoder(encoding);\n\treturn cachedDecoders[encoding].decode(array);\n}\n\nfunction assertString(value) {\n\tif (typeof value !== 'string') {\n\t\tthrow new TypeError(`Expected \\`string\\`, got \\`${typeof value}\\``);\n\t}\n}\n\nconst cachedEncoder = new globalThis.TextEncoder();\n\nexport function stringToUint8Array(string) {\n\tassertString(string);\n\treturn cachedEncoder.encode(string);\n}\n\nfunction base64ToBase64Url(base64) {\n\treturn base64.replaceAll('+', '-').replaceAll('/', '_').replace(/=+$/, '');\n}\n\nfunction base64UrlToBase64(base64url) {\n\tconst base64 = base64url.replaceAll('-', '+').replaceAll('_', '/');\n\tconst padding = (4 - (base64.length % 4)) % 4;\n\treturn base64 + '='.repeat(padding);\n}\n\n// Reference: https://phuoc.ng/collection/this-vs-that/concat-vs-push/\n// Important: Keep this value divisible by 3 so intermediate chunks produce no Base64 padding.\nconst MAX_BLOCK_SIZE = 65_535;\n\nexport function uint8ArrayToBase64(array, {urlSafe = false} = {}) {\n\tassertUint8Array(array);\n\n\tlet base64 = '';\n\n\tfor (let index = 0; index < array.length; index += MAX_BLOCK_SIZE) {\n\t\tconst chunk = array.subarray(index, index + MAX_BLOCK_SIZE);\n\t\t// Required as `btoa` and `atob` don't properly support Unicode: https://developer.mozilla.org/en-US/docs/Glossary/Base64#the_unicode_problem\n\t\tbase64 += globalThis.btoa(String.fromCodePoint.apply(undefined, chunk));\n\t}\n\n\treturn urlSafe ? base64ToBase64Url(base64) : base64;\n}\n\nexport function base64ToUint8Array(base64String) {\n\tassertString(base64String);\n\treturn Uint8Array.from(globalThis.atob(base64UrlToBase64(base64String)), x => x.codePointAt(0));\n}\n\nexport function stringToBase64(string, {urlSafe = false} = {}) {\n\tassertString(string);\n\treturn uint8ArrayToBase64(stringToUint8Array(string), {urlSafe});\n}\n\nexport function base64ToString(base64String) {\n\tassertString(base64String);\n\treturn uint8ArrayToString(base64ToUint8Array(base64String));\n}\n\nconst byteToHexLookupTable = Array.from({length: 256}, (_, index) => index.toString(16).padStart(2, '0'));\n\nexport function uint8ArrayToHex(array) {\n\tassertUint8Array(array);\n\n\t// Concatenating a string is faster than using an array.\n\tlet hexString = '';\n\n\t// eslint-disable-next-line unicorn/no-for-loop -- Max performance is critical.\n\tfor (let index = 0; index < array.length; index++) {\n\t\thexString += byteToHexLookupTable[array[index]];\n\t}\n\n\treturn hexString;\n}\n\nconst hexToDecimalLookupTable = {\n\t0: 0,\n\t1: 1,\n\t2: 2,\n\t3: 3,\n\t4: 4,\n\t5: 5,\n\t6: 6,\n\t7: 7,\n\t8: 8,\n\t9: 9,\n\ta: 10,\n\tb: 11,\n\tc: 12,\n\td: 13,\n\te: 14,\n\tf: 15,\n\tA: 10,\n\tB: 11,\n\tC: 12,\n\tD: 13,\n\tE: 14,\n\tF: 15,\n};\n\nexport function hexToUint8Array(hexString) {\n\tassertString(hexString);\n\n\tif (hexString.length % 2 !== 0) {\n\t\tthrow new Error('Invalid Hex string length.');\n\t}\n\n\tconst resultLength = hexString.length / 2;\n\tconst bytes = new Uint8Array(resultLength);\n\n\tfor (let index = 0; index < resultLength; index++) {\n\t\tconst highNibble = hexToDecimalLookupTable[hexString[index * 2]];\n\t\tconst lowNibble = hexToDecimalLookupTable[hexString[(index * 2) + 1]];\n\n\t\tif (highNibble === undefined || lowNibble === undefined) {\n\t\t\tthrow new Error(`Invalid Hex character encountered at position ${index * 2}`);\n\t\t}\n\n\t\tbytes[index] = (highNibble << 4) | lowNibble; // eslint-disable-line no-bitwise\n\t}\n\n\treturn bytes;\n}\n\n/**\n@param {DataView} view\n@returns {number}\n*/\nexport function getUintBE(view) {\n\tconst {byteLength} = view;\n\n\tif (byteLength === 6) {\n\t\treturn (view.getUint16(0) * (2 ** 32)) + view.getUint32(2);\n\t}\n\n\tif (byteLength === 5) {\n\t\treturn (view.getUint8(0) * (2 ** 32)) + view.getUint32(1);\n\t}\n\n\tif (byteLength === 4) {\n\t\treturn view.getUint32(0);\n\t}\n\n\tif (byteLength === 3) {\n\t\treturn (view.getUint8(0) * (2 ** 16)) + view.getUint16(1);\n\t}\n\n\tif (byteLength === 2) {\n\t\treturn view.getUint16(0);\n\t}\n\n\tif (byteLength === 1) {\n\t\treturn view.getUint8(0);\n\t}\n}\n\n/**\n@param {Uint8Array} array\n@param {Uint8Array} value\n@returns {number}\n*/\nexport function indexOf(array, value) {\n\tconst arrayLength = array.length;\n\tconst valueLength = value.length;\n\n\tif (valueLength === 0) {\n\t\treturn -1;\n\t}\n\n\tif (valueLength > arrayLength) {\n\t\treturn -1;\n\t}\n\n\tconst validOffsetLength = arrayLength - valueLength;\n\n\tfor (let index = 0; index <= validOffsetLength; index++) {\n\t\tlet isMatch = true;\n\t\tfor (let index2 = 0; index2 < valueLength; index2++) {\n\t\t\tif (array[index + index2] !== value[index2]) {\n\t\t\t\tisMatch = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (isMatch) {\n\t\t\treturn index;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\n/**\n@param {Uint8Array} array\n@param {Uint8Array} value\n@returns {boolean}\n*/\nexport function includes(array, value) {\n\treturn indexOf(array, value) !== -1;\n}\n", "import {StringType} from 'token-types';\n\nexport function stringToBytes(string) {\n\treturn [...string].map(character => character.charCodeAt(0)); // eslint-disable-line unicorn/prefer-code-point\n}\n\n/**\nChecks whether the TAR checksum is valid.\n\n@param {Uint8Array} arrayBuffer - The TAR header `[offset ... offset + 512]`.\n@param {number} offset - TAR header offset.\n@returns {boolean} `true` if the TAR checksum is valid, otherwise `false`.\n*/\nexport function tarHeaderChecksumMatches(arrayBuffer, offset = 0) {\n\tconst readSum = Number.parseInt(new StringType(6).get(arrayBuffer, 148).replace(/\\0.*$/, '').trim(), 8); // Read sum in header\n\tif (Number.isNaN(readSum)) {\n\t\treturn false;\n\t}\n\n\tlet sum = 8 * 0x20; // Initialize signed bit sum\n\n\tfor (let index = offset; index < offset + 148; index++) {\n\t\tsum += arrayBuffer[index];\n\t}\n\n\tfor (let index = offset + 156; index < offset + 512; index++) {\n\t\tsum += arrayBuffer[index];\n\t}\n\n\treturn readSum === sum;\n}\n\n/**\nID3 UINT32 sync-safe tokenizer token.\n28 bits (representing up to 256MB) integer, the msb is 0 to avoid \"false syncsignals\".\n*/\nexport const uint32SyncSafeToken = {\n\tget: (buffer, offset) => (buffer[offset + 3] & 0x7F) | ((buffer[offset + 2]) << 7) | ((buffer[offset + 1]) << 14) | ((buffer[offset]) << 21),\n\tlen: 4,\n};\n", "export const extensions = [\n\t'jpg',\n\t'png',\n\t'apng',\n\t'gif',\n\t'webp',\n\t'flif',\n\t'xcf',\n\t'cr2',\n\t'cr3',\n\t'orf',\n\t'arw',\n\t'dng',\n\t'nef',\n\t'rw2',\n\t'raf',\n\t'tif',\n\t'bmp',\n\t'icns',\n\t'jxr',\n\t'psd',\n\t'indd',\n\t'zip',\n\t'tar',\n\t'rar',\n\t'gz',\n\t'bz2',\n\t'7z',\n\t'dmg',\n\t'mp4',\n\t'mid',\n\t'mkv',\n\t'webm',\n\t'mov',\n\t'avi',\n\t'mpg',\n\t'mp2',\n\t'mp3',\n\t'm4a',\n\t'oga',\n\t'ogg',\n\t'ogv',\n\t'opus',\n\t'flac',\n\t'wav',\n\t'spx',\n\t'amr',\n\t'pdf',\n\t'epub',\n\t'elf',\n\t'macho',\n\t'exe',\n\t'swf',\n\t'rtf',\n\t'wasm',\n\t'woff',\n\t'woff2',\n\t'eot',\n\t'ttf',\n\t'otf',\n\t'ttc',\n\t'ico',\n\t'flv',\n\t'ps',\n\t'xz',\n\t'sqlite',\n\t'nes',\n\t'crx',\n\t'xpi',\n\t'cab',\n\t'deb',\n\t'ar',\n\t'rpm',\n\t'Z',\n\t'lz',\n\t'cfb',\n\t'mxf',\n\t'mts',\n\t'blend',\n\t'bpg',\n\t'docx',\n\t'pptx',\n\t'xlsx',\n\t'3gp',\n\t'3g2',\n\t'j2c',\n\t'jp2',\n\t'jpm',\n\t'jpx',\n\t'mj2',\n\t'aif',\n\t'qcp',\n\t'odt',\n\t'ods',\n\t'odp',\n\t'xml',\n\t'mobi',\n\t'heic',\n\t'cur',\n\t'ktx',\n\t'ape',\n\t'wv',\n\t'dcm',\n\t'ics',\n\t'glb',\n\t'pcap',\n\t'dsf',\n\t'lnk',\n\t'alias',\n\t'voc',\n\t'ac3',\n\t'm4v',\n\t'm4p',\n\t'm4b',\n\t'f4v',\n\t'f4p',\n\t'f4b',\n\t'f4a',\n\t'mie',\n\t'asf',\n\t'ogm',\n\t'ogx',\n\t'mpc',\n\t'arrow',\n\t'shp',\n\t'aac',\n\t'mp1',\n\t'it',\n\t's3m',\n\t'xm',\n\t'skp',\n\t'avif',\n\t'eps',\n\t'lzh',\n\t'pgp',\n\t'asar',\n\t'stl',\n\t'chm',\n\t'3mf',\n\t'zst',\n\t'jxl',\n\t'vcf',\n\t'jls',\n\t'pst',\n\t'dwg',\n\t'parquet',\n\t'class',\n\t'arj',\n\t'cpio',\n\t'ace',\n\t'avro',\n\t'icc',\n\t'fbx',\n\t'vsdx',\n\t'vtt',\n\t'apk',\n\t'drc',\n\t'lz4',\n\t'potx',\n\t'xltx',\n\t'dotx',\n\t'xltm',\n\t'ott',\n\t'ots',\n\t'otp',\n\t'odg',\n\t'otg',\n\t'xlsm',\n\t'docm',\n\t'dotm',\n\t'potm',\n\t'pptm',\n\t'jar',\n\t'rm',\n\t'ppsm',\n\t'ppsx',\n];\n\nexport const mimeTypes = [\n\t'image/jpeg',\n\t'image/png',\n\t'image/gif',\n\t'image/webp',\n\t'image/flif',\n\t'image/x-xcf',\n\t'image/x-canon-cr2',\n\t'image/x-canon-cr3',\n\t'image/tiff',\n\t'image/bmp',\n\t'image/vnd.ms-photo',\n\t'image/vnd.adobe.photoshop',\n\t'application/x-indesign',\n\t'application/epub+zip',\n\t'application/x-xpinstall',\n\t'application/vnd.ms-powerpoint.slideshow.macroenabled.12',\n\t'application/vnd.oasis.opendocument.text',\n\t'application/vnd.oasis.opendocument.spreadsheet',\n\t'application/vnd.oasis.opendocument.presentation',\n\t'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n\t'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n\t'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\t'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n\t'application/zip',\n\t'application/x-tar',\n\t'application/x-rar-compressed',\n\t'application/gzip',\n\t'application/x-bzip2',\n\t'application/x-7z-compressed',\n\t'application/x-apple-diskimage',\n\t'application/vnd.apache.arrow.file',\n\t'video/mp4',\n\t'audio/midi',\n\t'video/matroska',\n\t'video/webm',\n\t'video/quicktime',\n\t'video/vnd.avi',\n\t'audio/wav',\n\t'audio/qcelp',\n\t'audio/x-ms-asf',\n\t'video/x-ms-asf',\n\t'application/vnd.ms-asf',\n\t'video/mpeg',\n\t'video/3gpp',\n\t'audio/mpeg',\n\t'audio/mp4', // RFC 4337\n\t'video/ogg',\n\t'audio/ogg',\n\t'audio/ogg; codecs=opus',\n\t'application/ogg',\n\t'audio/flac',\n\t'audio/ape',\n\t'audio/wavpack',\n\t'audio/amr',\n\t'application/pdf',\n\t'application/x-elf',\n\t'application/x-mach-binary',\n\t'application/x-msdownload',\n\t'application/x-shockwave-flash',\n\t'application/rtf',\n\t'application/wasm',\n\t'font/woff',\n\t'font/woff2',\n\t'application/vnd.ms-fontobject',\n\t'font/ttf',\n\t'font/otf',\n\t'font/collection',\n\t'image/x-icon',\n\t'video/x-flv',\n\t'application/postscript',\n\t'application/eps',\n\t'application/x-xz',\n\t'application/x-sqlite3',\n\t'application/x-nintendo-nes-rom',\n\t'application/x-google-chrome-extension',\n\t'application/vnd.ms-cab-compressed',\n\t'application/x-deb',\n\t'application/x-unix-archive',\n\t'application/x-rpm',\n\t'application/x-compress',\n\t'application/x-lzip',\n\t'application/x-cfb',\n\t'application/x-mie',\n\t'application/mxf',\n\t'video/mp2t',\n\t'application/x-blender',\n\t'image/bpg',\n\t'image/j2c',\n\t'image/jp2',\n\t'image/jpx',\n\t'image/jpm',\n\t'image/mj2',\n\t'audio/aiff',\n\t'application/xml',\n\t'application/x-mobipocket-ebook',\n\t'image/heif',\n\t'image/heif-sequence',\n\t'image/heic',\n\t'image/heic-sequence',\n\t'image/icns',\n\t'image/ktx',\n\t'application/dicom',\n\t'audio/x-musepack',\n\t'text/calendar',\n\t'text/vcard',\n\t'text/vtt',\n\t'model/gltf-binary',\n\t'application/vnd.tcpdump.pcap',\n\t'audio/x-dsf', // Non-standard\n\t'application/x.ms.shortcut', // Invented by us\n\t'application/x.apple.alias', // Invented by us\n\t'audio/x-voc',\n\t'audio/vnd.dolby.dd-raw',\n\t'audio/x-m4a',\n\t'image/apng',\n\t'image/x-olympus-orf',\n\t'image/x-sony-arw',\n\t'image/x-adobe-dng',\n\t'image/x-nikon-nef',\n\t'image/x-panasonic-rw2',\n\t'image/x-fujifilm-raf',\n\t'video/x-m4v',\n\t'video/3gpp2',\n\t'application/x-esri-shape',\n\t'audio/aac',\n\t'audio/x-it',\n\t'audio/x-s3m',\n\t'audio/x-xm',\n\t'video/MP1S',\n\t'video/MP2P',\n\t'application/vnd.sketchup.skp',\n\t'image/avif',\n\t'application/x-lzh-compressed',\n\t'application/pgp-encrypted',\n\t'application/x-asar',\n\t'model/stl',\n\t'application/vnd.ms-htmlhelp',\n\t'model/3mf',\n\t'image/jxl',\n\t'application/zstd',\n\t'image/jls',\n\t'application/vnd.ms-outlook',\n\t'image/vnd.dwg',\n\t'application/vnd.apache.parquet',\n\t'application/java-vm',\n\t'application/x-arj',\n\t'application/x-cpio',\n\t'application/x-ace-compressed',\n\t'application/avro',\n\t'application/vnd.iccprofile',\n\t'application/x.autodesk.fbx', // Invented by us\n\t'application/vnd.visio',\n\t'application/vnd.android.package-archive',\n\t'application/vnd.google.draco', // Invented by us\n\t'application/x-lz4', // Invented by us\n\t'application/vnd.openxmlformats-officedocument.presentationml.template',\n\t'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n\t'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n\t'application/vnd.ms-excel.template.macroenabled.12',\n\t'application/vnd.oasis.opendocument.text-template',\n\t'application/vnd.oasis.opendocument.spreadsheet-template',\n\t'application/vnd.oasis.opendocument.presentation-template',\n\t'application/vnd.oasis.opendocument.graphics',\n\t'application/vnd.oasis.opendocument.graphics-template',\n\t'application/vnd.ms-excel.sheet.macroenabled.12',\n\t'application/vnd.ms-word.document.macroenabled.12',\n\t'application/vnd.ms-word.template.macroenabled.12',\n\t'application/vnd.ms-powerpoint.template.macroenabled.12',\n\t'application/vnd.ms-powerpoint.presentation.macroenabled.12',\n\t'application/java-archive',\n\t'application/vnd.rn-realmedia',\n];\n", "/**\nPrimary entry point, Node.js specific entry point is index.js\n*/\n\nimport * as Token from 'token-types';\nimport * as strtok3 from 'strtok3/core';\nimport {ZipHandler} from '@tokenizer/inflate';\nimport {getUintBE} from 'uint8array-extras';\nimport {\n\tstringToBytes,\n\ttarHeaderChecksumMatches,\n\tuint32SyncSafeToken,\n} from './util.js';\nimport {extensions, mimeTypes} from './supported.js';\n\nexport const reasonableDetectionSizeInBytes = 4100; // A fair amount of file-types are detectable within this range.\n\nexport async function fileTypeFromStream(stream, options) {\n\treturn new FileTypeParser(options).fromStream(stream);\n}\n\nexport async function fileTypeFromBuffer(input, options) {\n\treturn new FileTypeParser(options).fromBuffer(input);\n}\n\nexport async function fileTypeFromBlob(blob, options) {\n\treturn new FileTypeParser(options).fromBlob(blob);\n}\n\nfunction getFileTypeFromMimeType(mimeType) {\n\tmimeType = mimeType.toLowerCase();\n\tswitch (mimeType) {\n\t\tcase 'application/epub+zip':\n\t\t\treturn {\n\t\t\t\text: 'epub',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.text':\n\t\t\treturn {\n\t\t\t\text: 'odt',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.text-template':\n\t\t\treturn {\n\t\t\t\text: 'ott',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.spreadsheet':\n\t\t\treturn {\n\t\t\t\text: 'ods',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.spreadsheet-template':\n\t\t\treturn {\n\t\t\t\text: 'ots',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.presentation':\n\t\t\treturn {\n\t\t\t\text: 'odp',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.presentation-template':\n\t\t\treturn {\n\t\t\t\text: 'otp',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.graphics':\n\t\t\treturn {\n\t\t\t\text: 'odg',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.oasis.opendocument.graphics-template':\n\t\t\treturn {\n\t\t\t\text: 'otg',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':\n\t\t\treturn {\n\t\t\t\text: 'ppsx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n\t\t\treturn {\n\t\t\t\text: 'xlsx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-excel.sheet.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'xlsm',\n\t\t\t\tmime: 'application/vnd.ms-excel.sheet.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':\n\t\t\treturn {\n\t\t\t\text: 'xltx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-excel.template.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'xltm',\n\t\t\t\tmime: 'application/vnd.ms-excel.template.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.ms-powerpoint.slideshow.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'ppsm',\n\t\t\t\tmime: 'application/vnd.ms-powerpoint.slideshow.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n\t\t\treturn {\n\t\t\t\text: 'docx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-word.document.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'docm',\n\t\t\t\tmime: 'application/vnd.ms-word.document.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':\n\t\t\treturn {\n\t\t\t\text: 'dotx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-word.template.macroenabledtemplate':\n\t\t\treturn {\n\t\t\t\text: 'dotm',\n\t\t\t\tmime: 'application/vnd.ms-word.template.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.presentationml.template':\n\t\t\treturn {\n\t\t\t\text: 'potx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-powerpoint.template.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'potm',\n\t\t\t\tmime: 'application/vnd.ms-powerpoint.template.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n\t\t\treturn {\n\t\t\t\text: 'pptx',\n\t\t\t\tmime: mimeType,\n\t\t\t};\n\t\tcase 'application/vnd.ms-powerpoint.presentation.macroenabled':\n\t\t\treturn {\n\t\t\t\text: 'pptm',\n\t\t\t\tmime: 'application/vnd.ms-powerpoint.presentation.macroenabled.12',\n\t\t\t};\n\t\tcase 'application/vnd.ms-visio.drawing':\n\t\t\treturn {\n\t\t\t\text: 'vsdx',\n\t\t\t\tmime: 'application/vnd.visio',\n\t\t\t};\n\t\tcase 'application/vnd.ms-package.3dmanufacturing-3dmodel+xml':\n\t\t\treturn {\n\t\t\t\text: '3mf',\n\t\t\t\tmime: 'model/3mf',\n\t\t\t};\n\t\tdefault:\n\t}\n}\n\nfunction _check(buffer, headers, options) {\n\toptions = {\n\t\toffset: 0,\n\t\t...options,\n\t};\n\n\tfor (const [index, header] of headers.entries()) {\n\t\t// If a bitmask is set\n\t\tif (options.mask) {\n\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\tif (header !== (options.mask[index] & buffer[index + options.offset])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (header !== buffer[index + options.offset]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport async function fileTypeFromTokenizer(tokenizer, options) {\n\treturn new FileTypeParser(options).fromTokenizer(tokenizer);\n}\n\nexport async function fileTypeStream(webStream, options) {\n\treturn new FileTypeParser(options).toDetectionStream(webStream, options);\n}\n\nexport class FileTypeParser {\n\tconstructor(options) {\n\t\tthis.options = {\n\t\t\tmpegOffsetTolerance: 0,\n\t\t\t...options,\n\t\t};\n\n\t\tthis.detectors = [...(options?.customDetectors ?? []),\n\t\t\t{id: 'core', detect: this.detectConfident},\n\t\t\t{id: 'core.imprecise', detect: this.detectImprecise}];\n\t\tthis.tokenizerOptions = {\n\t\t\tabortSignal: options?.signal,\n\t\t};\n\t}\n\n\tasync fromTokenizer(tokenizer) {\n\t\tconst initialPosition = tokenizer.position;\n\n\t\t// Iterate through all file-type detectors\n\t\tfor (const detector of this.detectors) {\n\t\t\tconst fileType = await detector.detect(tokenizer);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\n\t\t\tif (initialPosition !== tokenizer.position) {\n\t\t\t\treturn undefined; // Cannot proceed scanning of the tokenizer is at an arbitrary position\n\t\t\t}\n\t\t}\n\t}\n\n\tasync fromBuffer(input) {\n\t\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer)) {\n\t\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t\t}\n\n\t\tconst buffer = input instanceof Uint8Array ? input : new Uint8Array(input);\n\n\t\tif (!(buffer?.length > 1)) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this.fromTokenizer(strtok3.fromBuffer(buffer, this.tokenizerOptions));\n\t}\n\n\tasync fromBlob(blob) {\n\t\treturn this.fromStream(blob.stream());\n\t}\n\n\tasync fromStream(stream) {\n\t\tconst tokenizer = await strtok3.fromWebStream(stream, this.tokenizerOptions);\n\t\ttry {\n\t\t\treturn await this.fromTokenizer(tokenizer);\n\t\t} finally {\n\t\t\tawait tokenizer.close();\n\t\t}\n\t}\n\n\tasync toDetectionStream(stream, options) {\n\t\tconst {sampleSize = reasonableDetectionSizeInBytes} = options;\n\t\tlet detectedFileType;\n\t\tlet firstChunk;\n\n\t\tconst reader = stream.getReader({mode: 'byob'});\n\t\ttry {\n\t\t\t// Read the first chunk from the stream\n\t\t\tconst {value: chunk, done} = await reader.read(new Uint8Array(sampleSize));\n\t\t\tfirstChunk = chunk;\n\t\t\tif (!done && chunk) {\n\t\t\t\ttry {\n\t\t\t\t\t// Attempt to detect the file type from the chunk\n\t\t\t\t\tdetectedFileType = await this.fromBuffer(chunk.subarray(0, sampleSize));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\t\t\t\tthrow error; // Re-throw non-EndOfStreamError\n\t\t\t\t\t}\n\n\t\t\t\t\tdetectedFileType = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirstChunk = chunk;\n\t\t} finally {\n\t\t\treader.releaseLock(); // Ensure the reader is released\n\t\t}\n\n\t\t// Create a new ReadableStream to manage locking issues\n\t\tconst transformStream = new TransformStream({\n\t\t\tasync start(controller) {\n\t\t\t\tcontroller.enqueue(firstChunk); // Enqueue the initial chunk\n\t\t\t},\n\t\t\ttransform(chunk, controller) {\n\t\t\t\t// Pass through the chunks without modification\n\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t},\n\t\t});\n\n\t\tconst newStream = stream.pipeThrough(transformStream);\n\t\tnewStream.fileType = detectedFileType;\n\n\t\treturn newStream;\n\t}\n\n\tcheck(header, options) {\n\t\treturn _check(this.buffer, header, options);\n\t}\n\n\tcheckString(header, options) {\n\t\treturn this.check(stringToBytes(header), options);\n\t}\n\n\t// Detections with a high degree of certainty in identifying the correct file type\n\tdetectConfident = async tokenizer => {\n\t\tthis.buffer = new Uint8Array(reasonableDetectionSizeInBytes);\n\n\t\t// Keep reading until EOF if the file size is unknown.\n\t\tif (tokenizer.fileInfo.size === undefined) {\n\t\t\ttokenizer.fileInfo.size = Number.MAX_SAFE_INTEGER;\n\t\t}\n\n\t\tthis.tokenizer = tokenizer;\n\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: 12, mayBeLess: true});\n\n\t\t// -- 2-byte signatures --\n\n\t\tif (this.check([0x42, 0x4D])) {\n\t\t\treturn {\n\t\t\t\text: 'bmp',\n\t\t\t\tmime: 'image/bmp',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x0B, 0x77])) {\n\t\t\treturn {\n\t\t\t\text: 'ac3',\n\t\t\t\tmime: 'audio/vnd.dolby.dd-raw',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x78, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'dmg',\n\t\t\t\tmime: 'application/x-apple-diskimage',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4D, 0x5A])) {\n\t\t\treturn {\n\t\t\t\text: 'exe',\n\t\t\t\tmime: 'application/x-msdownload',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x25, 0x21])) {\n\t\t\tawait tokenizer.peekBuffer(this.buffer, {length: 24, mayBeLess: true});\n\n\t\t\tif (\n\t\t\t\tthis.checkString('PS-Adobe-', {offset: 2})\n\t\t\t\t&& this.checkString(' EPSF-', {offset: 14})\n\t\t\t) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'eps',\n\t\t\t\t\tmime: 'application/eps',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'ps',\n\t\t\t\tmime: 'application/postscript',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x1F, 0xA0])\n\t\t\t|| this.check([0x1F, 0x9D])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'Z',\n\t\t\t\tmime: 'application/x-compress',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xC7, 0x71])) {\n\t\t\treturn {\n\t\t\t\text: 'cpio',\n\t\t\t\tmime: 'application/x-cpio',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x60, 0xEA])) {\n\t\t\treturn {\n\t\t\t\text: 'arj',\n\t\t\t\tmime: 'application/x-arj',\n\t\t\t};\n\t\t}\n\n\t\t// -- 3-byte signatures --\n\n\t\tif (this.check([0xEF, 0xBB, 0xBF])) { // UTF-8-BOM\n\t\t\t// Strip off UTF-8-BOM\n\t\t\tthis.tokenizer.ignore(3);\n\t\t\treturn this.detectConfident(tokenizer);\n\t\t}\n\n\t\tif (this.check([0x47, 0x49, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'gif',\n\t\t\t\tmime: 'image/gif',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x49, 0x49, 0xBC])) {\n\t\t\treturn {\n\t\t\t\text: 'jxr',\n\t\t\t\tmime: 'image/vnd.ms-photo',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x1F, 0x8B, 0x8])) {\n\t\t\treturn {\n\t\t\t\text: 'gz',\n\t\t\t\tmime: 'application/gzip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x5A, 0x68])) {\n\t\t\treturn {\n\t\t\t\text: 'bz2',\n\t\t\t\tmime: 'application/x-bzip2',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('ID3')) {\n\t\t\tawait tokenizer.ignore(6); // Skip ID3 header until the header size\n\t\t\tconst id3HeaderLength = await tokenizer.readToken(uint32SyncSafeToken);\n\t\t\tif (tokenizer.position + id3HeaderLength > tokenizer.fileInfo.size) {\n\t\t\t\t// Guess file type based on ID3 header for backward compatibility\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp3',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(id3HeaderLength);\n\t\t\treturn this.fromTokenizer(tokenizer); // Skip ID3 header, recursion\n\t\t}\n\n\t\t// Musepack, SV7\n\t\tif (this.checkString('MP+')) {\n\t\t\treturn {\n\t\t\t\text: 'mpc',\n\t\t\t\tmime: 'audio/x-musepack',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\t(this.buffer[0] === 0x43 || this.buffer[0] === 0x46)\n\t\t\t&& this.check([0x57, 0x53], {offset: 1})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'swf',\n\t\t\t\tmime: 'application/x-shockwave-flash',\n\t\t\t};\n\t\t}\n\n\t\t// -- 4-byte signatures --\n\n\t\t// Requires a sample size of 4 bytes\n\t\tif (this.check([0xFF, 0xD8, 0xFF])) {\n\t\t\tif (this.check([0xF7], {offset: 3})) { // JPG7/SOF55, indicating a ISO/IEC 14495 / JPEG-LS file\n\t\t\t\treturn {\n\t\t\t\t\text: 'jls',\n\t\t\t\t\tmime: 'image/jls',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'jpg',\n\t\t\t\tmime: 'image/jpeg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4F, 0x62, 0x6A, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'avro',\n\t\t\t\tmime: 'application/avro',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('FLIF')) {\n\t\t\treturn {\n\t\t\t\text: 'flif',\n\t\t\t\tmime: 'image/flif',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('8BPS')) {\n\t\t\treturn {\n\t\t\t\text: 'psd',\n\t\t\t\tmime: 'image/vnd.adobe.photoshop',\n\t\t\t};\n\t\t}\n\n\t\t// Musepack, SV8\n\t\tif (this.checkString('MPCK')) {\n\t\t\treturn {\n\t\t\t\text: 'mpc',\n\t\t\t\tmime: 'audio/x-musepack',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('FORM')) {\n\t\t\treturn {\n\t\t\t\text: 'aif',\n\t\t\t\tmime: 'audio/aiff',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('icns', {offset: 0})) {\n\t\t\treturn {\n\t\t\t\text: 'icns',\n\t\t\t\tmime: 'image/icns',\n\t\t\t};\n\t\t}\n\n\t\t// Zip-based file formats\n\t\t// Need to be before the `zip` check\n\t\tif (this.check([0x50, 0x4B, 0x3, 0x4])) { // Local file header signature\n\t\t\tlet fileType;\n\t\t\tawait new ZipHandler(tokenizer).unzip(zipHeader => {\n\t\t\t\tswitch (zipHeader.filename) {\n\t\t\t\t\tcase 'META-INF/mozilla.rsa':\n\t\t\t\t\t\tfileType = {\n\t\t\t\t\t\t\text: 'xpi',\n\t\t\t\t\t\t\tmime: 'application/x-xpinstall',\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tstop: true,\n\t\t\t\t\t\t};\n\t\t\t\t\tcase 'META-INF/MANIFEST.MF':\n\t\t\t\t\t\tfileType = {\n\t\t\t\t\t\t\text: 'jar',\n\t\t\t\t\t\t\tmime: 'application/java-archive',\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tstop: true,\n\t\t\t\t\t\t};\n\t\t\t\t\tcase 'mimetype':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tasync handler(fileData) {\n\t\t\t\t\t\t\t\t// Use TextDecoder to decode the UTF-8 encoded data\n\t\t\t\t\t\t\t\tconst mimeType = new TextDecoder('utf-8').decode(fileData).trim();\n\t\t\t\t\t\t\t\tfileType = getFileTypeFromMimeType(mimeType);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstop: true,\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase '[Content_Types].xml':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tasync handler(fileData) {\n\t\t\t\t\t\t\t\t// Use TextDecoder to decode the UTF-8 encoded data\n\t\t\t\t\t\t\t\tlet xmlContent = new TextDecoder('utf-8').decode(fileData);\n\t\t\t\t\t\t\t\tconst endPos = xmlContent.indexOf('.main+xml\"');\n\t\t\t\t\t\t\t\tif (endPos === -1) {\n\t\t\t\t\t\t\t\t\tconst mimeType = 'application/vnd.ms-package.3dmanufacturing-3dmodel+xml';\n\t\t\t\t\t\t\t\t\tif (xmlContent.includes(`ContentType=\"${mimeType}\"`)) {\n\t\t\t\t\t\t\t\t\t\tfileType = getFileTypeFromMimeType(mimeType);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\txmlContent = xmlContent.slice(0, Math.max(0, endPos));\n\t\t\t\t\t\t\t\t\tconst firstPos = xmlContent.lastIndexOf('\"');\n\t\t\t\t\t\t\t\t\tconst mimeType = xmlContent.slice(Math.max(0, firstPos + 1));\n\t\t\t\t\t\t\t\t\tfileType = getFileTypeFromMimeType(mimeType);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstop: true,\n\t\t\t\t\t\t};\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (/classes\\d*\\.dex/.test(zipHeader.filename)) {\n\t\t\t\t\t\t\tfileType = {\n\t\t\t\t\t\t\t\text: 'apk',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.android.package-archive',\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\treturn {stop: true};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn fileType ?? {\n\t\t\t\text: 'zip',\n\t\t\t\tmime: 'application/zip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('OggS')) {\n\t\t\t// This is an OGG container\n\t\t\tawait tokenizer.ignore(28);\n\t\t\tconst type = new Uint8Array(8);\n\t\t\tawait tokenizer.readBuffer(type);\n\n\t\t\t// Needs to be before `ogg` check\n\t\t\tif (_check(type, [0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'opus',\n\t\t\t\t\tmime: 'audio/ogg; codecs=opus',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If ' theora' in header.\n\t\t\tif (_check(type, [0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogv',\n\t\t\t\t\tmime: 'video/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If '\\x01video' in header.\n\t\t\tif (_check(type, [0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogm',\n\t\t\t\t\tmime: 'video/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\t\tif (_check(type, [0x7F, 0x46, 0x4C, 0x41, 0x43])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'oga',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\t\tif (_check(type, [0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'spx',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If '\\x01vorbis' in header\n\t\t\tif (_check(type, [0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogg',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\t\treturn {\n\t\t\t\text: 'ogx',\n\t\t\t\tmime: 'application/ogg',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x50, 0x4B])\n\t\t\t&& (this.buffer[2] === 0x3 || this.buffer[2] === 0x5 || this.buffer[2] === 0x7)\n\t\t\t&& (this.buffer[3] === 0x4 || this.buffer[3] === 0x6 || this.buffer[3] === 0x8)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'zip',\n\t\t\t\tmime: 'application/zip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('MThd')) {\n\t\t\treturn {\n\t\t\t\text: 'mid',\n\t\t\t\tmime: 'audio/midi',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('wOFF')\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x01, 0x00, 0x00], {offset: 4})\n\t\t\t\t|| this.checkString('OTTO', {offset: 4})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'woff',\n\t\t\t\tmime: 'font/woff',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('wOF2')\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x01, 0x00, 0x00], {offset: 4})\n\t\t\t\t|| this.checkString('OTTO', {offset: 4})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'woff2',\n\t\t\t\tmime: 'font/woff2',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xD4, 0xC3, 0xB2, 0xA1]) || this.check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\t\treturn {\n\t\t\t\text: 'pcap',\n\t\t\t\tmime: 'application/vnd.tcpdump.pcap',\n\t\t\t};\n\t\t}\n\n\t\t// Sony DSD Stream File (DSF)\n\t\tif (this.checkString('DSD ')) {\n\t\t\treturn {\n\t\t\t\text: 'dsf',\n\t\t\t\tmime: 'audio/x-dsf', // Non-standard\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('LZIP')) {\n\t\t\treturn {\n\t\t\t\text: 'lz',\n\t\t\t\tmime: 'application/x-lzip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('fLaC')) {\n\t\t\treturn {\n\t\t\t\text: 'flac',\n\t\t\t\tmime: 'audio/flac',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x50, 0x47, 0xFB])) {\n\t\t\treturn {\n\t\t\t\text: 'bpg',\n\t\t\t\tmime: 'image/bpg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('wvpk')) {\n\t\t\treturn {\n\t\t\t\text: 'wv',\n\t\t\t\tmime: 'audio/wavpack',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('%PDF')) {\n\t\t\t// Assume this is just a normal PDF\n\t\t\treturn {\n\t\t\t\text: 'pdf',\n\t\t\t\tmime: 'application/pdf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x61, 0x73, 0x6D])) {\n\t\t\treturn {\n\t\t\t\text: 'wasm',\n\t\t\t\tmime: 'application/wasm',\n\t\t\t};\n\t\t}\n\n\t\t// TIFF, little-endian type\n\t\tif (this.check([0x49, 0x49])) {\n\t\t\tconst fileType = await this.readTiffHeader(false);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\n\t\t// TIFF, big-endian type\n\t\tif (this.check([0x4D, 0x4D])) {\n\t\t\tconst fileType = await this.readTiffHeader(true);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('MAC ')) {\n\t\t\treturn {\n\t\t\t\text: 'ape',\n\t\t\t\tmime: 'audio/ape',\n\t\t\t};\n\t\t}\n\n\t\t// https://github.com/file/file/blob/master/magic/Magdir/matroska\n\t\tif (this.check([0x1A, 0x45, 0xDF, 0xA3])) { // Root element: EBML\n\t\t\tasync function readField() {\n\t\t\t\tconst msb = await tokenizer.peekNumber(Token.UINT8);\n\t\t\t\tlet mask = 0x80;\n\t\t\t\tlet ic = 0; // 0 = A, 1 = B, 2 = C, 3 = D\n\n\t\t\t\twhile ((msb & mask) === 0 && mask !== 0) {\n\t\t\t\t\t++ic;\n\t\t\t\t\tmask >>= 1;\n\t\t\t\t}\n\n\t\t\t\tconst id = new Uint8Array(ic + 1);\n\t\t\t\tawait tokenizer.readBuffer(id);\n\t\t\t\treturn id;\n\t\t\t}\n\n\t\t\tasync function readElement() {\n\t\t\t\tconst idField = await readField();\n\t\t\t\tconst lengthField = await readField();\n\n\t\t\t\tlengthField[0] ^= 0x80 >> (lengthField.length - 1);\n\t\t\t\tconst nrLength = Math.min(6, lengthField.length); // JavaScript can max read 6 bytes integer\n\n\t\t\t\tconst idView = new DataView(idField.buffer);\n\t\t\t\tconst lengthView = new DataView(lengthField.buffer, lengthField.length - nrLength, nrLength);\n\n\t\t\t\treturn {\n\t\t\t\t\tid: getUintBE(idView),\n\t\t\t\t\tlen: getUintBE(lengthView),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tasync function readChildren(children) {\n\t\t\t\twhile (children > 0) {\n\t\t\t\t\tconst element = await readElement();\n\t\t\t\t\tif (element.id === 0x42_82) {\n\t\t\t\t\t\tconst rawValue = await tokenizer.readToken(new Token.StringType(element.len));\n\t\t\t\t\t\treturn rawValue.replaceAll(/\\00.*$/g, ''); // Return DocType\n\t\t\t\t\t}\n\n\t\t\t\t\tawait tokenizer.ignore(element.len); // ignore payload\n\t\t\t\t\t--children;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst re = await readElement();\n\t\t\tconst documentType = await readChildren(re.len);\n\n\t\t\tswitch (documentType) {\n\t\t\t\tcase 'webm':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'webm',\n\t\t\t\t\t\tmime: 'video/webm',\n\t\t\t\t\t};\n\n\t\t\t\tcase 'matroska':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'mkv',\n\t\t\t\t\t\tmime: 'video/matroska',\n\t\t\t\t\t};\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('SQLi')) {\n\t\t\treturn {\n\t\t\t\text: 'sqlite',\n\t\t\t\tmime: 'application/x-sqlite3',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\t\treturn {\n\t\t\t\text: 'nes',\n\t\t\t\tmime: 'application/x-nintendo-nes-rom',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Cr24')) {\n\t\t\treturn {\n\t\t\t\text: 'crx',\n\t\t\t\tmime: 'application/x-google-chrome-extension',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('MSCF')\n\t\t\t|| this.checkString('ISc(')\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'cab',\n\t\t\t\tmime: 'application/vnd.ms-cab-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\t\treturn {\n\t\t\t\text: 'rpm',\n\t\t\t\tmime: 'application/x-rpm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xC5, 0xD0, 0xD3, 0xC6])) {\n\t\t\treturn {\n\t\t\t\text: 'eps',\n\t\t\t\tmime: 'application/eps',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x28, 0xB5, 0x2F, 0xFD])) {\n\t\t\treturn {\n\t\t\t\text: 'zst',\n\t\t\t\tmime: 'application/zstd',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x7F, 0x45, 0x4C, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'elf',\n\t\t\t\tmime: 'application/x-elf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x21, 0x42, 0x44, 0x4E])) {\n\t\t\treturn {\n\t\t\t\text: 'pst',\n\t\t\t\tmime: 'application/vnd.ms-outlook',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('PAR1') || this.checkString('PARE')) {\n\t\t\treturn {\n\t\t\t\text: 'parquet',\n\t\t\t\tmime: 'application/vnd.apache.parquet',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('ttcf')) {\n\t\t\treturn {\n\t\t\t\text: 'ttc',\n\t\t\t\tmime: 'font/collection',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xCF, 0xFA, 0xED, 0xFE])) {\n\t\t\treturn {\n\t\t\t\text: 'macho',\n\t\t\t\tmime: 'application/x-mach-binary',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x04, 0x22, 0x4D, 0x18])) {\n\t\t\treturn {\n\t\t\t\text: 'lz4',\n\t\t\t\tmime: 'application/x-lz4', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\t// -- 5-byte signatures --\n\n\t\tif (this.check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'otf',\n\t\t\t\tmime: 'font/otf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('#!AMR')) {\n\t\t\treturn {\n\t\t\t\text: 'amr',\n\t\t\t\tmime: 'audio/amr',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('{\\\\rtf')) {\n\t\t\treturn {\n\t\t\t\text: 'rtf',\n\t\t\t\tmime: 'application/rtf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x46, 0x4C, 0x56, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'flv',\n\t\t\t\tmime: 'video/x-flv',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('IMPM')) {\n\t\t\treturn {\n\t\t\t\text: 'it',\n\t\t\t\tmime: 'audio/x-it',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('-lh0-', {offset: 2})\n\t\t\t|| this.checkString('-lh1-', {offset: 2})\n\t\t\t|| this.checkString('-lh2-', {offset: 2})\n\t\t\t|| this.checkString('-lh3-', {offset: 2})\n\t\t\t|| this.checkString('-lh4-', {offset: 2})\n\t\t\t|| this.checkString('-lh5-', {offset: 2})\n\t\t\t|| this.checkString('-lh6-', {offset: 2})\n\t\t\t|| this.checkString('-lh7-', {offset: 2})\n\t\t\t|| this.checkString('-lzs-', {offset: 2})\n\t\t\t|| this.checkString('-lz4-', {offset: 2})\n\t\t\t|| this.checkString('-lz5-', {offset: 2})\n\t\t\t|| this.checkString('-lhd-', {offset: 2})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'lzh',\n\t\t\t\tmime: 'application/x-lzh-compressed',\n\t\t\t};\n\t\t}\n\n\t\t// MPEG program stream (PS or MPEG-PS)\n\t\tif (this.check([0x00, 0x00, 0x01, 0xBA])) {\n\t\t\t//  MPEG-PS, MPEG-1 Part 1\n\t\t\tif (this.check([0x21], {offset: 4, mask: [0xF1]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mpg', // May also be .ps, .mpeg\n\t\t\t\t\tmime: 'video/MP1S',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// MPEG-PS, MPEG-2 Part 1\n\t\t\tif (this.check([0x44], {offset: 4, mask: [0xC4]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mpg', // May also be .mpg, .m2p, .vob or .sub\n\t\t\t\t\tmime: 'video/MP2P',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('ITSF')) {\n\t\t\treturn {\n\t\t\t\text: 'chm',\n\t\t\t\tmime: 'application/vnd.ms-htmlhelp',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xCA, 0xFE, 0xBA, 0xBE])) {\n\t\t\treturn {\n\t\t\t\text: 'class',\n\t\t\t\tmime: 'application/java-vm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('.RMF')) {\n\t\t\treturn {\n\t\t\t\text: 'rm',\n\t\t\t\tmime: 'application/vnd.rn-realmedia',\n\t\t\t};\n\t\t}\n\n\t\t// -- 5-byte signatures --\n\n\t\tif (this.checkString('DRACO')) {\n\t\t\treturn {\n\t\t\t\text: 'drc',\n\t\t\t\tmime: 'application/vnd.google.draco', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\t// -- 6-byte signatures --\n\n\t\tif (this.check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'xz',\n\t\t\t\tmime: 'application/x-xz',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('<?xml ')) {\n\t\t\treturn {\n\t\t\t\text: 'xml',\n\t\t\t\tmime: 'application/xml',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\t\treturn {\n\t\t\t\text: '7z',\n\t\t\t\tmime: 'application/x-7z-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7])\n\t\t\t&& (this.buffer[6] === 0x0 || this.buffer[6] === 0x1)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'rar',\n\t\t\t\tmime: 'application/x-rar-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('solid ')) {\n\t\t\treturn {\n\t\t\t\text: 'stl',\n\t\t\t\tmime: 'model/stl',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('AC')) {\n\t\t\tconst version = new Token.StringType(4, 'latin1').get(this.buffer, 2);\n\t\t\tif (version.match('^d*') && version >= 1000 && version <= 1050) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'dwg',\n\t\t\t\t\tmime: 'image/vnd.dwg',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('070707')) {\n\t\t\treturn {\n\t\t\t\text: 'cpio',\n\t\t\t\tmime: 'application/x-cpio',\n\t\t\t};\n\t\t}\n\n\t\t// -- 7-byte signatures --\n\n\t\tif (this.checkString('BLENDER')) {\n\t\t\treturn {\n\t\t\t\text: 'blend',\n\t\t\t\tmime: 'application/x-blender',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('!<arch>')) {\n\t\t\tawait tokenizer.ignore(8);\n\t\t\tconst string = await tokenizer.readToken(new Token.StringType(13, 'ascii'));\n\t\t\tif (string === 'debian-binary') {\n\t\t\t\treturn {\n\t\t\t\t\text: 'deb',\n\t\t\t\t\tmime: 'application/x-deb',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'ar',\n\t\t\t\tmime: 'application/x-unix-archive',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('WEBVTT')\n\t\t\t&&\t(\n\t\t\t\t// One of LF, CR, tab, space, or end of file must follow \"WEBVTT\" per the spec (see `fixture/fixture-vtt-*.vtt` for examples). Note that `\\0` is technically the null character (there is no such thing as an EOF character). However, checking for `\\0` gives us the same result as checking for the end of the stream.\n\t\t\t\t(['\\n', '\\r', '\\t', ' ', '\\0'].some(char7 => this.checkString(char7, {offset: 6}))))\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'vtt',\n\t\t\t\tmime: 'text/vtt',\n\t\t\t};\n\t\t}\n\n\t\t// -- 8-byte signatures --\n\n\t\tif (this.check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t\t// APNG format (https://wiki.mozilla.org/APNG_Specification)\n\t\t\t// 1. Find the first IDAT (image data) chunk (49 44 41 54)\n\t\t\t// 2. Check if there is an \"acTL\" chunk before the IDAT one (61 63 54 4C)\n\n\t\t\t// Offset calculated as follows:\n\t\t\t// - 8 bytes: PNG signature\n\t\t\t// - 4 (length) + 4 (chunk type) + 13 (chunk data) + 4 (CRC): IHDR chunk\n\n\t\t\tawait tokenizer.ignore(8); // ignore PNG signature\n\n\t\t\tasync function readChunkHeader() {\n\t\t\t\treturn {\n\t\t\t\t\tlength: await tokenizer.readToken(Token.INT32_BE),\n\t\t\t\t\ttype: await tokenizer.readToken(new Token.StringType(4, 'latin1')),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tdo {\n\t\t\t\tconst chunk = await readChunkHeader();\n\t\t\t\tif (chunk.length < 0) {\n\t\t\t\t\treturn; // Invalid chunk length\n\t\t\t\t}\n\n\t\t\t\tswitch (chunk.type) {\n\t\t\t\t\tcase 'IDAT':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'png',\n\t\t\t\t\t\t\tmime: 'image/png',\n\t\t\t\t\t\t};\n\t\t\t\t\tcase 'acTL':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'apng',\n\t\t\t\t\t\t\tmime: 'image/apng',\n\t\t\t\t\t\t};\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tawait tokenizer.ignore(chunk.length + 4); // Ignore chunk-data + CRC\n\t\t\t\t}\n\t\t\t} while (tokenizer.position + 8 < tokenizer.fileInfo.size);\n\n\t\t\treturn {\n\t\t\t\text: 'png',\n\t\t\t\tmime: 'image/png',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x41, 0x52, 0x52, 0x4F, 0x57, 0x31, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'arrow',\n\t\t\t\tmime: 'application/vnd.apache.arrow.file',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'glb',\n\t\t\t\tmime: 'model/gltf-binary',\n\t\t\t};\n\t\t}\n\n\t\t// `mov` format variants\n\t\tif (\n\t\t\tthis.check([0x66, 0x72, 0x65, 0x65], {offset: 4}) // `free`\n\t\t\t|| this.check([0x6D, 0x64, 0x61, 0x74], {offset: 4}) // `mdat` MJPEG\n\t\t\t|| this.check([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) // `moov`\n\t\t\t|| this.check([0x77, 0x69, 0x64, 0x65], {offset: 4}) // `wide`\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mov',\n\t\t\t\tmime: 'video/quicktime',\n\t\t\t};\n\t\t}\n\n\t\t// -- 9-byte signatures --\n\n\t\tif (this.check([0x49, 0x49, 0x52, 0x4F, 0x08, 0x00, 0x00, 0x00, 0x18])) {\n\t\t\treturn {\n\t\t\t\text: 'orf',\n\t\t\t\tmime: 'image/x-olympus-orf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('gimp xcf ')) {\n\t\t\treturn {\n\t\t\t\text: 'xcf',\n\t\t\t\tmime: 'image/x-xcf',\n\t\t\t};\n\t\t}\n\n\t\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\t\t// It's not required to be first, but it's recommended to be. Almost all ISO base media files start with `ftyp` box.\n\t\t// `ftyp` box must contain a brand major identifier, which must consist of ISO 8859-1 printable characters.\n\t\t// Here we check for 8859-1 printable characters (for simplicity, it's a mask which also catches one non-printable character).\n\t\tif (\n\t\t\tthis.checkString('ftyp', {offset: 4})\n\t\t\t&& (this.buffer[8] & 0x60) !== 0x00 // Brand major, first character ASCII?\n\t\t) {\n\t\t\t// They all can have MIME `video/mp4` except `application/mp4` special-case which is hard to detect.\n\t\t\t// For some cases, we're specific, everything else falls to `video/mp4` with `mp4` extension.\n\t\t\tconst brandMajor = new Token.StringType(4, 'latin1').get(this.buffer, 8).replace('\\0', ' ').trim();\n\t\t\tswitch (brandMajor) {\n\t\t\t\tcase 'avif':\n\t\t\t\tcase 'avis':\n\t\t\t\t\treturn {ext: 'avif', mime: 'image/avif'};\n\t\t\t\tcase 'mif1':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heif'};\n\t\t\t\tcase 'msf1':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heif-sequence'};\n\t\t\t\tcase 'heic':\n\t\t\t\tcase 'heix':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heic'};\n\t\t\t\tcase 'hevc':\n\t\t\t\tcase 'hevx':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heic-sequence'};\n\t\t\t\tcase 'qt':\n\t\t\t\t\treturn {ext: 'mov', mime: 'video/quicktime'};\n\t\t\t\tcase 'M4V':\n\t\t\t\tcase 'M4VH':\n\t\t\t\tcase 'M4VP':\n\t\t\t\t\treturn {ext: 'm4v', mime: 'video/x-m4v'};\n\t\t\t\tcase 'M4P':\n\t\t\t\t\treturn {ext: 'm4p', mime: 'video/mp4'};\n\t\t\t\tcase 'M4B':\n\t\t\t\t\treturn {ext: 'm4b', mime: 'audio/mp4'};\n\t\t\t\tcase 'M4A':\n\t\t\t\t\treturn {ext: 'm4a', mime: 'audio/x-m4a'};\n\t\t\t\tcase 'F4V':\n\t\t\t\t\treturn {ext: 'f4v', mime: 'video/mp4'};\n\t\t\t\tcase 'F4P':\n\t\t\t\t\treturn {ext: 'f4p', mime: 'video/mp4'};\n\t\t\t\tcase 'F4A':\n\t\t\t\t\treturn {ext: 'f4a', mime: 'audio/mp4'};\n\t\t\t\tcase 'F4B':\n\t\t\t\t\treturn {ext: 'f4b', mime: 'audio/mp4'};\n\t\t\t\tcase 'crx':\n\t\t\t\t\treturn {ext: 'cr3', mime: 'image/x-canon-cr3'};\n\t\t\t\tdefault:\n\t\t\t\t\tif (brandMajor.startsWith('3g')) {\n\t\t\t\t\t\tif (brandMajor.startsWith('3g2')) {\n\t\t\t\t\t\t\treturn {ext: '3g2', mime: 'video/3gpp2'};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {ext: '3gp', mime: 'video/3gpp'};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {ext: 'mp4', mime: 'video/mp4'};\n\t\t\t}\n\t\t}\n\n\t\t// -- 12-byte signatures --\n\n\t\t// RIFF file format which might be AVI, WAV, QCP, etc\n\t\tif (this.check([0x52, 0x49, 0x46, 0x46])) {\n\t\t\tif (this.checkString('WEBP', {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'webp',\n\t\t\t\t\tmime: 'image/webp',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'avi',\n\t\t\t\t\tmime: 'video/vnd.avi',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'wav',\n\t\t\t\t\tmime: 'audio/wav',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// QLCM, QCP file\n\t\t\tif (this.check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'qcp',\n\t\t\t\t\tmime: 'audio/qcelp',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.check([0x49, 0x49, 0x55, 0x00, 0x18, 0x00, 0x00, 0x00, 0x88, 0xE7, 0x74, 0xD8])) {\n\t\t\treturn {\n\t\t\t\text: 'rw2',\n\t\t\t\tmime: 'image/x-panasonic-rw2',\n\t\t\t};\n\t\t}\n\n\t\t// ASF_Header_Object first 80 bytes\n\t\tif (this.check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\t\tasync function readHeader() {\n\t\t\t\tconst guid = new Uint8Array(16);\n\t\t\t\tawait tokenizer.readBuffer(guid);\n\t\t\t\treturn {\n\t\t\t\t\tid: guid,\n\t\t\t\t\tsize: Number(await tokenizer.readToken(Token.UINT64_LE)),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(30);\n\t\t\t// Search for header should be in first 1KB of file.\n\t\t\twhile (tokenizer.position + 24 < tokenizer.fileInfo.size) {\n\t\t\t\tconst header = await readHeader();\n\t\t\t\tlet payload = header.size - 24;\n\t\t\t\tif (_check(header.id, [0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65])) {\n\t\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\t\tconst typeId = new Uint8Array(16);\n\t\t\t\t\tpayload -= await tokenizer.readBuffer(typeId);\n\n\t\t\t\t\tif (_check(typeId, [0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t\t// Found audio:\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\t\tmime: 'audio/x-ms-asf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_check(typeId, [0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t\t// Found video:\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\t\tmime: 'video/x-ms-asf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tawait tokenizer.ignore(payload);\n\t\t\t}\n\n\t\t\t// Default to ASF generic extension\n\t\t\treturn {\n\t\t\t\text: 'asf',\n\t\t\t\tmime: 'application/vnd.ms-asf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t\treturn {\n\t\t\t\text: 'ktx',\n\t\t\t\tmime: 'image/ktx',\n\t\t\t};\n\t\t}\n\n\t\tif ((this.check([0x7E, 0x10, 0x04]) || this.check([0x7E, 0x18, 0x04])) && this.check([0x30, 0x4D, 0x49, 0x45], {offset: 4})) {\n\t\t\treturn {\n\t\t\t\text: 'mie',\n\t\t\t\tmime: 'application/x-mie',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x27, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], {offset: 2})) {\n\t\t\treturn {\n\t\t\t\text: 'shp',\n\t\t\t\tmime: 'application/x-esri-shape',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFF, 0x4F, 0xFF, 0x51])) {\n\t\t\treturn {\n\t\t\t\text: 'j2c',\n\t\t\t\tmime: 'image/j2c',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t\t// JPEG-2000 family\n\n\t\t\tawait tokenizer.ignore(20);\n\t\t\tconst type = await tokenizer.readToken(new Token.StringType(4, 'ascii'));\n\t\t\tswitch (type) {\n\t\t\t\tcase 'jp2 ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jp2',\n\t\t\t\t\t\tmime: 'image/jp2',\n\t\t\t\t\t};\n\t\t\t\tcase 'jpx ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jpx',\n\t\t\t\t\t\tmime: 'image/jpx',\n\t\t\t\t\t};\n\t\t\t\tcase 'jpm ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jpm',\n\t\t\t\t\t\tmime: 'image/jpm',\n\t\t\t\t\t};\n\t\t\t\tcase 'mjp2':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'mj2',\n\t\t\t\t\t\tmime: 'image/mj2',\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0xFF, 0x0A])\n\t\t\t|| this.check([0x00, 0x00, 0x00, 0x0C, 0x4A, 0x58, 0x4C, 0x20, 0x0D, 0x0A, 0x87, 0x0A])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'jxl',\n\t\t\t\tmime: 'image/jxl',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFE, 0xFF])) { // UTF-16-BOM-LE\n\t\t\tif (this.check([0, 60, 0, 63, 0, 120, 0, 109, 0, 108], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'xml',\n\t\t\t\t\tmime: 'application/xml',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn undefined; // Some unknown text based format\n\t\t}\n\n\t\tif (this.check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\t\t// Detected Microsoft Compound File Binary File (MS-CFB) Format.\n\t\t\treturn {\n\t\t\t\text: 'cfb',\n\t\t\t\tmime: 'application/x-cfb',\n\t\t\t};\n\t\t}\n\n\t\t// Increase sample size from 12 to 256.\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(256, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\tif (this.check([0x61, 0x63, 0x73, 0x70], {offset: 36})) {\n\t\t\treturn {\n\t\t\t\text: 'icc',\n\t\t\t\tmime: 'application/vnd.iccprofile',\n\t\t\t};\n\t\t}\n\n\t\t// ACE: requires 14 bytes in the buffer\n\t\tif (this.checkString('**ACE', {offset: 7}) && this.checkString('**', {offset: 12})) {\n\t\t\treturn {\n\t\t\t\text: 'ace',\n\t\t\t\tmime: 'application/x-ace-compressed',\n\t\t\t};\n\t\t}\n\n\t\t// -- 15-byte signatures --\n\n\t\tif (this.checkString('BEGIN:')) {\n\t\t\tif (this.checkString('VCARD', {offset: 6})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'vcf',\n\t\t\t\t\tmime: 'text/vcard',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.checkString('VCALENDAR', {offset: 6})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ics',\n\t\t\t\t\tmime: 'text/calendar',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// `raf` is here just to keep all the raw image detectors together.\n\t\tif (this.checkString('FUJIFILMCCD-RAW')) {\n\t\t\treturn {\n\t\t\t\text: 'raf',\n\t\t\t\tmime: 'image/x-fujifilm-raf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Extended Module:')) {\n\t\t\treturn {\n\t\t\t\text: 'xm',\n\t\t\t\tmime: 'audio/x-xm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Creative Voice File')) {\n\t\t\treturn {\n\t\t\t\text: 'voc',\n\t\t\t\tmime: 'audio/x-voc',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x04, 0x00, 0x00, 0x00]) && this.buffer.length >= 16) { // Rough & quick check Pickle/ASAR\n\t\t\tconst jsonSize = new DataView(this.buffer.buffer).getUint32(12, true);\n\n\t\t\tif (jsonSize > 12 && this.buffer.length >= jsonSize + 16) {\n\t\t\t\ttry {\n\t\t\t\t\tconst header = new TextDecoder().decode(this.buffer.subarray(16, jsonSize + 16));\n\t\t\t\t\tconst json = JSON.parse(header);\n\t\t\t\t\t// Check if Pickle is ASAR\n\t\t\t\t\tif (json.files) { // Final check, assuring Pickle/ASAR format\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asar',\n\t\t\t\t\t\t\tmime: 'application/x-asar',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} catch {}\n\t\t\t}\n\t\t}\n\n\t\tif (this.check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\t\treturn {\n\t\t\t\text: 'mxf',\n\t\t\t\tmime: 'application/mxf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('SCRM', {offset: 44})) {\n\t\t\treturn {\n\t\t\t\text: 's3m',\n\t\t\t\tmime: 'audio/x-s3m',\n\t\t\t};\n\t\t}\n\n\t\t// Raw MPEG-2 transport stream (188-byte packets)\n\t\tif (this.check([0x47]) && this.check([0x47], {offset: 188})) {\n\t\t\treturn {\n\t\t\t\text: 'mts',\n\t\t\t\tmime: 'video/mp2t',\n\t\t\t};\n\t\t}\n\n\t\t// Blu-ray Disc Audio-Video (BDAV) MPEG-2 transport stream has 4-byte TP_extra_header before each 188-byte packet\n\t\tif (this.check([0x47], {offset: 4}) && this.check([0x47], {offset: 196})) {\n\t\t\treturn {\n\t\t\t\text: 'mts',\n\t\t\t\tmime: 'video/mp2t',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\t\treturn {\n\t\t\t\text: 'mobi',\n\t\t\t\tmime: 'application/x-mobipocket-ebook',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\t\treturn {\n\t\t\t\text: 'dcm',\n\t\t\t\tmime: 'application/dicom',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4C, 0x00, 0x00, 0x00, 0x01, 0x14, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'lnk',\n\t\t\t\tmime: 'application/x.ms.shortcut', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x62, 0x6F, 0x6F, 0x6B, 0x00, 0x00, 0x00, 0x00, 0x6D, 0x61, 0x72, 0x6B, 0x00, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'alias',\n\t\t\t\tmime: 'application/x.apple.alias', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Kaydara FBX Binary  \\u0000')) {\n\t\t\treturn {\n\t\t\t\text: 'fbx',\n\t\t\t\tmime: 'application/x.autodesk.fbx', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x4C, 0x50], {offset: 34})\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x00, 0x01], {offset: 8})\n\t\t\t\t|| this.check([0x01, 0x00, 0x02], {offset: 8})\n\t\t\t\t|| this.check([0x02, 0x00, 0x02], {offset: 8})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'eot',\n\t\t\t\tmime: 'application/vnd.ms-fontobject',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x06, 0x06, 0xED, 0xF5, 0xD8, 0x1D, 0x46, 0xE5, 0xBD, 0x31, 0xEF, 0xE7, 0xFE, 0x74, 0xB7, 0x1D])) {\n\t\t\treturn {\n\t\t\t\text: 'indd',\n\t\t\t\tmime: 'application/x-indesign',\n\t\t\t};\n\t\t}\n\n\t\t// Increase sample size from 256 to 512\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(512, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\t// Requires a buffer size of 512 bytes\n\t\tif ((this.checkString('ustar', {offset: 257}) && (this.checkString('\\0', {offset: 262}) || this.checkString(' ', {offset: 262})))\n\t\t\t|| (this.check([0, 0, 0, 0, 0, 0], {offset: 257}) && tarHeaderChecksumMatches(this.buffer))) {\n\t\t\treturn {\n\t\t\t\text: 'tar',\n\t\t\t\tmime: 'application/x-tar',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFF, 0xFE])) { // UTF-16-BOM-BE\n\t\t\tif (this.check([60, 0, 63, 0, 120, 0, 109, 0, 108, 0], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'xml',\n\t\t\t\t\tmime: 'application/xml',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0xFF, 0x0E, 0x53, 0x00, 0x6B, 0x00, 0x65, 0x00, 0x74, 0x00, 0x63, 0x00, 0x68, 0x00, 0x55, 0x00, 0x70, 0x00, 0x20, 0x00, 0x4D, 0x00, 0x6F, 0x00, 0x64, 0x00, 0x65, 0x00, 0x6C, 0x00], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'skp',\n\t\t\t\t\tmime: 'application/vnd.sketchup.skp',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn undefined; // Some text based format\n\t\t}\n\n\t\tif (this.checkString('-----BEGIN PGP MESSAGE-----')) {\n\t\t\treturn {\n\t\t\t\text: 'pgp',\n\t\t\t\tmime: 'application/pgp-encrypted',\n\t\t\t};\n\t\t}\n\t};\n\t// Detections with limited supporting data, resulting in a higher likelihood of false positives\n\tdetectImprecise = async tokenizer => {\n\t\tthis.buffer = new Uint8Array(reasonableDetectionSizeInBytes);\n\n\t\t// Read initial sample size of 8 bytes\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(8, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\tif (\n\t\t\tthis.check([0x0, 0x0, 0x1, 0xBA])\n\t\t\t|| this.check([0x0, 0x0, 0x1, 0xB3])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mpg',\n\t\t\t\tmime: 'video/mpeg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ttf',\n\t\t\t\tmime: 'font/ttf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x01, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ico',\n\t\t\t\tmime: 'image/x-icon',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x02, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'cur',\n\t\t\t\tmime: 'image/x-icon',\n\t\t\t};\n\t\t}\n\n\t\t// Adjust buffer to `mpegOffsetTolerance`\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(2 + this.options.mpegOffsetTolerance, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\t// Check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE)\n\t\tif (this.buffer.length >= (2 + this.options.mpegOffsetTolerance)) {\n\t\t\tfor (let depth = 0; depth <= this.options.mpegOffsetTolerance; ++depth) {\n\t\t\t\tconst type = this.scanMpeg(depth);\n\t\t\t\tif (type) {\n\t\t\t\t\treturn type;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tasync readTiffTag(bigEndian) {\n\t\tconst tagId = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n\t\tthis.tokenizer.ignore(10);\n\t\tswitch (tagId) {\n\t\t\tcase 50_341:\n\t\t\t\treturn {\n\t\t\t\t\text: 'arw',\n\t\t\t\t\tmime: 'image/x-sony-arw',\n\t\t\t\t};\n\t\t\tcase 50_706:\n\t\t\t\treturn {\n\t\t\t\t\text: 'dng',\n\t\t\t\t\tmime: 'image/x-adobe-dng',\n\t\t\t\t};\n\t\t\tdefault:\n\t\t}\n\t}\n\n\tasync readTiffIFD(bigEndian) {\n\t\tconst numberOfTags = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n\t\tfor (let n = 0; n < numberOfTags; ++n) {\n\t\t\tconst fileType = await this.readTiffTag(bigEndian);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync readTiffHeader(bigEndian) {\n\t\tconst version = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 2);\n\t\tconst ifdOffset = (bigEndian ? Token.UINT32_BE : Token.UINT32_LE).get(this.buffer, 4);\n\n\t\tif (version === 42) {\n\t\t\t// TIFF file header\n\t\t\tif (ifdOffset >= 6) {\n\t\t\t\tif (this.checkString('CR', {offset: 8})) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'cr2',\n\t\t\t\t\t\tmime: 'image/x-canon-cr2',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (ifdOffset >= 8) {\n\t\t\t\t\tconst someId1 = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 8);\n\t\t\t\t\tconst someId2 = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 10);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t(someId1 === 0x1C && someId2 === 0xFE)\n\t\t\t\t\t\t|| (someId1 === 0x1F && someId2 === 0x0B)) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'nef',\n\t\t\t\t\t\t\tmime: 'image/x-nikon-nef',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait this.tokenizer.ignore(ifdOffset);\n\t\t\tconst fileType = await this.readTiffIFD(bigEndian);\n\t\t\treturn fileType ?? {\n\t\t\t\text: 'tif',\n\t\t\t\tmime: 'image/tiff',\n\t\t\t};\n\t\t}\n\n\t\tif (version === 43) {\t// Big TIFF file header\n\t\t\treturn {\n\t\t\t\text: 'tif',\n\t\t\t\tmime: 'image/tiff',\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\tScan check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE).\n\n\t@param offset - Offset to scan for sync-preamble.\n\t@returns {{ext: string, mime: string}}\n\t*/\n\tscanMpeg(offset) {\n\t\tif (this.check([0xFF, 0xE0], {offset, mask: [0xFF, 0xE0]})) {\n\t\t\tif (this.check([0x10], {offset: offset + 1, mask: [0x16]})) {\n\t\t\t\t// Check for (ADTS) MPEG-2\n\t\t\t\tif (this.check([0x08], {offset: offset + 1, mask: [0x08]})) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'aac',\n\t\t\t\t\t\tmime: 'audio/aac',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Must be (ADTS) MPEG-4\n\t\t\t\treturn {\n\t\t\t\t\text: 'aac',\n\t\t\t\t\tmime: 'audio/aac',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// MPEG 1 or 2 Layer 3 header\n\t\t\t// Check for MPEG layer 3\n\t\t\tif (this.check([0x02], {offset: offset + 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp3',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Check for MPEG layer 2\n\t\t\tif (this.check([0x04], {offset: offset + 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp2',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Check for MPEG layer 1\n\t\t\tif (this.check([0x06], {offset: offset + 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp1',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport const supportedExtensions = new Set(extensions);\nexport const supportedMimeTypes = new Set(mimeTypes);\n", "/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n *\n * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191\n * Allow same range as cookie value, except `=`, which delimits end of name.\n */\nconst cookieNameRegExp = /^[\\u0021-\\u003A\\u003C\\u003E-\\u007E]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n *\n * Allowing more characters: https://github.com/jshttp/cookie/issues/191\n * Comma, backslash, and DQUOTE are not part of the parsing algorithm.\n */\nconst cookieValueRegExp = /^[\\u0021-\\u003A\\u003C-\\u007E]*$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp =\n  /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\nconst __toString = Object.prototype.toString;\n\nconst NullObject = /* @__PURE__ */ (() => {\n  const C = function () {};\n  C.prototype = Object.create(null);\n  return C;\n})() as unknown as { new (): any };\n\n/**\n * Parse options.\n */\nexport interface ParseOptions {\n  /**\n   * Specifies a function that will be used to decode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since the value of a cookie has a limited character set (and must be a simple string), this function can be used to decode\n   * a previously-encoded cookie value into a JavaScript string.\n   *\n   * The default function is the global `decodeURIComponent`, wrapped in a `try..catch`. If an error\n   * is thrown it will return the cookie's original value. If you provide your own encode/decode\n   * scheme you must ensure errors are appropriately handled.\n   *\n   * @default decode\n   */\n  decode?: (str: string) => string | undefined;\n}\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nexport function parse(\n  str: string,\n  options?: ParseOptions,\n): Record<string, string | undefined> {\n  const obj: Record<string, string | undefined> = new NullObject();\n  const len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  const dec = options?.decode || decode;\n  let index = 0;\n\n  do {\n    const eqIdx = str.indexOf(\"=\", index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    const colonIdx = str.indexOf(\";\", index);\n    const endIdx = colonIdx === -1 ? len : colonIdx;\n\n    if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n      continue;\n    }\n\n    const keyStartIdx = startIndex(str, index, eqIdx);\n    const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    const key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (obj[key] === undefined) {\n      let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      let valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      const value = dec(str.slice(valStartIdx, valEndIdx));\n      obj[key] = value;\n    }\n\n    index = endIdx + 1;\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str: string, index: number, max: number) {\n  do {\n    const code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str: string, index: number, min: number) {\n  while (index > min) {\n    const code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize options.\n */\nexport interface SerializeOptions {\n  /**\n   * Specifies a function that will be used to encode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since value of a cookie has a limited character set (and must be a simple string), this function can be used to encode\n   * a value into a string suited for a cookie's value, and should mirror `decode` when parsing.\n   *\n   * @default encodeURIComponent\n   */\n  encode?: (str: string) => string;\n  /**\n   * Specifies the `number` (in seconds) to be the value for the [`Max-Age` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.2).\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  maxAge?: number;\n  /**\n   * Specifies the `Date` object to be the value for the [`Expires` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.1).\n   * When no expiration is set clients consider this a \"non-persistent cookie\" and delete it the current session is over.\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  expires?: Date;\n  /**\n   * Specifies the value for the [`Domain` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.3).\n   * When no domain is set clients consider the cookie to apply to the current domain only.\n   */\n  domain?: string;\n  /**\n   * Specifies the value for the [`Path` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.4).\n   * When no path is set, the path is considered the [\"default path\"](https://tools.ietf.org/html/rfc6265#section-5.1.4).\n   */\n  path?: string;\n  /**\n   * Enables the [`HttpOnly` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.6).\n   * When enabled, clients will not allow client-side JavaScript to see the cookie in `document.cookie`.\n   */\n  httpOnly?: boolean;\n  /**\n   * Enables the [`Secure` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.5).\n   * When enabled, clients will only send the cookie back if the browser has a HTTPS connection.\n   */\n  secure?: boolean;\n  /**\n   * Enables the [`Partitioned` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-cutler-httpbis-partitioned-cookies/).\n   * When enabled, clients will only send the cookie back when the current domain _and_ top-level domain matches.\n   *\n   * This is an attribute that has not yet been fully standardized, and may change in the future.\n   * This also means clients may ignore this attribute until they understand it. More information\n   * about can be found in [the proposal](https://github.com/privacycg/CHIPS).\n   */\n  partitioned?: boolean;\n  /**\n   * Specifies the value for the [`Priority` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   *\n   * - `'low'` will set the `Priority` attribute to `Low`.\n   * - `'medium'` will set the `Priority` attribute to `Medium`, the default priority when not set.\n   * - `'high'` will set the `Priority` attribute to `High`.\n   *\n   * More information about priority levels can be found in [the specification](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   */\n  priority?: \"low\" | \"medium\" | \"high\";\n  /**\n   * Specifies the value for the [`SameSite` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   *\n   * - `true` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   * - `'lax'` will set the `SameSite` attribute to `Lax` for lax same site enforcement.\n   * - `'none'` will set the `SameSite` attribute to `None` for an explicit cross-site cookie.\n   * - `'strict'` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   *\n   * More information about enforcement levels can be found in [the specification](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   */\n  sameSite?: boolean | \"lax\" | \"strict\" | \"none\";\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nexport function serialize(\n  name: string,\n  val: string,\n  options?: SerializeOptions,\n): string {\n  const enc = options?.encode || encodeURIComponent;\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError(`argument name is invalid: ${name}`);\n  }\n\n  const value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError(`argument val is invalid: ${val}`);\n  }\n\n  let str = name + \"=\" + value;\n  if (!options) return str;\n\n  if (options.maxAge !== undefined) {\n    if (!Number.isInteger(options.maxAge)) {\n      throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n    }\n\n    str += \"; Max-Age=\" + options.maxAge;\n  }\n\n  if (options.domain) {\n    if (!domainValueRegExp.test(options.domain)) {\n      throw new TypeError(`option domain is invalid: ${options.domain}`);\n    }\n\n    str += \"; Domain=\" + options.domain;\n  }\n\n  if (options.path) {\n    if (!pathValueRegExp.test(options.path)) {\n      throw new TypeError(`option path is invalid: ${options.path}`);\n    }\n\n    str += \"; Path=\" + options.path;\n  }\n\n  if (options.expires) {\n    if (\n      !isDate(options.expires) ||\n      !Number.isFinite(options.expires.valueOf())\n    ) {\n      throw new TypeError(`option expires is invalid: ${options.expires}`);\n    }\n\n    str += \"; Expires=\" + options.expires.toUTCString();\n  }\n\n  if (options.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n\n  if (options.secure) {\n    str += \"; Secure\";\n  }\n\n  if (options.partitioned) {\n    str += \"; Partitioned\";\n  }\n\n  if (options.priority) {\n    const priority =\n      typeof options.priority === \"string\"\n        ? options.priority.toLowerCase()\n        : undefined;\n    switch (priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n      default:\n        throw new TypeError(`option priority is invalid: ${options.priority}`);\n    }\n  }\n\n  if (options.sameSite) {\n    const sameSite =\n      typeof options.sameSite === \"string\"\n        ? options.sameSite.toLowerCase()\n        : options.sameSite;\n    switch (sameSite) {\n      case true:\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n      default:\n        throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str: string): string {\n  if (str.indexOf(\"%\") === -1) return str;\n\n  try {\n    return decodeURIComponent(str);\n  } catch (e) {\n    return str;\n  }\n}\n\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val: any): val is Date {\n  return __toString.call(val) === \"[object Date]\";\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/somanoda/Documents/program/nostr-embed/.wrangler/tmp/bundle-zdNJy7/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/somanoda/Documents/program/nostr-embed/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/somanoda/Documents/program/nostr-embed/.wrangler/tmp/bundle-zdNJy7/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/somanoda/Documents/program/nostr-embed/.wrangler/tmp/bundle-zdNJy7/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/somanoda/Documents/program/nostr-embed/src/index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/somanoda/Documents/program/nostr-embed/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/somanoda/Documents/program/nostr-embed/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/somanoda/Documents/program/nostr-embed/src/index.ts\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "import { Elysia } from \"elysia\";\nimport { getProfileByNpub, getBadgesByNpub } from \"./nostr\";\nimport { generateProfileSvg } from \"./svg\";\nimport { CloudflareAdapter } from 'elysia/adapter/cloudflare-worker';\n\nexport default new Elysia({\n  adapter: CloudflareAdapter\n})\n  .get(\"/\", () => \"Nostr Profile SVG API - Access /:npub to get profile card\")\n  .get(\"/:npub\", async ({ params: { npub }, set }) => {\n    try {\n      // npub\u306E\u57FA\u672C\u7684\u306A\u30D0\u30EA\u30C7\u30FC\u30B7\u30E7\u30F3\n      if (!npub.startsWith('npub1')) {\n        set.status = 400;\n        return { error: 'Invalid npub format. Must start with npub1' };\n      }\n\n      // Nostr\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u3068\u30D0\u30C3\u30B8\u3092\u4E26\u5217\u3067\u53D6\u5F97\n      const [profile, badges] = await Promise.all([\n        getProfileByNpub(npub),\n        getBadgesByNpub(npub)\n      ]);\n\n      if (!profile) {\n        set.status = 404;\n        return { error: 'Profile not found or timeout' };\n      }\n\n      // SVG\u3092\u751F\u6210\n      const svg = generateProfileSvg(profile, npub, badges);\n\n      // Content-Type\u3092image/svg+xml\u306B\u8A2D\u5B9A\u3057\u3066Response\u3092\u8FD4\u3059\n      return new Response(svg, {\n        headers: {\n          'Content-Type': 'image/svg+xml',\n          'Cache-Control': 'public, max-age=3600'\n        }\n      });\n    } catch (error) {\n      console.error('Error:', error);\n      set.status = 500;\n      return { error: 'Internal server error' };\n    }\n  })\n  .compile();\n", "var _a;\nimport { Memoirist } from \"memoirist\";\nimport {\n  Kind\n} from \"@sinclair/typebox\";\nimport fastDecodeURIComponent from \"fast-decode-uri-component\";\nimport { t } from \"./type-system/index.mjs\";\nimport { mergeInference, sucrose } from \"./sucrose.mjs\";\nimport { BunAdapter } from \"./adapter/bun/index.mjs\";\nimport { WebStandardAdapter } from \"./adapter/web-standard/index.mjs\";\nimport { env } from \"./universal/env.mjs\";\nimport {\n  cloneInference,\n  deduplicateChecksum,\n  fnToContainer,\n  getLoosePath,\n  localHookToLifeCycleStore,\n  mergeDeep,\n  mergeSchemaValidator,\n  PromiseGroup,\n  promoteEvent,\n  isNotEmpty,\n  encodePath,\n  lifeCycleToArray,\n  supportPerMethodInlineHandler,\n  redirect,\n  emptySchema,\n  insertStandaloneValidator\n} from \"./utils.mjs\";\nimport {\n  coercePrimitiveRoot,\n  stringToStructureCoercions,\n  getSchemaValidator,\n  getResponseSchemaValidator,\n  getCookieValidator,\n  queryCoercions\n} from \"./schema.mjs\";\nimport {\n  composeHandler,\n  composeGeneralHandler,\n  composeErrorHandler\n} from \"./compose.mjs\";\nimport { createTracer } from \"./trace.mjs\";\nimport {\n  mergeHook,\n  checksum,\n  mergeLifeCycle,\n  filterGlobalHook,\n  asHookType,\n  replaceUrlPath\n} from \"./utils.mjs\";\nimport {\n  createDynamicErrorHandler,\n  createDynamicHandler\n} from \"./dynamic-handle.mjs\";\nimport {\n  status,\n  ERROR_CODE,\n  ValidationError\n} from \"./error.mjs\";\n_a = Symbol.dispose;\nconst _Elysia = class _Elysia {\n  constructor(config = {}) {\n    this.server = null;\n    this.dependencies = {};\n    this[\"~Prefix\"] = \"\";\n    this[\"~Singleton\"] = null;\n    this[\"~Definitions\"] = null;\n    this[\"~Metadata\"] = null;\n    this[\"~Ephemeral\"] = null;\n    this[\"~Volatile\"] = null;\n    this[\"~Routes\"] = null;\n    this.singleton = {\n      decorator: {},\n      store: {},\n      derive: {},\n      resolve: {}\n    };\n    this.definitions = {\n      typebox: t.Module({}),\n      type: {},\n      error: {}\n    };\n    this.extender = {\n      macro: {},\n      higherOrderFunctions: []\n    };\n    this.validator = {\n      global: null,\n      scoped: null,\n      local: null,\n      getCandidate() {\n        return !this.global && !this.scoped && !this.local ? {\n          body: void 0,\n          headers: void 0,\n          params: void 0,\n          query: void 0,\n          cookie: void 0,\n          response: void 0\n        } : mergeSchemaValidator(\n          mergeSchemaValidator(this.global, this.scoped),\n          this.local\n        );\n      }\n    };\n    this.standaloneValidator = {\n      global: null,\n      scoped: null,\n      local: null\n    };\n    this.event = {};\n    this.router = {\n      \"~http\": void 0,\n      get http() {\n        return this[\"~http\"] || (this[\"~http\"] = new Memoirist({\n          lazy: !0,\n          onParam: fastDecodeURIComponent\n        })), this[\"~http\"];\n      },\n      \"~dynamic\": void 0,\n      // Use in non-AOT mode\n      get dynamic() {\n        return this[\"~dynamic\"] || (this[\"~dynamic\"] = new Memoirist({\n          onParam: fastDecodeURIComponent\n        })), this[\"~dynamic\"];\n      },\n      // Static Router\n      static: {},\n      // Native Static Response\n      response: {},\n      history: []\n    };\n    this.routeTree = {};\n    this.inference = {\n      body: !1,\n      cookie: !1,\n      headers: !1,\n      query: !1,\n      set: !1,\n      server: !1,\n      path: !1,\n      route: !1,\n      url: !1\n    };\n    this[\"~parser\"] = {};\n    this.handle = async (request) => this.fetch(request);\n    /**\n     * Use handle can be either sync or async to save performance.\n     *\n     * Beside benchmark purpose, please use 'handle' instead.\n     */\n    this.fetch = (request) => (this.fetch = this.config.aot ? composeGeneralHandler(this) : createDynamicHandler(this))(request);\n    this.handleError = async (context, error) => (this.handleError = this.config.aot ? composeErrorHandler(this) : createDynamicErrorHandler(this))(context, error);\n    /**\n     * ### listen\n     * Assign current instance to port and start serving\n     *\n     * ---\n     * @example\n     * ```typescript\n     * new Elysia()\n     *     .get(\"/\", () => 'hi')\n     *     .listen(3000)\n     * ```\n     */\n    this.listen = (options, callback) => (this[\"~adapter\"].listen(this)(options, callback), this);\n    /**\n     * ### stop\n     * Stop server from serving\n     *\n     * ---\n     * @example\n     * ```typescript\n     * const app = new Elysia()\n     *     .get(\"/\", () => 'hi')\n     *     .listen(3000)\n     *\n     * // Sometime later\n     * app.stop()\n     * ```\n     *\n     * @example\n     * ```typescript\n     * const app = new Elysia()\n     *     .get(\"/\", () => 'hi')\n     *     .listen(3000)\n     *\n     * app.stop(true) // Abruptly any requests inflight\n     * ```\n     */\n    this.stop = async (closeActiveConnections) => (await this[\"~adapter\"].stop?.(this, closeActiveConnections), this);\n    this[_a] = () => {\n      this.server && this.stop();\n    };\n    config.tags && (config.detail ? config.detail.tags = config.tags : config.detail = {\n      tags: config.tags\n    }), this.config = {\n      aot: env.ELYSIA_AOT !== \"false\",\n      nativeStaticResponse: !0,\n      systemRouter: !0,\n      encodeSchema: !0,\n      normalize: !0,\n      ...config,\n      prefix: config.prefix ? config.prefix.charCodeAt(0) === 47 ? config.prefix : `/${config.prefix}` : void 0,\n      cookie: {\n        path: \"/\",\n        ...config?.cookie\n      },\n      experimental: config?.experimental ?? {},\n      seed: config?.seed === void 0 ? \"\" : config?.seed\n    }, this[\"~adapter\"] = config.adapter ?? (typeof Bun < \"u\" ? BunAdapter : WebStandardAdapter), config?.analytic && (config?.name || config?.seed !== void 0) && (this.telemetry = {\n      stack: new Error().stack\n    });\n  }\n  get store() {\n    return this.singleton.store;\n  }\n  get decorator() {\n    return this.singleton.decorator;\n  }\n  get routes() {\n    return this.router.history;\n  }\n  getGlobalRoutes() {\n    return this.router.history;\n  }\n  getGlobalDefinitions() {\n    return this.definitions;\n  }\n  getServer() {\n    return this.server;\n  }\n  getParent() {\n    return null;\n  }\n  get promisedModules() {\n    return this._promisedModules || (this._promisedModules = new PromiseGroup(console.error, () => {\n    })), this._promisedModules;\n  }\n  env(model, _env = env) {\n    if (getSchemaValidator(model, {\n      modules: this.definitions.typebox,\n      dynamic: !0,\n      additionalProperties: !0,\n      coerce: !0,\n      sanitize: () => this.config.sanitize\n    }).Check(_env) === !1) {\n      const error = new ValidationError(\"env\", model, _env);\n      throw new Error(error.all.map((x) => x.summary).join(`\n`));\n    }\n    return this;\n  }\n  /**\n   * @private DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n   * @version 1.1.0\n   *\n   * ! Do not use unless you know exactly what you are doing\n   * ? Add Higher order function to Elysia.fetch\n   */\n  wrap(fn) {\n    return this.extender.higherOrderFunctions.push({\n      checksum: checksum(\n        JSON.stringify({\n          name: this.config.name,\n          seed: this.config.seed,\n          content: fn.toString()\n        })\n      ),\n      fn\n    }), this;\n  }\n  get models() {\n    const models = {};\n    for (const name of Object.keys(this.definitions.type))\n      models[name] = getSchemaValidator(\n        this.definitions.typebox.Import(name)\n      );\n    return models.modules = this.definitions.typebox, models;\n  }\n  add(method, path, handle, localHook, options) {\n    const skipPrefix = options?.skipPrefix ?? !1, allowMeta = options?.allowMeta ?? !1;\n    localHook ??= {}, this.applyMacro(localHook);\n    let standaloneValidators = [];\n    if (localHook.standaloneValidator && (standaloneValidators = standaloneValidators.concat(\n      localHook.standaloneValidator\n    )), this.standaloneValidator.local && (standaloneValidators = standaloneValidators.concat(\n      this.standaloneValidator.local\n    )), this.standaloneValidator.scoped && (standaloneValidators = standaloneValidators.concat(\n      this.standaloneValidator.scoped\n    )), this.standaloneValidator.global && (standaloneValidators = standaloneValidators.concat(\n      this.standaloneValidator.global\n    )), path !== \"\" && path.charCodeAt(0) !== 47 && (path = \"/\" + path), this.config.prefix && !skipPrefix && (path = this.config.prefix + path), localHook?.type)\n      switch (localHook.type) {\n        case \"text\":\n          localHook.type = \"text/plain\";\n          break;\n        case \"json\":\n          localHook.type = \"application/json\";\n          break;\n        case \"formdata\":\n          localHook.type = \"multipart/form-data\";\n          break;\n        case \"urlencoded\":\n          localHook.type = \"application/x-www-form-urlencoded\";\n          break;\n        case \"arrayBuffer\":\n          localHook.type = \"application/octet-stream\";\n          break;\n        default:\n          break;\n      }\n    const instanceValidator = this.validator.getCandidate(), cloned = {\n      body: localHook?.body ?? instanceValidator?.body,\n      headers: localHook?.headers ?? instanceValidator?.headers,\n      params: localHook?.params ?? instanceValidator?.params,\n      query: localHook?.query ?? instanceValidator?.query,\n      cookie: localHook?.cookie ?? instanceValidator?.cookie,\n      response: localHook?.response ?? instanceValidator?.response\n    }, shouldPrecompile = this.config.precompile === !0 || typeof this.config.precompile == \"object\" && this.config.precompile.compose === !0, createValidator = () => {\n      const models = this.definitions.type, dynamic = !this.config.aot, normalize = this.config.normalize, modules = this.definitions.typebox, sanitize = () => this.config.sanitize, cookieValidator = () => {\n        if (cloned.cookie || standaloneValidators.find((x) => x.cookie))\n          return getCookieValidator({\n            modules,\n            validator: cloned.cookie,\n            defaultConfig: this.config.cookie,\n            normalize,\n            config: cloned.cookie?.config ?? {},\n            dynamic,\n            models,\n            validators: standaloneValidators.map((x) => x.cookie),\n            sanitize\n          });\n      };\n      return shouldPrecompile ? {\n        body: getSchemaValidator(cloned.body, {\n          modules,\n          dynamic,\n          models,\n          normalize,\n          additionalCoerce: coercePrimitiveRoot(),\n          validators: standaloneValidators.map((x) => x.body),\n          sanitize\n        }),\n        headers: getSchemaValidator(cloned.headers, {\n          modules,\n          dynamic,\n          models,\n          additionalProperties: !0,\n          coerce: !0,\n          additionalCoerce: stringToStructureCoercions(),\n          validators: standaloneValidators.map(\n            (x) => x.headers\n          ),\n          sanitize\n        }),\n        params: getSchemaValidator(cloned.params, {\n          modules,\n          dynamic,\n          models,\n          coerce: !0,\n          additionalCoerce: stringToStructureCoercions(),\n          validators: standaloneValidators.map(\n            (x) => x.params\n          ),\n          sanitize\n        }),\n        query: getSchemaValidator(cloned.query, {\n          modules,\n          dynamic,\n          models,\n          normalize,\n          coerce: !0,\n          additionalCoerce: queryCoercions(),\n          validators: standaloneValidators.map(\n            (x) => x.query\n          ),\n          sanitize\n        }),\n        cookie: cookieValidator(),\n        response: getResponseSchemaValidator(cloned.response, {\n          modules,\n          dynamic,\n          models,\n          normalize,\n          validators: standaloneValidators.map(\n            (x) => x.response\n          ),\n          sanitize\n        })\n      } : {\n        createBody() {\n          return this.body ? this.body : this.body = getSchemaValidator(\n            cloned.body,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              additionalCoerce: coercePrimitiveRoot(),\n              validators: standaloneValidators.map(\n                (x) => x.body\n              ),\n              sanitize\n            }\n          );\n        },\n        createHeaders() {\n          return this.headers ? this.headers : this.headers = getSchemaValidator(\n            cloned.headers,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              additionalProperties: !normalize,\n              coerce: !0,\n              additionalCoerce: stringToStructureCoercions(),\n              validators: standaloneValidators.map(\n                (x) => x.headers\n              ),\n              sanitize\n            }\n          );\n        },\n        createParams() {\n          return this.params ? this.params : this.params = getSchemaValidator(\n            cloned.params,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              coerce: !0,\n              additionalCoerce: stringToStructureCoercions(),\n              validators: standaloneValidators.map(\n                (x) => x.params\n              ),\n              sanitize\n            }\n          );\n        },\n        createQuery() {\n          return this.query ? this.query : this.query = getSchemaValidator(\n            cloned.query,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              coerce: !0,\n              additionalCoerce: queryCoercions(),\n              validators: standaloneValidators.map(\n                (x) => x.query\n              ),\n              sanitize\n            }\n          );\n        },\n        createCookie() {\n          return this.cookie ? this.cookie : this.cookie = cookieValidator();\n        },\n        createResponse() {\n          return this.response ? this.response : this.response = getResponseSchemaValidator(\n            cloned.response,\n            {\n              modules,\n              dynamic,\n              models,\n              normalize,\n              validators: standaloneValidators.map(\n                (x) => x.response\n              ),\n              sanitize\n            }\n          );\n        }\n      };\n    };\n    (instanceValidator.body || instanceValidator.cookie || instanceValidator.headers || instanceValidator.params || instanceValidator.query || instanceValidator.response) && (localHook = mergeHook(localHook, instanceValidator)), localHook.tags && (localHook.detail ? localHook.detail.tags = localHook.tags : localHook.detail = {\n      tags: localHook.tags\n    }), isNotEmpty(this.config.detail) && (localHook.detail = mergeDeep(\n      Object.assign({}, this.config.detail),\n      localHook.detail\n    ));\n    const hooks = isNotEmpty(this.event) ? mergeHook(this.event, localHookToLifeCycleStore(localHook)) : { ...lifeCycleToArray(localHookToLifeCycleStore(localHook)) };\n    if (standaloneValidators.length && Object.assign(hooks, {\n      standaloneValidator: standaloneValidators\n    }), this.config.aot === !1) {\n      const validator = createValidator();\n      this.router.dynamic.add(method, path, {\n        validator,\n        hooks,\n        content: localHook?.type,\n        handle,\n        route: path\n      });\n      const encoded = encodePath(path, { dynamic: !0 });\n      if (path !== encoded && this.router.dynamic.add(method, encoded, {\n        validator,\n        hooks,\n        content: localHook?.type,\n        handle,\n        route: path\n      }), !this.config.strictPath) {\n        const loosePath = getLoosePath(path);\n        this.router.dynamic.add(method, loosePath, {\n          validator,\n          hooks,\n          content: localHook?.type,\n          handle,\n          route: path\n        });\n        const encoded2 = encodePath(loosePath);\n        loosePath !== encoded2 && this.router.dynamic.add(method, loosePath, {\n          validator,\n          hooks,\n          content: localHook?.type,\n          handle,\n          route: path\n        });\n      }\n      this.router.history.push({\n        method,\n        path,\n        composed: null,\n        handler: handle,\n        compile: void 0,\n        hooks\n      });\n      return;\n    }\n    const adapter = this[\"~adapter\"].handler, nativeStaticHandler = typeof handle != \"function\" ? () => {\n      const context = {\n        redirect,\n        request: this[\"~adapter\"].isWebStandard ? new Request(`http://ely.sia${path}`, {\n          method\n        }) : void 0,\n        server: null,\n        set: {\n          headers: Object.assign({}, this.setHeaders)\n        },\n        status,\n        store: this.store\n      };\n      try {\n        this.event.request?.map((x) => {\n          if (typeof x.fn == \"function\")\n            return x.fn(context);\n          if (typeof x == \"function\") return x(context);\n        });\n      } catch (error) {\n        let res;\n        context.error = error, this.event.error?.some((x) => {\n          if (typeof x.fn == \"function\")\n            return res = x.fn(context);\n          if (typeof x == \"function\")\n            return res = x(context);\n        }), res !== void 0 && (handle = res);\n      }\n      const fn = adapter.createNativeStaticHandler?.(\n        handle,\n        hooks,\n        context.set\n      );\n      return fn instanceof Promise ? fn.then((fn2) => {\n        if (fn2) return fn2;\n      }) : fn?.();\n    } : void 0, useNativeStaticResponse = this.config.nativeStaticResponse === !0, addResponsePath = (path2) => {\n      !useNativeStaticResponse || !nativeStaticHandler || (supportPerMethodInlineHandler ? this.router.response[path2] ? this.router.response[path2][method] = nativeStaticHandler() : this.router.response[path2] = {\n        [method]: nativeStaticHandler()\n      } : this.router.response[path2] = nativeStaticHandler());\n    };\n    addResponsePath(path);\n    let _compiled;\n    const compile = () => _compiled || (_compiled = composeHandler({\n      app: this,\n      path,\n      method,\n      hooks,\n      validator: createValidator(),\n      handler: typeof handle != \"function\" && typeof adapter.createStaticHandler != \"function\" ? () => handle : handle,\n      allowMeta,\n      inference: this.inference\n    }));\n    let oldIndex;\n    if (`${method}_${path}` in this.routeTree)\n      for (let i = 0; i < this.router.history.length; i++) {\n        const route = this.router.history[i];\n        if (route.path === path && route.method === method) {\n          oldIndex = i;\n          break;\n        }\n      }\n    else this.routeTree[`${method}_${path}`] = this.router.history.length;\n    const index = oldIndex ?? this.router.history.length, mainHandler = shouldPrecompile ? compile() : (ctx) => (this.router.history[index].composed = compile())(ctx);\n    oldIndex !== void 0 ? this.router.history[oldIndex] = Object.assign(\n      {\n        method,\n        path,\n        composed: mainHandler,\n        compile,\n        handler: handle,\n        hooks\n      },\n      standaloneValidators.length ? {\n        standaloneValidators\n      } : void 0,\n      localHook.webSocket ? { websocket: localHook.websocket } : void 0\n    ) : this.router.history.push(\n      Object.assign(\n        {\n          method,\n          path,\n          composed: mainHandler,\n          compile,\n          handler: handle,\n          hooks\n        },\n        localHook.webSocket ? { websocket: localHook.websocket } : void 0\n      )\n    );\n    const handler = {\n      handler: shouldPrecompile ? mainHandler : void 0,\n      compile() {\n        return this.handler = compile();\n      }\n    }, staticRouter = this.router.static, isStaticPath = path.indexOf(\":\") === -1 && path.indexOf(\"*\") === -1;\n    if (method === \"WS\") {\n      if (isStaticPath) {\n        path in staticRouter ? staticRouter[path][method] = index : staticRouter[path] = {\n          [method]: index\n        };\n        return;\n      }\n      this.router.http.add(\"WS\", path, handler), this.config.strictPath || this.router.http.add(\"WS\", getLoosePath(path), handler);\n      const encoded = encodePath(path, { dynamic: !0 });\n      path !== encoded && this.router.http.add(\"WS\", encoded, handler);\n      return;\n    }\n    if (isStaticPath)\n      path in staticRouter ? staticRouter[path][method] = index : staticRouter[path] = {\n        [method]: index\n      }, this.config.strictPath || addResponsePath(getLoosePath(path));\n    else {\n      if (this.router.http.add(method, path, handler), !this.config.strictPath) {\n        const loosePath = getLoosePath(path);\n        addResponsePath(loosePath), this.router.http.add(method, loosePath, handler);\n      }\n      const encoded = encodePath(path, { dynamic: !0 });\n      path !== encoded && (this.router.http.add(method, encoded, handler), addResponsePath(encoded));\n    }\n  }\n  headers(header) {\n    return header ? (this.setHeaders || (this.setHeaders = {}), this.setHeaders = mergeDeep(this.setHeaders, header), this) : this;\n  }\n  /**\n   * ### start | Life cycle event\n   * Called after server is ready for serving\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onStart(({ server }) => {\n   *         console.log(\"Running at ${server?.url}:${server?.port}\")\n   *     })\n   *     .listen(3000)\n   * ```\n   */\n  onStart(handler) {\n    return this.on(\"start\", handler), this;\n  }\n  onRequest(handler) {\n    return this.on(\"request\", handler), this;\n  }\n  onParse(options, handler) {\n    return handler ? this.on(\n      options,\n      \"parse\",\n      handler\n    ) : typeof options == \"string\" ? this.on(\"parse\", this[\"~parser\"][options]) : this.on(\"parse\", options);\n  }\n  /**\n   * ### parse | Life cycle event\n   * Callback function to handle body parsing\n   *\n   * If truthy value is returned, will be assigned to `context.body`\n   * Otherwise will skip the callback and look for the next one.\n   *\n   * Equivalent to Express's body parser\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onParse((request, contentType) => {\n   *         if(contentType === \"application/json\")\n   *             return request.json()\n   *     })\n   * ```\n   */\n  parser(name, parser) {\n    return this[\"~parser\"][name] = parser, this;\n  }\n  onTransform(options, handler) {\n    return handler ? this.on(\n      options,\n      \"transform\",\n      handler\n    ) : this.on(\"transform\", options);\n  }\n  resolve(optionsOrResolve, resolve) {\n    resolve || (resolve = optionsOrResolve, optionsOrResolve = { as: \"local\" });\n    const hook = {\n      subType: \"resolve\",\n      fn: resolve\n    };\n    return this.onBeforeHandle(optionsOrResolve, hook);\n  }\n  mapResolve(optionsOrResolve, mapper) {\n    mapper || (mapper = optionsOrResolve, optionsOrResolve = { as: \"local\" });\n    const hook = {\n      subType: \"mapResolve\",\n      fn: mapper\n    };\n    return this.onBeforeHandle(optionsOrResolve, hook);\n  }\n  onBeforeHandle(options, handler) {\n    return handler ? this.on(\n      options,\n      \"beforeHandle\",\n      handler\n    ) : this.on(\"beforeHandle\", options);\n  }\n  onAfterHandle(options, handler) {\n    return handler ? this.on(\n      options,\n      \"afterHandle\",\n      handler\n    ) : this.on(\"afterHandle\", options);\n  }\n  mapResponse(options, handler) {\n    return handler ? this.on(\n      options,\n      \"mapResponse\",\n      handler\n    ) : this.on(\"mapResponse\", options);\n  }\n  onAfterResponse(options, handler) {\n    return handler ? this.on(\n      options,\n      \"afterResponse\",\n      handler\n    ) : this.on(\"afterResponse\", options);\n  }\n  /**\n   * ### After Handle | Life cycle event\n   * Intercept request **after** main handler is called.\n   *\n   * If truthy value is returned, will be assigned as `Response`\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onAfterHandle((context, response) => {\n   *         if(typeof response === \"object\")\n   *             return JSON.stringify(response)\n   *     })\n   * ```\n   */\n  trace(options, handler) {\n    handler || (handler = options, options = { as: \"local\" }), Array.isArray(handler) || (handler = [handler]);\n    for (const fn of handler)\n      this.on(\n        options,\n        \"trace\",\n        createTracer(fn)\n      );\n    return this;\n  }\n  error(name, error) {\n    switch (typeof name) {\n      case \"string\":\n        return error.prototype[ERROR_CODE] = name, this.definitions.error[name] = error, this;\n      case \"function\":\n        return this.definitions.error = name(this.definitions.error), this;\n    }\n    for (const [code, error2] of Object.entries(name))\n      error2.prototype[ERROR_CODE] = code, this.definitions.error[code] = error2;\n    return this;\n  }\n  /**\n   * ### Error | Life cycle event\n   * Called when error is thrown during processing request\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onError(({ code }) => {\n   *         if(code === \"NOT_FOUND\")\n   *             return \"Path not found :(\"\n   *     })\n   * ```\n   */\n  onError(options, handler) {\n    return handler ? this.on(\n      options,\n      \"error\",\n      handler\n    ) : this.on(\"error\", options);\n  }\n  /**\n   * ### stop | Life cycle event\n   * Called after server stop serving request\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .onStop((app) => {\n   *         cleanup()\n   *     })\n   * ```\n   */\n  onStop(handler) {\n    return this.on(\"stop\", handler), this;\n  }\n  on(optionsOrType, typeOrHandlers, handlers) {\n    let type;\n    switch (typeof optionsOrType) {\n      case \"string\":\n        type = optionsOrType, handlers = typeOrHandlers;\n        break;\n      case \"object\":\n        type = typeOrHandlers, !Array.isArray(typeOrHandlers) && typeof typeOrHandlers == \"object\" && (handlers = typeOrHandlers);\n        break;\n    }\n    Array.isArray(handlers) ? handlers = fnToContainer(handlers) : typeof handlers == \"function\" ? handlers = [\n      {\n        fn: handlers\n      }\n    ] : handlers = [handlers];\n    const handles = handlers;\n    for (const handle of handles)\n      handle.scope = typeof optionsOrType == \"string\" ? \"local\" : optionsOrType?.as ?? \"local\", (type === \"resolve\" || type === \"derive\") && (handle.subType = type);\n    type !== \"trace\" && (this.inference = sucrose(\n      {\n        [type]: handles.map((x) => x.fn)\n      },\n      this.inference,\n      this.config.sucrose\n    ));\n    for (const handle of handles) {\n      const fn = asHookType(handle, \"global\", { skipIfHasType: !0 });\n      switch (type) {\n        case \"start\":\n          this.event.start ??= [], this.event.start.push(fn);\n          break;\n        case \"request\":\n          this.event.request ??= [], this.event.request.push(fn);\n          break;\n        case \"parse\":\n          this.event.parse ??= [], this.event.parse.push(fn);\n          break;\n        case \"transform\":\n          this.event.transform ??= [], this.event.transform.push(fn);\n          break;\n        // @ts-expect-error\n        case \"derive\":\n          this.event.transform ??= [], this.event.transform.push(\n            fnToContainer(fn, \"derive\")\n          );\n          break;\n        case \"beforeHandle\":\n          this.event.beforeHandle ??= [], this.event.beforeHandle.push(fn);\n          break;\n        // @ts-expect-error\n        // eslint-disable-next-line sonarjs/no-duplicated-branches\n        case \"resolve\":\n          this.event.beforeHandle ??= [], this.event.beforeHandle.push(\n            fnToContainer(fn, \"resolve\")\n          );\n          break;\n        case \"afterHandle\":\n          this.event.afterHandle ??= [], this.event.afterHandle.push(fn);\n          break;\n        case \"mapResponse\":\n          this.event.mapResponse ??= [], this.event.mapResponse.push(fn);\n          break;\n        case \"afterResponse\":\n          this.event.afterResponse ??= [], this.event.afterResponse.push(fn);\n          break;\n        case \"trace\":\n          this.event.trace ??= [], this.event.trace.push(fn);\n          break;\n        case \"error\":\n          this.event.error ??= [], this.event.error.push(fn);\n          break;\n        case \"stop\":\n          this.event.stop ??= [], this.event.stop.push(fn);\n          break;\n      }\n    }\n    return this;\n  }\n  as(type) {\n    return promoteEvent(this.event.parse, type), promoteEvent(this.event.transform, type), promoteEvent(this.event.beforeHandle, type), promoteEvent(this.event.afterHandle, type), promoteEvent(this.event.mapResponse, type), promoteEvent(this.event.afterResponse, type), promoteEvent(this.event.trace, type), promoteEvent(this.event.error, type), type === \"scoped\" ? (this.validator.scoped = mergeSchemaValidator(\n      this.validator.scoped,\n      this.validator.local\n    ), this.validator.local = null, this.standaloneValidator.local !== null && (this.standaloneValidator.scoped ||= [], this.standaloneValidator.scoped.push(\n      ...this.standaloneValidator.local\n    ), this.standaloneValidator.local = null)) : type === \"global\" && (this.validator.global = mergeSchemaValidator(\n      this.validator.global,\n      mergeSchemaValidator(\n        this.validator.scoped,\n        this.validator.local\n      )\n    ), this.validator.scoped = null, this.validator.local = null, this.standaloneValidator.local !== null && (this.standaloneValidator.scoped ||= [], this.standaloneValidator.scoped.push(\n      ...this.standaloneValidator.local\n    ), this.standaloneValidator.local = null), this.standaloneValidator.scoped !== null && (this.standaloneValidator.global ||= [], this.standaloneValidator.global.push(\n      ...this.standaloneValidator.scoped\n    ), this.standaloneValidator.scoped = null)), this;\n  }\n  /**\n   * ### group\n   * Encapsulate and group path with prefix\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .group('/v1', app => app\n   *         .get('/', () => 'Hi')\n   *         .get('/name', () => 'Elysia')\n   *     })\n   * ```\n   */\n  group(prefix, schemaOrRun, run) {\n    const instance = new _Elysia({\n      ...this.config,\n      prefix: \"\"\n    });\n    instance.singleton = { ...this.singleton }, instance.definitions = { ...this.definitions }, instance.getServer = () => this.getServer(), instance.inference = cloneInference(this.inference), instance.extender = { ...this.extender }, instance[\"~parser\"] = this[\"~parser\"], instance.standaloneValidator = {\n      local: [...this.standaloneValidator.local ?? []],\n      scoped: [...this.standaloneValidator.scoped ?? []],\n      global: [...this.standaloneValidator.global ?? []]\n    };\n    const isSchema = typeof schemaOrRun == \"object\", sandbox = (isSchema ? run : schemaOrRun)(instance);\n    return this.singleton = mergeDeep(this.singleton, instance.singleton), this.definitions = mergeDeep(this.definitions, instance.definitions), sandbox.event.request?.length && (this.event.request = [\n      ...this.event.request || [],\n      ...sandbox.event.request || []\n    ]), sandbox.event.mapResponse?.length && (this.event.mapResponse = [\n      ...this.event.mapResponse || [],\n      ...sandbox.event.mapResponse || []\n    ]), this.model(sandbox.definitions.type), Object.values(instance.router.history).forEach(\n      ({ method, path, handler, hooks }) => {\n        if (path = (isSchema ? \"\" : this.config.prefix ?? \"\") + prefix + path, isSchema) {\n          const {\n            body,\n            headers,\n            query,\n            params,\n            cookie,\n            response,\n            ...hook\n          } = schemaOrRun, localHook = hooks, hasStandaloneSchema = body || headers || query || params || cookie || response;\n          this.add(\n            method,\n            path,\n            handler,\n            mergeHook(hook, {\n              ...localHook || {},\n              error: localHook.error ? Array.isArray(localHook.error) ? [\n                ...localHook.error ?? [],\n                ...sandbox.event.error ?? []\n              ] : [\n                localHook.error,\n                ...sandbox.event.error ?? []\n              ] : sandbox.event.error,\n              standaloneValidator: hasStandaloneSchema ? [\n                ...localHook.standaloneValidator ?? [],\n                {\n                  body,\n                  headers,\n                  query,\n                  params,\n                  cookie,\n                  response\n                }\n              ] : localHook.standaloneValidator\n            }),\n            void 0\n          );\n        } else\n          this.add(\n            method,\n            path,\n            handler,\n            mergeHook(hooks, {\n              error: sandbox.event.error\n            }),\n            {\n              skipPrefix: !0\n            }\n          );\n      }\n    ), this;\n  }\n  /**\n   * ### guard\n   * Encapsulate and pass hook into all child handler\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { t } from 'elysia'\n   *\n   * new Elysia()\n   *     .guard({\n   *          body: t.Object({\n   *              username: t.String(),\n   *              password: t.String()\n   *          })\n   *     }, app => app\n   *         .get(\"/\", () => 'Hi')\n   *         .get(\"/name\", () => 'Elysia')\n   *     })\n   * ```\n   */\n  guard(hook, run) {\n    if (!run) {\n      if (typeof hook == \"object\") {\n        this.applyMacro(hook), hook.detail && (this.config.detail ? this.config.detail = mergeDeep(\n          Object.assign({}, this.config.detail),\n          hook.detail\n        ) : this.config.detail = hook.detail), hook.tags && (this.config.detail ? this.config.detail.tags = hook.tags : this.config.detail = {\n          tags: hook.tags\n        });\n        const type = hook.as ?? \"local\";\n        if (hook.schema === \"standalone\") {\n          this.standaloneValidator[type] || (this.standaloneValidator[type] = []);\n          const response = hook?.response ? typeof hook.response == \"string\" || Kind in hook.response || \"~standard\" in hook.response ? {\n            200: hook.response\n          } : hook?.response : void 0;\n          this.standaloneValidator[type].push({\n            body: hook.body,\n            headers: hook.headers,\n            params: hook.params,\n            query: hook.query,\n            response,\n            cookie: hook.cookie\n          });\n        } else\n          this.validator[type] = {\n            body: hook.body ?? this.validator[type]?.body,\n            headers: hook.headers ?? this.validator[type]?.headers,\n            params: hook.params ?? this.validator[type]?.params,\n            query: hook.query ?? this.validator[type]?.query,\n            response: hook.response ?? this.validator[type]?.response,\n            cookie: hook.cookie ?? this.validator[type]?.cookie\n          };\n        return hook.parse && this.on({ as: type }, \"parse\", hook.parse), hook.transform && this.on({ as: type }, \"transform\", hook.transform), hook.derive && this.on({ as: type }, \"derive\", hook.derive), hook.beforeHandle && this.on({ as: type }, \"beforeHandle\", hook.beforeHandle), hook.resolve && this.on({ as: type }, \"resolve\", hook.resolve), hook.afterHandle && this.on({ as: type }, \"afterHandle\", hook.afterHandle), hook.mapResponse && this.on({ as: type }, \"mapResponse\", hook.mapResponse), hook.afterResponse && this.on({ as: type }, \"afterResponse\", hook.afterResponse), hook.error && this.on({ as: type }, \"error\", hook.error), this;\n      }\n      return this.guard({}, hook);\n    }\n    const instance = new _Elysia({\n      ...this.config,\n      prefix: \"\"\n    });\n    instance.singleton = { ...this.singleton }, instance.definitions = { ...this.definitions }, instance.inference = cloneInference(this.inference), instance.extender = { ...this.extender }, instance.getServer = () => this.getServer();\n    const sandbox = run(instance);\n    return this.singleton = mergeDeep(this.singleton, instance.singleton), this.definitions = mergeDeep(this.definitions, instance.definitions), sandbox.getServer = () => this.server, sandbox.event.request?.length && (this.event.request = [\n      ...this.event.request || [],\n      ...sandbox.event.request || []\n    ]), sandbox.event.mapResponse?.length && (this.event.mapResponse = [\n      ...this.event.mapResponse || [],\n      ...sandbox.event.mapResponse || []\n    ]), this.model(sandbox.definitions.type), Object.values(instance.router.history).forEach(\n      ({ method, path, handler, hooks: localHook }) => {\n        const {\n          body,\n          headers,\n          query,\n          params,\n          cookie,\n          response,\n          ...guardHook\n        } = hook, hasStandaloneSchema = body || headers || query || params || cookie || response;\n        this.add(\n          method,\n          path,\n          handler,\n          mergeHook(guardHook, {\n            ...localHook || {},\n            error: localHook.error ? Array.isArray(localHook.error) ? [\n              ...localHook.error ?? [],\n              ...sandbox.event.error ?? []\n            ] : [\n              localHook.error,\n              ...sandbox.event.error ?? []\n            ] : sandbox.event.error,\n            standaloneValidator: hasStandaloneSchema ? [\n              ...localHook.standaloneValidator ?? [],\n              {\n                body,\n                headers,\n                query,\n                params,\n                cookie,\n                response\n              }\n            ] : localHook.standaloneValidator\n          })\n        );\n      }\n    ), this;\n  }\n  /**\n   * ### use\n   * Merge separate logic of Elysia with current\n   *\n   * ---\n   * @example\n   * ```typescript\n   * const plugin = (app: Elysia) => app\n   *     .get('/plugin', () => 'hi')\n   *\n   * new Elysia()\n   *     .use(plugin)\n   * ```\n   */\n  use(plugin) {\n    if (!plugin) return this;\n    if (Array.isArray(plugin)) {\n      let app = this;\n      for (const p of plugin) app = app.use(p);\n      return app;\n    }\n    return plugin instanceof Promise ? (this.promisedModules.add(\n      plugin.then((plugin2) => {\n        if (typeof plugin2 == \"function\") return plugin2(this);\n        if (plugin2 instanceof _Elysia)\n          return this._use(plugin2).compile();\n        if (plugin2.constructor?.name === \"Elysia\")\n          return this._use(\n            plugin2\n          ).compile();\n        if (typeof plugin2.default == \"function\")\n          return plugin2.default(this);\n        if (plugin2.default instanceof _Elysia)\n          return this._use(plugin2.default);\n        if (plugin2.constructor?.name === \"Elysia\")\n          return this._use(plugin2.default);\n        if (plugin2.constructor?.name === \"_Elysia\")\n          return this._use(plugin2.default);\n        try {\n          return this._use(plugin2.default);\n        } catch (error) {\n          throw console.error(\n            'Invalid plugin type. Expected Elysia instance, function, or module with \"default\" as Elysia instance or function that returns Elysia instance.'\n          ), error;\n        }\n      }).then((v) => (v && typeof v.compile == \"function\" && v.compile(), v))\n    ), this) : this._use(plugin);\n  }\n  propagatePromiseModules(plugin) {\n    if (plugin.promisedModules.size <= 0) return this;\n    for (const promise of plugin.promisedModules.promises)\n      this.promisedModules.add(\n        promise.then((v) => {\n          if (!v) return;\n          const t3 = this._use(v);\n          return t3 instanceof Promise ? t3.then((v2) => {\n            v2 ? v2.compile() : v.compile();\n          }) : v.compile();\n        })\n      );\n    return this;\n  }\n  _use(plugin) {\n    if (typeof plugin == \"function\") {\n      const instance = plugin(this);\n      return instance instanceof Promise ? (this.promisedModules.add(\n        instance.then((plugin2) => {\n          if (plugin2 instanceof _Elysia) {\n            plugin2.getServer = () => this.getServer(), plugin2.getGlobalRoutes = () => this.getGlobalRoutes(), plugin2.getGlobalDefinitions = () => this.getGlobalDefinitions(), plugin2.model(this.definitions.type), plugin2.error(this.definitions.error);\n            for (const {\n              method,\n              path,\n              handler,\n              hooks\n            } of Object.values(plugin2.router.history))\n              this.add(\n                method,\n                path,\n                handler,\n                hooks,\n                void 0\n              );\n            return plugin2 === this ? void 0 : (this.propagatePromiseModules(plugin2), plugin2);\n          }\n          return typeof plugin2 == \"function\" ? plugin2(\n            this\n          ) : typeof plugin2.default == \"function\" ? plugin2.default(\n            this\n          ) : this._use(plugin2);\n        }).then((v) => (v && typeof v.compile == \"function\" && v.compile(), v))\n      ), this) : instance;\n    }\n    this.propagatePromiseModules(plugin);\n    const name = plugin.config.name, seed = plugin.config.seed;\n    if (plugin.getParent = () => this, plugin.getServer = () => this.getServer(), plugin.getGlobalRoutes = () => this.getGlobalRoutes(), plugin.getGlobalDefinitions = () => this.getGlobalDefinitions(), plugin.standaloneValidator?.scoped && (this.standaloneValidator.local ? this.standaloneValidator.local = this.standaloneValidator.local.concat(\n      plugin.standaloneValidator.scoped\n    ) : this.standaloneValidator.local = plugin.standaloneValidator.scoped), plugin.standaloneValidator?.global && (this.standaloneValidator.global ? this.standaloneValidator.global = this.standaloneValidator.global.concat(\n      plugin.standaloneValidator.global\n    ) : this.standaloneValidator.global = plugin.standaloneValidator.global), isNotEmpty(plugin[\"~parser\"]) && (this[\"~parser\"] = {\n      ...plugin[\"~parser\"],\n      ...this[\"~parser\"]\n    }), plugin.setHeaders && this.headers(plugin.setHeaders), name) {\n      name in this.dependencies || (this.dependencies[name] = []);\n      const current = seed !== void 0 ? checksum(name + JSON.stringify(seed)) : 0;\n      this.dependencies[name].some(\n        ({ checksum: checksum3 }) => current === checksum3\n      ) || (this.extender.macro = {\n        ...this.extender.macro,\n        ...plugin.extender.macro\n      }, this.extender.higherOrderFunctions = this.extender.higherOrderFunctions.concat(\n        plugin.extender.higherOrderFunctions\n      ));\n    } else\n      isNotEmpty(plugin.extender.macro) && (this.extender.macro = {\n        ...this.extender.macro,\n        ...plugin.extender.macro\n      }), plugin.extender.higherOrderFunctions.length && (this.extender.higherOrderFunctions = this.extender.higherOrderFunctions.concat(\n        plugin.extender.higherOrderFunctions\n      ));\n    if (plugin.extender.higherOrderFunctions.length) {\n      deduplicateChecksum(this.extender.higherOrderFunctions);\n      const hofHashes = [];\n      for (let i = 0; i < this.extender.higherOrderFunctions.length; i++) {\n        const hof = this.extender.higherOrderFunctions[i];\n        hof.checksum && (hofHashes.includes(hof.checksum) && (this.extender.higherOrderFunctions.splice(i, 1), i--), hofHashes.push(hof.checksum));\n      }\n      hofHashes.length = 0;\n    }\n    this.inference = mergeInference(this.inference, plugin.inference), isNotEmpty(plugin.singleton.decorator) && this.decorate(plugin.singleton.decorator), isNotEmpty(plugin.singleton.store) && this.state(plugin.singleton.store), isNotEmpty(plugin.definitions.type) && this.model(plugin.definitions.type), isNotEmpty(plugin.definitions.error) && this.error(plugin.definitions.error), isNotEmpty(plugin.extender.macro) && (this.extender.macro = {\n      ...this.extender.macro,\n      ...plugin.extender.macro\n    });\n    for (const { method, path, handler, hooks } of Object.values(\n      plugin.router.history\n    ))\n      this.add(method, path, handler, hooks);\n    if (name) {\n      name in this.dependencies || (this.dependencies[name] = []);\n      const current = seed !== void 0 ? checksum(name + JSON.stringify(seed)) : 0;\n      if (this.dependencies[name].some(\n        ({ checksum: checksum3 }) => current === checksum3\n      ))\n        return this;\n      this.dependencies[name].push(\n        this.config?.analytic ? {\n          name: plugin.config.name,\n          seed: plugin.config.seed,\n          checksum: current,\n          dependencies: plugin.dependencies,\n          stack: plugin.telemetry?.stack,\n          routes: plugin.router.history,\n          decorators: plugin.singleton,\n          store: plugin.singleton.store,\n          error: plugin.definitions.error,\n          derive: plugin.event.transform?.filter((x) => x?.subType === \"derive\").map((x) => ({\n            fn: x.toString(),\n            stack: new Error().stack ?? \"\"\n          })),\n          resolve: plugin.event.transform?.filter((x) => x?.subType === \"resolve\").map((x) => ({\n            fn: x.toString(),\n            stack: new Error().stack ?? \"\"\n          }))\n        } : {\n          name: plugin.config.name,\n          seed: plugin.config.seed,\n          checksum: current,\n          dependencies: plugin.dependencies\n        }\n      ), isNotEmpty(plugin.event) && (this.event = mergeLifeCycle(\n        this.event,\n        filterGlobalHook(plugin.event),\n        current\n      ));\n    } else\n      isNotEmpty(plugin.event) && (this.event = mergeLifeCycle(\n        this.event,\n        filterGlobalHook(plugin.event)\n      ));\n    return plugin.validator.global && (this.validator.global = mergeHook(this.validator.global, {\n      ...plugin.validator.global\n    })), plugin.validator.scoped && (this.validator.local = mergeHook(this.validator.local, {\n      ...plugin.validator.scoped\n    })), this;\n  }\n  macro(macroOrName, macro) {\n    if (typeof macroOrName == \"string\" && !macro)\n      throw new Error(\"Macro function is required\");\n    return typeof macroOrName == \"string\" ? this.extender.macro[macroOrName] = macro : this.extender.macro = {\n      ...this.extender.macro,\n      ...macroOrName\n    }, this;\n  }\n  applyMacro(localHook, appliable = localHook, {\n    iteration = 0,\n    applied = {}\n  } = {}) {\n    if (iteration >= 16) return;\n    const macro = this.extender.macro;\n    for (let [key, value] of Object.entries(appliable)) {\n      if (!(key in macro)) continue;\n      const macroHook = typeof macro[key] == \"function\" ? macro[key](value) : macro[key];\n      if (!macroHook || typeof macro[key] == \"object\" && value === !1)\n        return;\n      const seed = checksum(key + JSON.stringify(macroHook.seed ?? value));\n      if (!(seed in applied)) {\n        applied[seed] = !0;\n        for (let [k, value2] of Object.entries(macroHook))\n          if (k !== \"seed\") {\n            if (k in emptySchema) {\n              insertStandaloneValidator(\n                localHook,\n                k,\n                value2\n              ), delete localHook[key];\n              continue;\n            }\n            if (k === \"detail\") {\n              localHook.detail || (localHook.detail = {}), localHook.detail = mergeDeep(localHook.detail, value2, {\n                mergeArray: !0\n              }), delete localHook[key];\n              continue;\n            }\n            if (k in macro) {\n              this.applyMacro(\n                localHook,\n                { [k]: value2 },\n                { applied, iteration: iteration + 1 }\n              ), delete localHook[key];\n              continue;\n            }\n            switch ((k === \"derive\" || k === \"resolve\") && typeof value2 == \"function\" && (value2 = {\n              fn: value2,\n              subType: k\n            }), typeof localHook[k]) {\n              case \"function\":\n                localHook[k] = [localHook[k], value2];\n                break;\n              case \"object\":\n                Array.isArray(localHook[k]) ? localHook[k].push(value2) : localHook[k] = [localHook[k], value2];\n                break;\n              case \"undefined\":\n                localHook[k] = value2;\n                break;\n            }\n            delete localHook[key];\n          }\n      }\n    }\n  }\n  mount(path, handleOrConfig, config) {\n    if (path instanceof _Elysia || typeof path == \"function\" || path.length === 0 || path === \"/\") {\n      const run = typeof path == \"function\" ? path : path instanceof _Elysia ? path.compile().fetch : handleOrConfig instanceof _Elysia ? handleOrConfig.compile().fetch : typeof handleOrConfig == \"function\" ? handleOrConfig : (() => {\n        throw new Error(\"Invalid handler\");\n      })(), handler2 = ({ request, path: path2 }) => run(\n        new Request(replaceUrlPath(request.url, path2), {\n          method: request.method,\n          headers: request.headers,\n          signal: request.signal,\n          credentials: request.credentials,\n          referrerPolicy: request.referrerPolicy,\n          duplex: request.duplex,\n          redirect: request.redirect,\n          mode: request.mode,\n          keepalive: request.keepalive,\n          integrity: request.integrity,\n          body: request.body\n        })\n      );\n      return this.route(\"ALL\", \"/*\", handler2, {\n        parse: \"none\",\n        ...config,\n        detail: {\n          ...config?.detail,\n          hide: !0\n        },\n        config: {\n          mount: run\n        }\n      }), this;\n    }\n    const handle = handleOrConfig instanceof _Elysia ? handleOrConfig.compile().fetch : typeof handleOrConfig == \"function\" ? handleOrConfig : (() => {\n      throw new Error(\"Invalid handler\");\n    })(), length = path.length - (path.endsWith(\"*\") ? 1 : 0), handler = ({ request, path: path2 }) => handle(\n      new Request(\n        replaceUrlPath(request.url, path2.slice(length) || \"/\"),\n        {\n          method: request.method,\n          headers: request.headers,\n          signal: request.signal,\n          credentials: request.credentials,\n          referrerPolicy: request.referrerPolicy,\n          duplex: request.duplex,\n          redirect: request.redirect,\n          mode: request.mode,\n          keepalive: request.keepalive,\n          integrity: request.integrity,\n          body: request.body\n        }\n      )\n    );\n    return this.route(\"ALL\", path, handler, {\n      parse: \"none\",\n      ...config,\n      detail: {\n        ...config?.detail,\n        hide: !0\n      },\n      config: {\n        mount: handle\n      }\n    }), this.route(\n      \"ALL\",\n      path + (path.endsWith(\"/\") ? \"*\" : \"/*\"),\n      handler,\n      {\n        parse: \"none\",\n        ...config,\n        detail: {\n          ...config?.detail,\n          hide: !0\n        },\n        config: {\n          mount: handle\n        }\n      }\n    ), this;\n  }\n  /**\n   * ### get\n   * Register handler for path with method [GET]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .get('/', () => 'hi')\n   *     .get('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  get(path, handler, hook) {\n    return this.add(\"GET\", path, handler, hook), this;\n  }\n  /**\n   * ### post\n   * Register handler for path with method [POST]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .post('/', () => 'hi')\n   *     .post('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  post(path, handler, hook) {\n    return this.add(\"POST\", path, handler, hook), this;\n  }\n  /**\n   * ### put\n   * Register handler for path with method [PUT]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .put('/', () => 'hi')\n   *     .put('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  put(path, handler, hook) {\n    return this.add(\"PUT\", path, handler, hook), this;\n  }\n  /**\n   * ### patch\n   * Register handler for path with method [PATCH]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .patch('/', () => 'hi')\n   *     .patch('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  patch(path, handler, hook) {\n    return this.add(\"PATCH\", path, handler, hook), this;\n  }\n  /**\n   * ### delete\n   * Register handler for path with method [DELETE]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .delete('/', () => 'hi')\n   *     .delete('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  delete(path, handler, hook) {\n    return this.add(\"DELETE\", path, handler, hook), this;\n  }\n  /**\n   * ### options\n   * Register handler for path with method [POST]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .options('/', () => 'hi')\n   *     .options('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  options(path, handler, hook) {\n    return this.add(\"OPTIONS\", path, handler, hook), this;\n  }\n  /**\n   * ### all\n   * Register handler for path with method [ALL]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .all('/', () => 'hi')\n   *     .all('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  all(path, handler, hook) {\n    return this.add(\"ALL\", path, handler, hook), this;\n  }\n  /**\n   * ### head\n   * Register handler for path with method [HEAD]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .head('/', () => 'hi')\n   *     .head('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  head(path, handler, hook) {\n    return this.add(\"HEAD\", path, handler, hook), this;\n  }\n  /**\n   * ### connect\n   * Register handler for path with method [CONNECT]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .connect('/', () => 'hi')\n   *     .connect('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  connect(path, handler, hook) {\n    return this.add(\"CONNECT\", path, handler, hook), this;\n  }\n  /**\n   * ### route\n   * Register handler for path with method [ROUTE]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .route('/', () => 'hi')\n   *     .route('/with-hook', () => 'hi', {\n   *         response: t.String()\n   *     })\n   * ```\n   */\n  route(method, path, handler, hook) {\n    return this.add(method.toUpperCase(), path, handler, hook, hook?.config), this;\n  }\n  /**\n   * ### ws\n   * Register handler for path with method [ws]\n   *\n   * ---\n   * @example\n   * ```typescript\n   * import { Elysia, t } from 'elysia'\n   *\n   * new Elysia()\n   *     .ws('/', {\n   *         message(ws, message) {\n   *             ws.send(message)\n   *         }\n   *     })\n   * ```\n   */\n  ws(path, options) {\n    return this[\"~adapter\"].ws ? this[\"~adapter\"].ws(this, path, options) : console.warn(\"Current adapter doesn't support WebSocket\"), this;\n  }\n  /**\n   * ### state\n   * Assign global mutatable state accessible for all handler\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .state('counter', 0)\n   *     .get('/', (({ counter }) => ++counter)\n   * ```\n   */\n  state(options, name, value) {\n    name === void 0 ? (value = options, options = { as: \"append\" }, name = \"\") : value === void 0 && (typeof options == \"string\" ? (value = name, name = options, options = { as: \"append\" }) : typeof options == \"object\" && (value = name, name = \"\"));\n    const { as } = options;\n    if (typeof name != \"string\") return this;\n    switch (typeof value) {\n      case \"object\":\n        return !value || !isNotEmpty(value) ? this : name ? (name in this.singleton.store ? this.singleton.store[name] = mergeDeep(\n          this.singleton.store[name],\n          value,\n          {\n            override: as === \"override\"\n          }\n        ) : this.singleton.store[name] = value, this) : value === null ? this : (this.singleton.store = mergeDeep(this.singleton.store, value, {\n          override: as === \"override\"\n        }), this);\n      case \"function\":\n        return name ? (as === \"override\" || !(name in this.singleton.store)) && (this.singleton.store[name] = value) : this.singleton.store = value(this.singleton.store), this;\n      default:\n        return (as === \"override\" || !(name in this.singleton.store)) && (this.singleton.store[name] = value), this;\n    }\n  }\n  /**\n   * ### decorate\n   * Define custom method to `Context` accessible for all handler\n   *\n   * ---\n   * @example\n   * ```typescript\n   * new Elysia()\n   *     .decorate('getDate', () => Date.now())\n   *     .get('/', (({ getDate }) => getDate())\n   * ```\n   */\n  decorate(options, name, value) {\n    name === void 0 ? (value = options, options = { as: \"append\" }, name = \"\") : value === void 0 && (typeof options == \"string\" ? (value = name, name = options, options = { as: \"append\" }) : typeof options == \"object\" && (value = name, name = \"\"));\n    const { as } = options;\n    if (typeof name != \"string\") return this;\n    switch (typeof value) {\n      case \"object\":\n        return name ? (name in this.singleton.decorator ? this.singleton.decorator[name] = mergeDeep(\n          this.singleton.decorator[name],\n          value,\n          {\n            override: as === \"override\"\n          }\n        ) : this.singleton.decorator[name] = value, this) : value === null ? this : (this.singleton.decorator = mergeDeep(\n          this.singleton.decorator,\n          value,\n          {\n            override: as === \"override\"\n          }\n        ), this);\n      case \"function\":\n        return name ? (as === \"override\" || !(name in this.singleton.decorator)) && (this.singleton.decorator[name] = value) : this.singleton.decorator = value(this.singleton.decorator), this;\n      default:\n        return (as === \"override\" || !(name in this.singleton.decorator)) && (this.singleton.decorator[name] = value), this;\n    }\n  }\n  derive(optionsOrTransform, transform) {\n    transform || (transform = optionsOrTransform, optionsOrTransform = { as: \"local\" });\n    const hook = {\n      subType: \"derive\",\n      fn: transform\n    };\n    return this.onTransform(optionsOrTransform, hook);\n  }\n  model(name, model) {\n    const onlyTypebox = (a) => {\n      const res = {};\n      for (const key in a) \"~standard\" in a[key] || (res[key] = a[key]);\n      return res;\n    };\n    switch (typeof name) {\n      case \"object\":\n        const parsedTypebox = {}, kvs = Object.entries(name);\n        if (!kvs.length) return this;\n        for (const [key, value] of kvs)\n          key in this.definitions.type || (\"~standard\" in value ? this.definitions.type[key] = value : (parsedTypebox[key] = this.definitions.type[key] = value, parsedTypebox[key].$id ??= `#/components/schemas/${key}`));\n        return this.definitions.typebox = t.Module({\n          ...this.definitions.typebox.$defs,\n          ...parsedTypebox\n        }), this;\n      case \"function\":\n        const result = name(this.definitions.type);\n        return this.definitions.type = result, this.definitions.typebox = t.Module(onlyTypebox(result)), this;\n      case \"string\":\n        if (!model) break;\n        if (this.definitions.type[name] = model, \"~standard\" in model) return this;\n        const newModel = {\n          ...model,\n          id: model.$id ?? `#/components/schemas/${name}`\n        };\n        return this.definitions.typebox = t.Module({\n          ...this.definitions.typebox.$defs,\n          ...newModel\n        }), this;\n    }\n    return model ? (this.definitions.type[name] = model, \"~standard\" in model ? this : (this.definitions.typebox = t.Module({\n      ...this.definitions.typebox.$defs,\n      [name]: model\n    }), this)) : this;\n  }\n  Ref(key) {\n    return t.Ref(key);\n  }\n  mapDerive(optionsOrDerive, mapper) {\n    mapper || (mapper = optionsOrDerive, optionsOrDerive = { as: \"local\" });\n    const hook = {\n      subType: \"mapDerive\",\n      fn: mapper\n    };\n    return this.onTransform(optionsOrDerive, hook);\n  }\n  affix(base, type, word) {\n    if (word === \"\") return this;\n    const delimieter = [\"_\", \"-\", \" \"], capitalize = (word2) => word2[0].toUpperCase() + word2.slice(1), joinKey = base === \"prefix\" ? (prefix, word2) => delimieter.includes(prefix.at(-1) ?? \"\") ? prefix + word2 : prefix + capitalize(word2) : delimieter.includes(word.at(-1) ?? \"\") ? (suffix, word2) => word2 + suffix : (suffix, word2) => word2 + capitalize(suffix), remap = (type2) => {\n      const store = {};\n      switch (type2) {\n        case \"decorator\":\n          for (const key in this.singleton.decorator)\n            store[joinKey(word, key)] = this.singleton.decorator[key];\n          this.singleton.decorator = store;\n          break;\n        case \"state\":\n          for (const key in this.singleton.store)\n            store[joinKey(word, key)] = this.singleton.store[key];\n          this.singleton.store = store;\n          break;\n        case \"model\":\n          for (const key in this.definitions.type)\n            store[joinKey(word, key)] = this.definitions.type[key];\n          this.definitions.type = store;\n          break;\n        case \"error\":\n          for (const key in this.definitions.error)\n            store[joinKey(word, key)] = this.definitions.error[key];\n          this.definitions.error = store;\n          break;\n      }\n    }, types = Array.isArray(type) ? type : [type];\n    for (const type2 of types.some((x) => x === \"all\") ? [\"decorator\", \"state\", \"model\", \"error\"] : types)\n      remap(type2);\n    return this;\n  }\n  prefix(type, word) {\n    return this.affix(\"prefix\", type, word);\n  }\n  suffix(type, word) {\n    return this.affix(\"suffix\", type, word);\n  }\n  compile() {\n    return this[\"~adapter\"].beforeCompile?.(this), this[\"~adapter\"].isWebStandard ? (this.fetch = this.config.aot ? composeGeneralHandler(this) : createDynamicHandler(this), typeof this.server?.reload == \"function\" && this.server.reload({\n      ...this.server || {},\n      fetch: this.fetch\n    }), this) : (typeof this.server?.reload == \"function\" && this.server.reload(this.server || {}), this._handle = composeGeneralHandler(this), this);\n  }\n  /**\n   * Wait until all lazy loaded modules all load is fully\n   */\n  get modules() {\n    return this.promisedModules;\n  }\n};\nlet Elysia = _Elysia;\nimport { t as t2 } from \"./type-system/index.mjs\";\nimport { validationDetail, fileType } from \"./type-system/utils.mjs\";\nimport { serializeCookie, Cookie } from \"./cookies.mjs\";\nimport {\n  ELYSIA_TRACE\n} from \"./trace.mjs\";\nimport {\n  getSchemaValidator as getSchemaValidator2,\n  getResponseSchemaValidator as getResponseSchemaValidator2,\n  replaceSchemaType\n} from \"./schema.mjs\";\nimport {\n  mergeHook as mergeHook2,\n  mergeObjectArray,\n  redirect as redirect2,\n  StatusMap,\n  InvertedStatusMap,\n  form,\n  replaceUrlPath as replaceUrlPath2,\n  checksum as checksum2,\n  cloneInference as cloneInference2,\n  deduplicateChecksum as deduplicateChecksum2,\n  ELYSIA_FORM_DATA,\n  ELYSIA_REQUEST_ID,\n  sse\n} from \"./utils.mjs\";\nimport {\n  status as status2,\n  mapValueError,\n  ParseError,\n  NotFoundError,\n  ValidationError as ValidationError2,\n  InvalidFileType,\n  InternalServerError,\n  InvalidCookieSignature,\n  ERROR_CODE as ERROR_CODE2,\n  ElysiaCustomStatusResponse\n} from \"./error.mjs\";\nimport { env as env2 } from \"./universal/env.mjs\";\nimport { file, ElysiaFile } from \"./universal/file.mjs\";\nimport { TypeSystemPolicy } from \"@sinclair/typebox/system\";\nexport {\n  Cookie,\n  ELYSIA_FORM_DATA,\n  ELYSIA_REQUEST_ID,\n  ELYSIA_TRACE,\n  ERROR_CODE2 as ERROR_CODE,\n  Elysia,\n  ElysiaCustomStatusResponse,\n  ElysiaFile,\n  InternalServerError,\n  InvalidCookieSignature,\n  InvalidFileType,\n  InvertedStatusMap,\n  NotFoundError,\n  ParseError,\n  StatusMap,\n  TypeSystemPolicy,\n  ValidationError2 as ValidationError,\n  checksum2 as checksum,\n  cloneInference2 as cloneInference,\n  deduplicateChecksum2 as deduplicateChecksum,\n  Elysia as default,\n  env2 as env,\n  file,\n  fileType,\n  form,\n  getResponseSchemaValidator2 as getResponseSchemaValidator,\n  getSchemaValidator2 as getSchemaValidator,\n  mapValueError,\n  mergeHook2 as mergeHook,\n  mergeObjectArray,\n  redirect2 as redirect,\n  replaceSchemaType,\n  replaceUrlPath2 as replaceUrlPath,\n  serializeCookie,\n  sse,\n  status2 as status,\n  t2 as t,\n  validationDetail\n};\n", "// src/index.ts\nvar createNode = (part, inert) => {\n  const inertMap = inert?.length ? {} : null;\n  if (inertMap)\n    for (const child of inert)\n      inertMap[child.part.charCodeAt(0)] = child;\n  return {\n    part,\n    store: null,\n    inert: inertMap,\n    params: null,\n    wildcardStore: null\n  };\n};\nvar cloneNode = (node, part) => ({\n  ...node,\n  part\n});\nvar createParamNode = (name) => ({\n  name,\n  store: null,\n  inert: null\n});\nvar Memoirist = class _Memoirist {\n  constructor(config = {}) {\n    this.config = config;\n    if (config.lazy)\n      this.find = this.lazyFind;\n    if (config.onParam && !Array.isArray(config.onParam))\n      this.config.onParam = [\n        this.config.onParam\n      ];\n  }\n  root = {};\n  history = [];\n  deferred = [];\n  static regex = {\n    static: /:.+?(?=\\/|$)/,\n    params: /:.+?(?=\\/|$)/g,\n    optionalParams: /(\\/:\\w+\\?)/g\n  };\n  lazyFind = (method, url) => {\n    if (!this.config.lazy)\n      return this.find;\n    this.build();\n    return this.find(method, url);\n  };\n  build() {\n    if (!this.config.lazy)\n      return;\n    for (const [method, path, store] of this.deferred)\n      this.add(method, path, store, { lazy: false, ignoreHistory: true });\n    this.deferred = [];\n    this.find = (method, url) => {\n      const root = this.root[method];\n      if (!root)\n        return null;\n      return matchRoute(\n        url,\n        url.length,\n        root,\n        0,\n        this.config.onParam\n      );\n    };\n  }\n  add(method, path, store, {\n    ignoreError = false,\n    ignoreHistory = false,\n    lazy = this.config.lazy\n  } = {}) {\n    if (lazy) {\n      this.find = this.lazyFind;\n      this.deferred.push([method, path, store]);\n      return store;\n    }\n    if (typeof path !== \"string\")\n      throw new TypeError(\"Route path must be a string\");\n    if (path === \"\")\n      path = \"/\";\n    else if (path[0] !== \"/\")\n      path = `/${path}`;\n    const isWildcard = path[path.length - 1] === \"*\";\n    const optionalParams = path.match(_Memoirist.regex.optionalParams);\n    if (optionalParams) {\n      const originalPath = path.replaceAll(\"?\", \"\");\n      this.add(method, originalPath, store, {\n        ignoreError,\n        ignoreHistory,\n        lazy\n      });\n      for (let i = 0; i < optionalParams.length; i++) {\n        let newPath = path.replace(optionalParams[i], \"\");\n        this.add(method, newPath, store, {\n          ignoreError: true,\n          ignoreHistory,\n          lazy\n        });\n      }\n      return store;\n    }\n    if (optionalParams)\n      path = path.replaceAll(\"?\", \"\");\n    if (this.history.find(([m, p, s]) => m === method && p === path))\n      return store;\n    if (isWildcard || optionalParams && path.charCodeAt(path.length - 1) === 63)\n      path = path.slice(0, -1);\n    if (!ignoreHistory)\n      this.history.push([method, path, store]);\n    const inertParts = path.split(_Memoirist.regex.static);\n    const paramParts = path.match(_Memoirist.regex.params) || [];\n    if (inertParts[inertParts.length - 1] === \"\")\n      inertParts.pop();\n    let node;\n    if (!this.root[method])\n      node = this.root[method] = createNode(\"/\");\n    else\n      node = this.root[method];\n    let paramPartsIndex = 0;\n    for (let i = 0; i < inertParts.length; ++i) {\n      let part = inertParts[i];\n      if (i > 0) {\n        const param = paramParts[paramPartsIndex++].slice(1);\n        if (node.params === null)\n          node.params = createParamNode(param);\n        else if (node.params.name !== param) {\n          if (ignoreError)\n            return store;\n          else\n            throw new Error(\n              `Cannot create route \"${path}\" with parameter \"${param}\" because a route already exists with a different parameter name (\"${node.params.name}\") in the same location`\n            );\n        }\n        const params = node.params;\n        if (params.inert === null) {\n          node = params.inert = createNode(part);\n          continue;\n        }\n        node = params.inert;\n      }\n      for (let j = 0; ; ) {\n        if (j === part.length) {\n          if (j < node.part.length) {\n            const childNode = cloneNode(node, node.part.slice(j));\n            Object.assign(node, createNode(part, [childNode]));\n          }\n          break;\n        }\n        if (j === node.part.length) {\n          if (node.inert === null)\n            node.inert = {};\n          const inert = node.inert[part.charCodeAt(j)];\n          if (inert) {\n            node = inert;\n            part = part.slice(j);\n            j = 0;\n            continue;\n          }\n          const childNode = createNode(part.slice(j));\n          node.inert[part.charCodeAt(j)] = childNode;\n          node = childNode;\n          break;\n        }\n        if (part[j] !== node.part[j]) {\n          const existingChild = cloneNode(node, node.part.slice(j));\n          const newChild = createNode(part.slice(j));\n          Object.assign(\n            node,\n            createNode(node.part.slice(0, j), [\n              existingChild,\n              newChild\n            ])\n          );\n          node = newChild;\n          break;\n        }\n        ++j;\n      }\n    }\n    if (paramPartsIndex < paramParts.length) {\n      const param = paramParts[paramPartsIndex];\n      const name = param.slice(1);\n      if (node.params === null)\n        node.params = createParamNode(name);\n      else if (node.params.name !== name) {\n        if (ignoreError)\n          return store;\n        else\n          throw new Error(\n            `Cannot create route \"${path}\" with parameter \"${name}\" because a route already exists with a different parameter name (\"${node.params.name}\") in the same location`\n          );\n      }\n      if (node.params.store === null)\n        node.params.store = store;\n      return node.params.store;\n    }\n    if (isWildcard) {\n      if (node.wildcardStore === null)\n        node.wildcardStore = store;\n      return node.wildcardStore;\n    }\n    if (node.store === null)\n      node.store = store;\n    return node.store;\n  }\n  find(method, url) {\n    const root = this.root[method];\n    if (!root)\n      return null;\n    return matchRoute(\n      url,\n      url.length,\n      root,\n      0,\n      this.config.onParam\n    );\n  }\n};\nvar matchRoute = (url, urlLength, node, startIndex, onParam) => {\n  const part = node.part;\n  const length = part.length;\n  const endIndex = startIndex + length;\n  if (length > 1) {\n    if (endIndex > urlLength)\n      return null;\n    if (length < 15) {\n      for (let i = 1, j = startIndex + 1; i < length; ++i, ++j)\n        if (part.charCodeAt(i) !== url.charCodeAt(j))\n          return null;\n    } else if (url.slice(startIndex, endIndex) !== part)\n      return null;\n  }\n  if (endIndex === urlLength) {\n    if (node.store !== null)\n      return {\n        store: node.store,\n        params: {}\n      };\n    if (node.wildcardStore !== null)\n      return {\n        store: node.wildcardStore,\n        params: { \"*\": \"\" }\n      };\n    return null;\n  }\n  if (node.inert !== null) {\n    const inert = node.inert[url.charCodeAt(endIndex)];\n    if (inert !== void 0) {\n      const route = matchRoute(url, urlLength, inert, endIndex, onParam);\n      if (route !== null)\n        return route;\n    }\n  }\n  if (node.params !== null) {\n    const { store, name, inert } = node.params;\n    const slashIndex = url.indexOf(\"/\", endIndex);\n    if (slashIndex !== endIndex) {\n      if (slashIndex === -1 || slashIndex >= urlLength) {\n        if (store !== null) {\n          const params = {};\n          params[name] = url.substring(endIndex, urlLength);\n          if (onParam)\n            for (let i = 0; i < onParam.length; i++) {\n              let temp = onParam[i](params[name], name);\n              if (temp !== void 0)\n                params[name] = temp;\n            }\n          return {\n            store,\n            params\n          };\n        }\n      } else if (inert !== null) {\n        const route = matchRoute(\n          url,\n          urlLength,\n          inert,\n          slashIndex,\n          onParam\n        );\n        if (route !== null) {\n          route.params[name] = url.substring(endIndex, slashIndex);\n          if (onParam)\n            for (let i = 0; i < onParam.length; i++) {\n              let temp = onParam[i](route.params[name], name);\n              if (temp !== void 0)\n                route.params[name] = temp;\n            }\n          return route;\n        }\n      }\n    }\n  }\n  if (node.wildcardStore !== null)\n    return {\n      store: node.wildcardStore,\n      params: {\n        \"*\": url.substring(endIndex, urlLength)\n      }\n    };\n  return null;\n};\nvar src_default = Memoirist;\nexport {\n  Memoirist,\n  src_default as default\n};\n", "import { Clone } from './value.mjs';\n/** Clones a Rest */\nexport function CloneRest(schemas) {\n    return schemas.map((schema) => CloneType(schema));\n}\n/** Clones a Type */\nexport function CloneType(schema, options) {\n    return options === undefined ? Clone(schema) : Clone({ ...options, ...schema });\n}\n", "import * as ValueGuard from '../guard/value.mjs';\nfunction ArrayType(value) {\n    return value.map((value) => Visit(value));\n}\nfunction DateType(value) {\n    return new Date(value.getTime());\n}\nfunction Uint8ArrayType(value) {\n    return new Uint8Array(value);\n}\nfunction RegExpType(value) {\n    return new RegExp(value.source, value.flags);\n}\nfunction ObjectType(value) {\n    const result = {};\n    for (const key of Object.getOwnPropertyNames(value)) {\n        result[key] = Visit(value[key]);\n    }\n    for (const key of Object.getOwnPropertySymbols(value)) {\n        result[key] = Visit(value[key]);\n    }\n    return result;\n}\n// prettier-ignore\nfunction Visit(value) {\n    return (ValueGuard.IsArray(value) ? ArrayType(value) :\n        ValueGuard.IsDate(value) ? DateType(value) :\n            ValueGuard.IsUint8Array(value) ? Uint8ArrayType(value) :\n                ValueGuard.IsRegExp(value) ? RegExpType(value) :\n                    ValueGuard.IsObject(value) ? ObjectType(value) :\n                        value);\n}\n/** Clones a value */\nexport function Clone(value) {\n    return Visit(value);\n}\n", "// --------------------------------------------------------------------------\n// PropertyKey\n// --------------------------------------------------------------------------\n/** Returns true if this value has this property key */\nexport function HasPropertyKey(value, key) {\n    return key in value;\n}\n// --------------------------------------------------------------------------\n// Object Instances\n// --------------------------------------------------------------------------\n/** Returns true if this value is an async iterator */\nexport function IsAsyncIterator(value) {\n    return IsObject(value) && !IsArray(value) && !IsUint8Array(value) && Symbol.asyncIterator in value;\n}\n/** Returns true if this value is an array */\nexport function IsArray(value) {\n    return Array.isArray(value);\n}\n/** Returns true if this value is bigint */\nexport function IsBigInt(value) {\n    return typeof value === 'bigint';\n}\n/** Returns true if this value is a boolean */\nexport function IsBoolean(value) {\n    return typeof value === 'boolean';\n}\n/** Returns true if this value is a Date object */\nexport function IsDate(value) {\n    return value instanceof globalThis.Date;\n}\n/** Returns true if this value is a function */\nexport function IsFunction(value) {\n    return typeof value === 'function';\n}\n/** Returns true if this value is an iterator */\nexport function IsIterator(value) {\n    return IsObject(value) && !IsArray(value) && !IsUint8Array(value) && Symbol.iterator in value;\n}\n/** Returns true if this value is null */\nexport function IsNull(value) {\n    return value === null;\n}\n/** Returns true if this value is number */\nexport function IsNumber(value) {\n    return typeof value === 'number';\n}\n/** Returns true if this value is an object */\nexport function IsObject(value) {\n    return typeof value === 'object' && value !== null;\n}\n/** Returns true if this value is RegExp */\nexport function IsRegExp(value) {\n    return value instanceof globalThis.RegExp;\n}\n/** Returns true if this value is string */\nexport function IsString(value) {\n    return typeof value === 'string';\n}\n/** Returns true if this value is symbol */\nexport function IsSymbol(value) {\n    return typeof value === 'symbol';\n}\n/** Returns true if this value is a Uint8Array */\nexport function IsUint8Array(value) {\n    return value instanceof globalThis.Uint8Array;\n}\n/** Returns true if this value is undefined */\nexport function IsUndefined(value) {\n    return value === undefined;\n}\n", "import { TypeSystemPolicy } from '../../system/policy.mjs';\nimport { Immutable } from './immutable.mjs';\nimport { Clone } from '../clone/value.mjs';\n/** Creates TypeBox schematics using the configured InstanceMode */\nexport function CreateType(schema, options) {\n    const result = options !== undefined ? { ...options, ...schema } : schema;\n    switch (TypeSystemPolicy.InstanceMode) {\n        case 'freeze':\n            return Immutable(result);\n        case 'clone':\n            return Clone(result);\n        default:\n            return result;\n    }\n}\n", "import { IsObject, IsArray, IsNumber, IsUndefined } from '../value/guard/index.mjs';\nexport var TypeSystemPolicy;\n(function (TypeSystemPolicy) {\n    // ------------------------------------------------------------------\n    // TypeSystemPolicy: Instancing\n    // ------------------------------------------------------------------\n    /**\n     * Configures the instantiation behavior of TypeBox types. The `default` option assigns raw JavaScript\n     * references for embedded types, which may cause side effects if type properties are explicitly updated\n     * outside the TypeBox type builder. The `clone` option creates copies of any shared types upon creation,\n     * preventing unintended side effects. The `freeze` option applies `Object.freeze()` to the type, making\n     * it fully readonly and immutable. Implementations should use `default` whenever possible, as it is the\n     * fastest way to instantiate types. The default setting is `default`.\n     */\n    TypeSystemPolicy.InstanceMode = 'default';\n    // ------------------------------------------------------------------\n    // TypeSystemPolicy: Checking\n    // ------------------------------------------------------------------\n    /** Sets whether TypeBox should assert optional properties using the TypeScript `exactOptionalPropertyTypes` assertion policy. The default is `false` */\n    TypeSystemPolicy.ExactOptionalPropertyTypes = false;\n    /** Sets whether arrays should be treated as a kind of objects. The default is `false` */\n    TypeSystemPolicy.AllowArrayObject = false;\n    /** Sets whether `NaN` or `Infinity` should be treated as valid numeric values. The default is `false` */\n    TypeSystemPolicy.AllowNaN = false;\n    /** Sets whether `null` should validate for void types. The default is `false` */\n    TypeSystemPolicy.AllowNullVoid = false;\n    /** Checks this value using the ExactOptionalPropertyTypes policy */\n    function IsExactOptionalProperty(value, key) {\n        return TypeSystemPolicy.ExactOptionalPropertyTypes ? key in value : value[key] !== undefined;\n    }\n    TypeSystemPolicy.IsExactOptionalProperty = IsExactOptionalProperty;\n    /** Checks this value using the AllowArrayObjects policy */\n    function IsObjectLike(value) {\n        const isObject = IsObject(value);\n        return TypeSystemPolicy.AllowArrayObject ? isObject : isObject && !IsArray(value);\n    }\n    TypeSystemPolicy.IsObjectLike = IsObjectLike;\n    /** Checks this value as a record using the AllowArrayObjects policy */\n    function IsRecordLike(value) {\n        return IsObjectLike(value) && !(value instanceof Date) && !(value instanceof Uint8Array);\n    }\n    TypeSystemPolicy.IsRecordLike = IsRecordLike;\n    /** Checks this value using the AllowNaN policy */\n    function IsNumberLike(value) {\n        return TypeSystemPolicy.AllowNaN ? IsNumber(value) : Number.isFinite(value);\n    }\n    TypeSystemPolicy.IsNumberLike = IsNumberLike;\n    /** Checks this value using the AllowVoidNull policy */\n    function IsVoidLike(value) {\n        const isUndefined = IsUndefined(value);\n        return TypeSystemPolicy.AllowNullVoid ? isUndefined || value === null : isUndefined;\n    }\n    TypeSystemPolicy.IsVoidLike = IsVoidLike;\n})(TypeSystemPolicy || (TypeSystemPolicy = {}));\n", "// --------------------------------------------------------------------------\n// Iterators\n// --------------------------------------------------------------------------\n/** Returns true if this value is an async iterator */\nexport function IsAsyncIterator(value) {\n    return IsObject(value) && globalThis.Symbol.asyncIterator in value;\n}\n/** Returns true if this value is an iterator */\nexport function IsIterator(value) {\n    return IsObject(value) && globalThis.Symbol.iterator in value;\n}\n// --------------------------------------------------------------------------\n// Object Instances\n// --------------------------------------------------------------------------\n/** Returns true if this value is not an instance of a class */\nexport function IsStandardObject(value) {\n    return IsObject(value) && (globalThis.Object.getPrototypeOf(value) === Object.prototype || globalThis.Object.getPrototypeOf(value) === null);\n}\n/** Returns true if this value is an instance of a class */\nexport function IsInstanceObject(value) {\n    return IsObject(value) && !IsArray(value) && IsFunction(value.constructor) && value.constructor.name !== 'Object';\n}\n// --------------------------------------------------------------------------\n// JavaScript\n// --------------------------------------------------------------------------\n/** Returns true if this value is a Promise */\nexport function IsPromise(value) {\n    return value instanceof globalThis.Promise;\n}\n/** Returns true if this value is a Date */\nexport function IsDate(value) {\n    return value instanceof Date && globalThis.Number.isFinite(value.getTime());\n}\n/** Returns true if this value is an instance of Map<K, T> */\nexport function IsMap(value) {\n    return value instanceof globalThis.Map;\n}\n/** Returns true if this value is an instance of Set<T> */\nexport function IsSet(value) {\n    return value instanceof globalThis.Set;\n}\n/** Returns true if this value is RegExp */\nexport function IsRegExp(value) {\n    return value instanceof globalThis.RegExp;\n}\n/** Returns true if this value is a typed array */\nexport function IsTypedArray(value) {\n    return globalThis.ArrayBuffer.isView(value);\n}\n/** Returns true if the value is a Int8Array */\nexport function IsInt8Array(value) {\n    return value instanceof globalThis.Int8Array;\n}\n/** Returns true if the value is a Uint8Array */\nexport function IsUint8Array(value) {\n    return value instanceof globalThis.Uint8Array;\n}\n/** Returns true if the value is a Uint8ClampedArray */\nexport function IsUint8ClampedArray(value) {\n    return value instanceof globalThis.Uint8ClampedArray;\n}\n/** Returns true if the value is a Int16Array */\nexport function IsInt16Array(value) {\n    return value instanceof globalThis.Int16Array;\n}\n/** Returns true if the value is a Uint16Array */\nexport function IsUint16Array(value) {\n    return value instanceof globalThis.Uint16Array;\n}\n/** Returns true if the value is a Int32Array */\nexport function IsInt32Array(value) {\n    return value instanceof globalThis.Int32Array;\n}\n/** Returns true if the value is a Uint32Array */\nexport function IsUint32Array(value) {\n    return value instanceof globalThis.Uint32Array;\n}\n/** Returns true if the value is a Float32Array */\nexport function IsFloat32Array(value) {\n    return value instanceof globalThis.Float32Array;\n}\n/** Returns true if the value is a Float64Array */\nexport function IsFloat64Array(value) {\n    return value instanceof globalThis.Float64Array;\n}\n/** Returns true if the value is a BigInt64Array */\nexport function IsBigInt64Array(value) {\n    return value instanceof globalThis.BigInt64Array;\n}\n/** Returns true if the value is a BigUint64Array */\nexport function IsBigUint64Array(value) {\n    return value instanceof globalThis.BigUint64Array;\n}\n// --------------------------------------------------------------------------\n// PropertyKey\n// --------------------------------------------------------------------------\n/** Returns true if this value has this property key */\nexport function HasPropertyKey(value, key) {\n    return key in value;\n}\n// --------------------------------------------------------------------------\n// Standard\n// --------------------------------------------------------------------------\n/** Returns true of this value is an object type */\nexport function IsObject(value) {\n    return value !== null && typeof value === 'object';\n}\n/** Returns true if this value is an array, but not a typed array */\nexport function IsArray(value) {\n    return globalThis.Array.isArray(value) && !globalThis.ArrayBuffer.isView(value);\n}\n/** Returns true if this value is an undefined */\nexport function IsUndefined(value) {\n    return value === undefined;\n}\n/** Returns true if this value is an null */\nexport function IsNull(value) {\n    return value === null;\n}\n/** Returns true if this value is an boolean */\nexport function IsBoolean(value) {\n    return typeof value === 'boolean';\n}\n/** Returns true if this value is an number */\nexport function IsNumber(value) {\n    return typeof value === 'number';\n}\n/** Returns true if this value is an integer */\nexport function IsInteger(value) {\n    return globalThis.Number.isInteger(value);\n}\n/** Returns true if this value is bigint */\nexport function IsBigInt(value) {\n    return typeof value === 'bigint';\n}\n/** Returns true if this value is string */\nexport function IsString(value) {\n    return typeof value === 'string';\n}\n/** Returns true if this value is a function */\nexport function IsFunction(value) {\n    return typeof value === 'function';\n}\n/** Returns true if this value is a symbol */\nexport function IsSymbol(value) {\n    return typeof value === 'symbol';\n}\n/** Returns true if this value is a value type such as number, string, boolean */\nexport function IsValueType(value) {\n    // prettier-ignore\n    return (IsBigInt(value) ||\n        IsBoolean(value) ||\n        IsNull(value) ||\n        IsNumber(value) ||\n        IsString(value) ||\n        IsSymbol(value) ||\n        IsUndefined(value));\n}\n", "import * as ValueGuard from '../guard/value.mjs';\nfunction ImmutableArray(value) {\n    return globalThis.Object.freeze(value).map((value) => Immutable(value));\n}\nfunction ImmutableDate(value) {\n    return value;\n}\nfunction ImmutableUint8Array(value) {\n    return value;\n}\nfunction ImmutableRegExp(value) {\n    return value;\n}\nfunction ImmutableObject(value) {\n    const result = {};\n    for (const key of Object.getOwnPropertyNames(value)) {\n        result[key] = Immutable(value[key]);\n    }\n    for (const key of Object.getOwnPropertySymbols(value)) {\n        result[key] = Immutable(value[key]);\n    }\n    return globalThis.Object.freeze(result);\n}\n/** Specialized deep immutable value. Applies freeze recursively to the given value */\n// prettier-ignore\nexport function Immutable(value) {\n    return (ValueGuard.IsArray(value) ? ImmutableArray(value) :\n        ValueGuard.IsDate(value) ? ImmutableDate(value) :\n            ValueGuard.IsUint8Array(value) ? ImmutableUint8Array(value) :\n                ValueGuard.IsRegExp(value) ? ImmutableRegExp(value) :\n                    ValueGuard.IsObject(value) ? ImmutableObject(value) :\n                        value);\n}\n", "/** The base Error type thrown for all TypeBox exceptions  */\nexport class TypeBoxError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\n", "export * as KindGuard from './kind.mjs';\nexport * as TypeGuard from './type.mjs';\nexport * as ValueGuard from './value.mjs';\n", "import * as ValueGuard from './value.mjs';\nimport { Kind, Hint, TransformKind, ReadonlyKind, OptionalKind } from '../symbols/index.mjs';\n/** `[Kind-Only]` Returns true if this value has a Readonly symbol */\nexport function IsReadonly(value) {\n    return ValueGuard.IsObject(value) && value[ReadonlyKind] === 'Readonly';\n}\n/** `[Kind-Only]` Returns true if this value has a Optional symbol */\nexport function IsOptional(value) {\n    return ValueGuard.IsObject(value) && value[OptionalKind] === 'Optional';\n}\n/** `[Kind-Only]` Returns true if the given value is TAny */\nexport function IsAny(value) {\n    return IsKindOf(value, 'Any');\n}\n/** `[Kind-Only]` Returns true if the given value is TArgument */\nexport function IsArgument(value) {\n    return IsKindOf(value, 'Argument');\n}\n/** `[Kind-Only]` Returns true if the given value is TArray */\nexport function IsArray(value) {\n    return IsKindOf(value, 'Array');\n}\n/** `[Kind-Only]` Returns true if the given value is TAsyncIterator */\nexport function IsAsyncIterator(value) {\n    return IsKindOf(value, 'AsyncIterator');\n}\n/** `[Kind-Only]` Returns true if the given value is TBigInt */\nexport function IsBigInt(value) {\n    return IsKindOf(value, 'BigInt');\n}\n/** `[Kind-Only]` Returns true if the given value is TBoolean */\nexport function IsBoolean(value) {\n    return IsKindOf(value, 'Boolean');\n}\n/** `[Kind-Only]` Returns true if the given value is TComputed */\nexport function IsComputed(value) {\n    return IsKindOf(value, 'Computed');\n}\n/** `[Kind-Only]` Returns true if the given value is TConstructor */\nexport function IsConstructor(value) {\n    return IsKindOf(value, 'Constructor');\n}\n/** `[Kind-Only]` Returns true if the given value is TDate */\nexport function IsDate(value) {\n    return IsKindOf(value, 'Date');\n}\n/** `[Kind-Only]` Returns true if the given value is TFunction */\nexport function IsFunction(value) {\n    return IsKindOf(value, 'Function');\n}\n/** `[Kind-Only]` Returns true if the given value is TInteger */\nexport function IsImport(value) {\n    return IsKindOf(value, 'Import');\n}\n/** `[Kind-Only]` Returns true if the given value is TInteger */\nexport function IsInteger(value) {\n    return IsKindOf(value, 'Integer');\n}\n/** `[Kind-Only]` Returns true if the given schema is TProperties */\nexport function IsProperties(value) {\n    return ValueGuard.IsObject(value);\n}\n/** `[Kind-Only]` Returns true if the given value is TIntersect */\nexport function IsIntersect(value) {\n    return IsKindOf(value, 'Intersect');\n}\n/** `[Kind-Only]` Returns true if the given value is TIterator */\nexport function IsIterator(value) {\n    return IsKindOf(value, 'Iterator');\n}\n/** `[Kind-Only]` Returns true if the given value is a TKind with the given name. */\nexport function IsKindOf(value, kind) {\n    return ValueGuard.IsObject(value) && Kind in value && value[Kind] === kind;\n}\n/** `[Kind-Only]` Returns true if the given value is TLiteral<string> */\nexport function IsLiteralString(value) {\n    return IsLiteral(value) && ValueGuard.IsString(value.const);\n}\n/** `[Kind-Only]` Returns true if the given value is TLiteral<number> */\nexport function IsLiteralNumber(value) {\n    return IsLiteral(value) && ValueGuard.IsNumber(value.const);\n}\n/** `[Kind-Only]` Returns true if the given value is TLiteral<boolean> */\nexport function IsLiteralBoolean(value) {\n    return IsLiteral(value) && ValueGuard.IsBoolean(value.const);\n}\n/** `[Kind-Only]` Returns true if the given value is TLiteralValue */\nexport function IsLiteralValue(value) {\n    return ValueGuard.IsBoolean(value) || ValueGuard.IsNumber(value) || ValueGuard.IsString(value);\n}\n/** `[Kind-Only]` Returns true if the given value is TLiteral */\nexport function IsLiteral(value) {\n    return IsKindOf(value, 'Literal');\n}\n/** `[Kind-Only]` Returns true if the given value is a TMappedKey */\nexport function IsMappedKey(value) {\n    return IsKindOf(value, 'MappedKey');\n}\n/** `[Kind-Only]` Returns true if the given value is TMappedResult */\nexport function IsMappedResult(value) {\n    return IsKindOf(value, 'MappedResult');\n}\n/** `[Kind-Only]` Returns true if the given value is TNever */\nexport function IsNever(value) {\n    return IsKindOf(value, 'Never');\n}\n/** `[Kind-Only]` Returns true if the given value is TNot */\nexport function IsNot(value) {\n    return IsKindOf(value, 'Not');\n}\n/** `[Kind-Only]` Returns true if the given value is TNull */\nexport function IsNull(value) {\n    return IsKindOf(value, 'Null');\n}\n/** `[Kind-Only]` Returns true if the given value is TNumber */\nexport function IsNumber(value) {\n    return IsKindOf(value, 'Number');\n}\n/** `[Kind-Only]` Returns true if the given value is TObject */\nexport function IsObject(value) {\n    return IsKindOf(value, 'Object');\n}\n/** `[Kind-Only]` Returns true if the given value is TPromise */\nexport function IsPromise(value) {\n    return IsKindOf(value, 'Promise');\n}\n/** `[Kind-Only]` Returns true if the given value is TRecord */\nexport function IsRecord(value) {\n    return IsKindOf(value, 'Record');\n}\n/** `[Kind-Only]` Returns true if this value is TRecursive */\nexport function IsRecursive(value) {\n    return ValueGuard.IsObject(value) && Hint in value && value[Hint] === 'Recursive';\n}\n/** `[Kind-Only]` Returns true if the given value is TRef */\nexport function IsRef(value) {\n    return IsKindOf(value, 'Ref');\n}\n/** `[Kind-Only]` Returns true if the given value is TRegExp */\nexport function IsRegExp(value) {\n    return IsKindOf(value, 'RegExp');\n}\n/** `[Kind-Only]` Returns true if the given value is TString */\nexport function IsString(value) {\n    return IsKindOf(value, 'String');\n}\n/** `[Kind-Only]` Returns true if the given value is TSymbol */\nexport function IsSymbol(value) {\n    return IsKindOf(value, 'Symbol');\n}\n/** `[Kind-Only]` Returns true if the given value is TTemplateLiteral */\nexport function IsTemplateLiteral(value) {\n    return IsKindOf(value, 'TemplateLiteral');\n}\n/** `[Kind-Only]` Returns true if the given value is TThis */\nexport function IsThis(value) {\n    return IsKindOf(value, 'This');\n}\n/** `[Kind-Only]` Returns true of this value is TTransform */\nexport function IsTransform(value) {\n    return ValueGuard.IsObject(value) && TransformKind in value;\n}\n/** `[Kind-Only]` Returns true if the given value is TTuple */\nexport function IsTuple(value) {\n    return IsKindOf(value, 'Tuple');\n}\n/** `[Kind-Only]` Returns true if the given value is TUndefined */\nexport function IsUndefined(value) {\n    return IsKindOf(value, 'Undefined');\n}\n/** `[Kind-Only]` Returns true if the given value is TUnion */\nexport function IsUnion(value) {\n    return IsKindOf(value, 'Union');\n}\n/** `[Kind-Only]` Returns true if the given value is TUint8Array */\nexport function IsUint8Array(value) {\n    return IsKindOf(value, 'Uint8Array');\n}\n/** `[Kind-Only]` Returns true if the given value is TUnknown */\nexport function IsUnknown(value) {\n    return IsKindOf(value, 'Unknown');\n}\n/** `[Kind-Only]` Returns true if the given value is a raw TUnsafe */\nexport function IsUnsafe(value) {\n    return IsKindOf(value, 'Unsafe');\n}\n/** `[Kind-Only]` Returns true if the given value is TVoid */\nexport function IsVoid(value) {\n    return IsKindOf(value, 'Void');\n}\n/** `[Kind-Only]` Returns true if the given value is TKind */\nexport function IsKind(value) {\n    return ValueGuard.IsObject(value) && Kind in value && ValueGuard.IsString(value[Kind]);\n}\n/** `[Kind-Only]` Returns true if the given value is TSchema */\nexport function IsSchema(value) {\n    // prettier-ignore\n    return (IsAny(value) ||\n        IsArgument(value) ||\n        IsArray(value) ||\n        IsBoolean(value) ||\n        IsBigInt(value) ||\n        IsAsyncIterator(value) ||\n        IsComputed(value) ||\n        IsConstructor(value) ||\n        IsDate(value) ||\n        IsFunction(value) ||\n        IsInteger(value) ||\n        IsIntersect(value) ||\n        IsIterator(value) ||\n        IsLiteral(value) ||\n        IsMappedKey(value) ||\n        IsMappedResult(value) ||\n        IsNever(value) ||\n        IsNot(value) ||\n        IsNull(value) ||\n        IsNumber(value) ||\n        IsObject(value) ||\n        IsPromise(value) ||\n        IsRecord(value) ||\n        IsRef(value) ||\n        IsRegExp(value) ||\n        IsString(value) ||\n        IsSymbol(value) ||\n        IsTemplateLiteral(value) ||\n        IsThis(value) ||\n        IsTuple(value) ||\n        IsUndefined(value) ||\n        IsUnion(value) ||\n        IsUint8Array(value) ||\n        IsUnknown(value) ||\n        IsUnsafe(value) ||\n        IsVoid(value) ||\n        IsKind(value));\n}\n", "/** Symbol key applied to transform types */\nexport const TransformKind = Symbol.for('TypeBox.Transform');\n/** Symbol key applied to readonly types */\nexport const ReadonlyKind = Symbol.for('TypeBox.Readonly');\n/** Symbol key applied to optional types */\nexport const OptionalKind = Symbol.for('TypeBox.Optional');\n/** Symbol key applied to types */\nexport const Hint = Symbol.for('TypeBox.Hint');\n/** Symbol key applied to types */\nexport const Kind = Symbol.for('TypeBox.Kind');\n", "import * as ValueGuard from './value.mjs';\nimport { Kind, Hint, TransformKind, ReadonlyKind, OptionalKind } from '../symbols/index.mjs';\nimport { TypeBoxError } from '../error/index.mjs';\nexport class TypeGuardUnknownTypeError extends TypeBoxError {\n}\nconst KnownTypes = [\n    'Argument',\n    'Any',\n    'Array',\n    'AsyncIterator',\n    'BigInt',\n    'Boolean',\n    'Computed',\n    'Constructor',\n    'Date',\n    'Enum',\n    'Function',\n    'Integer',\n    'Intersect',\n    'Iterator',\n    'Literal',\n    'MappedKey',\n    'MappedResult',\n    'Not',\n    'Null',\n    'Number',\n    'Object',\n    'Promise',\n    'Record',\n    'Ref',\n    'RegExp',\n    'String',\n    'Symbol',\n    'TemplateLiteral',\n    'This',\n    'Tuple',\n    'Undefined',\n    'Union',\n    'Uint8Array',\n    'Unknown',\n    'Void',\n];\nfunction IsPattern(value) {\n    try {\n        new RegExp(value);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction IsControlCharacterFree(value) {\n    if (!ValueGuard.IsString(value))\n        return false;\n    for (let i = 0; i < value.length; i++) {\n        const code = value.charCodeAt(i);\n        if ((code >= 7 && code <= 13) || code === 27 || code === 127) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction IsAdditionalProperties(value) {\n    return IsOptionalBoolean(value) || IsSchema(value);\n}\nfunction IsOptionalBigInt(value) {\n    return ValueGuard.IsUndefined(value) || ValueGuard.IsBigInt(value);\n}\nfunction IsOptionalNumber(value) {\n    return ValueGuard.IsUndefined(value) || ValueGuard.IsNumber(value);\n}\nfunction IsOptionalBoolean(value) {\n    return ValueGuard.IsUndefined(value) || ValueGuard.IsBoolean(value);\n}\nfunction IsOptionalString(value) {\n    return ValueGuard.IsUndefined(value) || ValueGuard.IsString(value);\n}\nfunction IsOptionalPattern(value) {\n    return ValueGuard.IsUndefined(value) || (ValueGuard.IsString(value) && IsControlCharacterFree(value) && IsPattern(value));\n}\nfunction IsOptionalFormat(value) {\n    return ValueGuard.IsUndefined(value) || (ValueGuard.IsString(value) && IsControlCharacterFree(value));\n}\nfunction IsOptionalSchema(value) {\n    return ValueGuard.IsUndefined(value) || IsSchema(value);\n}\n// ------------------------------------------------------------------\n// Modifiers\n// ------------------------------------------------------------------\n/** Returns true if this value has a Readonly symbol */\nexport function IsReadonly(value) {\n    return ValueGuard.IsObject(value) && value[ReadonlyKind] === 'Readonly';\n}\n/** Returns true if this value has a Optional symbol */\nexport function IsOptional(value) {\n    return ValueGuard.IsObject(value) && value[OptionalKind] === 'Optional';\n}\n// ------------------------------------------------------------------\n// Types\n// ------------------------------------------------------------------\n/** Returns true if the given value is TAny */\nexport function IsAny(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Any') &&\n        IsOptionalString(value.$id));\n}\n/** Returns true if the given value is TArgument */\nexport function IsArgument(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Argument') &&\n        ValueGuard.IsNumber(value.index));\n}\n/** Returns true if the given value is TArray */\nexport function IsArray(value) {\n    return (IsKindOf(value, 'Array') &&\n        value.type === 'array' &&\n        IsOptionalString(value.$id) &&\n        IsSchema(value.items) &&\n        IsOptionalNumber(value.minItems) &&\n        IsOptionalNumber(value.maxItems) &&\n        IsOptionalBoolean(value.uniqueItems) &&\n        IsOptionalSchema(value.contains) &&\n        IsOptionalNumber(value.minContains) &&\n        IsOptionalNumber(value.maxContains));\n}\n/** Returns true if the given value is TAsyncIterator */\nexport function IsAsyncIterator(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'AsyncIterator') &&\n        value.type === 'AsyncIterator' &&\n        IsOptionalString(value.$id) &&\n        IsSchema(value.items));\n}\n/** Returns true if the given value is TBigInt */\nexport function IsBigInt(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'BigInt') &&\n        value.type === 'bigint' &&\n        IsOptionalString(value.$id) &&\n        IsOptionalBigInt(value.exclusiveMaximum) &&\n        IsOptionalBigInt(value.exclusiveMinimum) &&\n        IsOptionalBigInt(value.maximum) &&\n        IsOptionalBigInt(value.minimum) &&\n        IsOptionalBigInt(value.multipleOf));\n}\n/** Returns true if the given value is TBoolean */\nexport function IsBoolean(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Boolean') &&\n        value.type === 'boolean' &&\n        IsOptionalString(value.$id));\n}\n/** Returns true if the given value is TComputed */\nexport function IsComputed(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Computed') &&\n        ValueGuard.IsString(value.target) &&\n        ValueGuard.IsArray(value.parameters) &&\n        value.parameters.every((schema) => IsSchema(schema)));\n}\n/** Returns true if the given value is TConstructor */\nexport function IsConstructor(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Constructor') &&\n        value.type === 'Constructor' &&\n        IsOptionalString(value.$id) &&\n        ValueGuard.IsArray(value.parameters) &&\n        value.parameters.every(schema => IsSchema(schema)) &&\n        IsSchema(value.returns));\n}\n/** Returns true if the given value is TDate */\nexport function IsDate(value) {\n    return (IsKindOf(value, 'Date') &&\n        value.type === 'Date' &&\n        IsOptionalString(value.$id) &&\n        IsOptionalNumber(value.exclusiveMaximumTimestamp) &&\n        IsOptionalNumber(value.exclusiveMinimumTimestamp) &&\n        IsOptionalNumber(value.maximumTimestamp) &&\n        IsOptionalNumber(value.minimumTimestamp) &&\n        IsOptionalNumber(value.multipleOfTimestamp));\n}\n/** Returns true if the given value is TFunction */\nexport function IsFunction(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Function') &&\n        value.type === 'Function' &&\n        IsOptionalString(value.$id) &&\n        ValueGuard.IsArray(value.parameters) &&\n        value.parameters.every(schema => IsSchema(schema)) &&\n        IsSchema(value.returns));\n}\n/** Returns true if the given value is TImport */\nexport function IsImport(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Import') &&\n        ValueGuard.HasPropertyKey(value, '$defs') &&\n        ValueGuard.IsObject(value.$defs) &&\n        IsProperties(value.$defs) &&\n        ValueGuard.HasPropertyKey(value, '$ref') &&\n        ValueGuard.IsString(value.$ref) &&\n        value.$ref in value.$defs // required\n    );\n}\n/** Returns true if the given value is TInteger */\nexport function IsInteger(value) {\n    return (IsKindOf(value, 'Integer') &&\n        value.type === 'integer' &&\n        IsOptionalString(value.$id) &&\n        IsOptionalNumber(value.exclusiveMaximum) &&\n        IsOptionalNumber(value.exclusiveMinimum) &&\n        IsOptionalNumber(value.maximum) &&\n        IsOptionalNumber(value.minimum) &&\n        IsOptionalNumber(value.multipleOf));\n}\n/** Returns true if the given schema is TProperties */\nexport function IsProperties(value) {\n    // prettier-ignore\n    return (ValueGuard.IsObject(value) &&\n        Object.entries(value).every(([key, schema]) => IsControlCharacterFree(key) && IsSchema(schema)));\n}\n/** Returns true if the given value is TIntersect */\nexport function IsIntersect(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Intersect') &&\n        (ValueGuard.IsString(value.type) && value.type !== 'object' ? false : true) &&\n        ValueGuard.IsArray(value.allOf) &&\n        value.allOf.every(schema => IsSchema(schema) && !IsTransform(schema)) &&\n        IsOptionalString(value.type) &&\n        (IsOptionalBoolean(value.unevaluatedProperties) || IsOptionalSchema(value.unevaluatedProperties)) &&\n        IsOptionalString(value.$id));\n}\n/** Returns true if the given value is TIterator */\nexport function IsIterator(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Iterator') &&\n        value.type === 'Iterator' &&\n        IsOptionalString(value.$id) &&\n        IsSchema(value.items));\n}\n/** Returns true if the given value is a TKind with the given name. */\nexport function IsKindOf(value, kind) {\n    return ValueGuard.IsObject(value) && Kind in value && value[Kind] === kind;\n}\n/** Returns true if the given value is TLiteral<string> */\nexport function IsLiteralString(value) {\n    return IsLiteral(value) && ValueGuard.IsString(value.const);\n}\n/** Returns true if the given value is TLiteral<number> */\nexport function IsLiteralNumber(value) {\n    return IsLiteral(value) && ValueGuard.IsNumber(value.const);\n}\n/** Returns true if the given value is TLiteral<boolean> */\nexport function IsLiteralBoolean(value) {\n    return IsLiteral(value) && ValueGuard.IsBoolean(value.const);\n}\n/** Returns true if the given value is TLiteral */\nexport function IsLiteral(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Literal') &&\n        IsOptionalString(value.$id) && IsLiteralValue(value.const));\n}\n/** Returns true if the given value is a TLiteralValue */\nexport function IsLiteralValue(value) {\n    return ValueGuard.IsBoolean(value) || ValueGuard.IsNumber(value) || ValueGuard.IsString(value);\n}\n/** Returns true if the given value is a TMappedKey */\nexport function IsMappedKey(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'MappedKey') &&\n        ValueGuard.IsArray(value.keys) &&\n        value.keys.every(key => ValueGuard.IsNumber(key) || ValueGuard.IsString(key)));\n}\n/** Returns true if the given value is TMappedResult */\nexport function IsMappedResult(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'MappedResult') &&\n        IsProperties(value.properties));\n}\n/** Returns true if the given value is TNever */\nexport function IsNever(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Never') &&\n        ValueGuard.IsObject(value.not) &&\n        Object.getOwnPropertyNames(value.not).length === 0);\n}\n/** Returns true if the given value is TNot */\nexport function IsNot(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Not') &&\n        IsSchema(value.not));\n}\n/** Returns true if the given value is TNull */\nexport function IsNull(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Null') &&\n        value.type === 'null' &&\n        IsOptionalString(value.$id));\n}\n/** Returns true if the given value is TNumber */\nexport function IsNumber(value) {\n    return (IsKindOf(value, 'Number') &&\n        value.type === 'number' &&\n        IsOptionalString(value.$id) &&\n        IsOptionalNumber(value.exclusiveMaximum) &&\n        IsOptionalNumber(value.exclusiveMinimum) &&\n        IsOptionalNumber(value.maximum) &&\n        IsOptionalNumber(value.minimum) &&\n        IsOptionalNumber(value.multipleOf));\n}\n/** Returns true if the given value is TObject */\nexport function IsObject(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Object') &&\n        value.type === 'object' &&\n        IsOptionalString(value.$id) &&\n        IsProperties(value.properties) &&\n        IsAdditionalProperties(value.additionalProperties) &&\n        IsOptionalNumber(value.minProperties) &&\n        IsOptionalNumber(value.maxProperties));\n}\n/** Returns true if the given value is TPromise */\nexport function IsPromise(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Promise') &&\n        value.type === 'Promise' &&\n        IsOptionalString(value.$id) &&\n        IsSchema(value.item));\n}\n/** Returns true if the given value is TRecord */\nexport function IsRecord(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Record') &&\n        value.type === 'object' &&\n        IsOptionalString(value.$id) &&\n        IsAdditionalProperties(value.additionalProperties) &&\n        ValueGuard.IsObject(value.patternProperties) &&\n        ((schema) => {\n            const keys = Object.getOwnPropertyNames(schema.patternProperties);\n            return (keys.length === 1 &&\n                IsPattern(keys[0]) &&\n                ValueGuard.IsObject(schema.patternProperties) &&\n                IsSchema(schema.patternProperties[keys[0]]));\n        })(value));\n}\n/** Returns true if this value is TRecursive */\nexport function IsRecursive(value) {\n    return ValueGuard.IsObject(value) && Hint in value && value[Hint] === 'Recursive';\n}\n/** Returns true if the given value is TRef */\nexport function IsRef(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Ref') &&\n        IsOptionalString(value.$id) &&\n        ValueGuard.IsString(value.$ref));\n}\n/** Returns true if the given value is TRegExp */\nexport function IsRegExp(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'RegExp') &&\n        IsOptionalString(value.$id) &&\n        ValueGuard.IsString(value.source) &&\n        ValueGuard.IsString(value.flags) &&\n        IsOptionalNumber(value.maxLength) &&\n        IsOptionalNumber(value.minLength));\n}\n/** Returns true if the given value is TString */\nexport function IsString(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'String') &&\n        value.type === 'string' &&\n        IsOptionalString(value.$id) &&\n        IsOptionalNumber(value.minLength) &&\n        IsOptionalNumber(value.maxLength) &&\n        IsOptionalPattern(value.pattern) &&\n        IsOptionalFormat(value.format));\n}\n/** Returns true if the given value is TSymbol */\nexport function IsSymbol(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Symbol') &&\n        value.type === 'symbol' &&\n        IsOptionalString(value.$id));\n}\n/** Returns true if the given value is TTemplateLiteral */\nexport function IsTemplateLiteral(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'TemplateLiteral') &&\n        value.type === 'string' &&\n        ValueGuard.IsString(value.pattern) &&\n        value.pattern[0] === '^' &&\n        value.pattern[value.pattern.length - 1] === '$');\n}\n/** Returns true if the given value is TThis */\nexport function IsThis(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'This') &&\n        IsOptionalString(value.$id) &&\n        ValueGuard.IsString(value.$ref));\n}\n/** Returns true of this value is TTransform */\nexport function IsTransform(value) {\n    return ValueGuard.IsObject(value) && TransformKind in value;\n}\n/** Returns true if the given value is TTuple */\nexport function IsTuple(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Tuple') &&\n        value.type === 'array' &&\n        IsOptionalString(value.$id) &&\n        ValueGuard.IsNumber(value.minItems) &&\n        ValueGuard.IsNumber(value.maxItems) &&\n        value.minItems === value.maxItems &&\n        (( // empty\n        ValueGuard.IsUndefined(value.items) &&\n            ValueGuard.IsUndefined(value.additionalItems) &&\n            value.minItems === 0) || (ValueGuard.IsArray(value.items) &&\n            value.items.every(schema => IsSchema(schema)))));\n}\n/** Returns true if the given value is TUndefined */\nexport function IsUndefined(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Undefined') &&\n        value.type === 'undefined' &&\n        IsOptionalString(value.$id));\n}\n/** Returns true if the given value is TUnion<Literal<string | number>[]> */\nexport function IsUnionLiteral(value) {\n    return IsUnion(value) && value.anyOf.every((schema) => IsLiteralString(schema) || IsLiteralNumber(schema));\n}\n/** Returns true if the given value is TUnion */\nexport function IsUnion(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Union') &&\n        IsOptionalString(value.$id) &&\n        ValueGuard.IsObject(value) &&\n        ValueGuard.IsArray(value.anyOf) &&\n        value.anyOf.every(schema => IsSchema(schema)));\n}\n/** Returns true if the given value is TUint8Array */\nexport function IsUint8Array(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Uint8Array') &&\n        value.type === 'Uint8Array' &&\n        IsOptionalString(value.$id) &&\n        IsOptionalNumber(value.minByteLength) &&\n        IsOptionalNumber(value.maxByteLength));\n}\n/** Returns true if the given value is TUnknown */\nexport function IsUnknown(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Unknown') &&\n        IsOptionalString(value.$id));\n}\n/** Returns true if the given value is a raw TUnsafe */\nexport function IsUnsafe(value) {\n    return IsKindOf(value, 'Unsafe');\n}\n/** Returns true if the given value is TVoid */\nexport function IsVoid(value) {\n    // prettier-ignore\n    return (IsKindOf(value, 'Void') &&\n        value.type === 'void' &&\n        IsOptionalString(value.$id));\n}\n/** Returns true if the given value is TKind */\nexport function IsKind(value) {\n    return ValueGuard.IsObject(value) && Kind in value && ValueGuard.IsString(value[Kind]) && !KnownTypes.includes(value[Kind]);\n}\n/** Returns true if the given value is TSchema */\nexport function IsSchema(value) {\n    // prettier-ignore\n    return (ValueGuard.IsObject(value)) && (IsAny(value) ||\n        IsArgument(value) ||\n        IsArray(value) ||\n        IsBoolean(value) ||\n        IsBigInt(value) ||\n        IsAsyncIterator(value) ||\n        IsComputed(value) ||\n        IsConstructor(value) ||\n        IsDate(value) ||\n        IsFunction(value) ||\n        IsInteger(value) ||\n        IsIntersect(value) ||\n        IsIterator(value) ||\n        IsLiteral(value) ||\n        IsMappedKey(value) ||\n        IsMappedResult(value) ||\n        IsNever(value) ||\n        IsNot(value) ||\n        IsNull(value) ||\n        IsNumber(value) ||\n        IsObject(value) ||\n        IsPromise(value) ||\n        IsRecord(value) ||\n        IsRef(value) ||\n        IsRegExp(value) ||\n        IsString(value) ||\n        IsSymbol(value) ||\n        IsTemplateLiteral(value) ||\n        IsThis(value) ||\n        IsTuple(value) ||\n        IsUndefined(value) ||\n        IsUnion(value) ||\n        IsUint8Array(value) ||\n        IsUnknown(value) ||\n        IsUnsafe(value) ||\n        IsVoid(value) ||\n        IsKind(value));\n}\n", "export const PatternBoolean = '(true|false)';\nexport const PatternNumber = '(0|[1-9][0-9]*)';\nexport const PatternString = '(.*)';\nexport const PatternNever = '(?!.*)';\nexport const PatternBooleanExact = `^${PatternBoolean}$`;\nexport const PatternNumberExact = `^${PatternNumber}$`;\nexport const PatternStringExact = `^${PatternString}$`;\nexport const PatternNeverExact = `^${PatternNever}$`;\n", "export * as FormatRegistry from './format.mjs';\nexport * as TypeRegistry from './type.mjs';\n", "/** A registry for user defined string formats */\nconst map = new Map();\n/** Returns the entries in this registry */\nexport function Entries() {\n    return new Map(map);\n}\n/** Clears all user defined string formats */\nexport function Clear() {\n    return map.clear();\n}\n/** Deletes a registered format */\nexport function Delete(format) {\n    return map.delete(format);\n}\n/** Returns true if the user defined string format exists */\nexport function Has(format) {\n    return map.has(format);\n}\n/** Sets a validation function for a user defined string format */\nexport function Set(format, func) {\n    map.set(format, func);\n}\n/** Gets a validation function for a user defined string format */\nexport function Get(format) {\n    return map.get(format);\n}\n", "/** A registry for user defined types */\nconst map = new Map();\n/** Returns the entries in this registry */\nexport function Entries() {\n    return new Map(map);\n}\n/** Clears all user defined types */\nexport function Clear() {\n    return map.clear();\n}\n/** Deletes a registered type */\nexport function Delete(kind) {\n    return map.delete(kind);\n}\n/** Returns true if this registry contains this kind */\nexport function Has(kind) {\n    return map.has(kind);\n}\n/** Sets a validation function for a user defined type */\nexport function Set(kind, func) {\n    map.set(kind, func);\n}\n/** Gets a custom validation function for a user defined type */\nexport function Get(kind) {\n    return map.get(kind);\n}\n", "/** Returns true if element right is in the set of left */\n// prettier-ignore\nexport function SetIncludes(T, S) {\n    return T.includes(S);\n}\n/** Returns true if left is a subset of right */\nexport function SetIsSubset(T, S) {\n    return T.every((L) => SetIncludes(S, L));\n}\n/** Returns a distinct set of elements */\nexport function SetDistinct(T) {\n    return [...new Set(T)];\n}\n/** Returns the Intersect of the given sets */\nexport function SetIntersect(T, S) {\n    return T.filter((L) => S.includes(L));\n}\n/** Returns the Union of the given sets */\nexport function SetUnion(T, S) {\n    return [...T, ...S];\n}\n/** Returns the Complement by omitting elements in T that are in S */\n// prettier-ignore\nexport function SetComplement(T, S) {\n    return T.filter(L => !S.includes(L));\n}\n// prettier-ignore\nfunction SetIntersectManyResolve(T, Init) {\n    return T.reduce((Acc, L) => {\n        return SetIntersect(Acc, L);\n    }, Init);\n}\n// prettier-ignore\nexport function SetIntersectMany(T) {\n    return (T.length === 1\n        ? T[0]\n        // Use left to initialize the accumulator for resolve\n        : T.length > 1\n            ? SetIntersectManyResolve(T.slice(1), T[0])\n            : []);\n}\n/** Returns the Union of multiple sets */\nexport function SetUnionMany(T) {\n    const Acc = [];\n    for (const L of T)\n        Acc.push(...L);\n    return Acc;\n}\n", "import { CreateType } from '../create/index.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates an Any type */\nexport function Any(options) {\n    return CreateType({ [Kind]: 'Any' }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates an Array type */\nexport function Array(items, options) {\n    return CreateType({ [Kind]: 'Array', type: 'array', items }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates an Argument Type. */\nexport function Argument(index) {\n    return CreateType({ [Kind]: 'Argument', index });\n}\n", "import { Kind } from '../symbols/index.mjs';\nimport { CreateType } from '../create/type.mjs';\n/** `[JavaScript]` Creates a AsyncIterator type */\nexport function AsyncIterator(items, options) {\n    return CreateType({ [Kind]: 'AsyncIterator', type: 'AsyncIterator', items }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Computed } from '../computed/index.mjs';\nimport { Intersect } from '../intersect/index.mjs';\nimport { Union } from '../union/index.mjs';\nimport { Ref } from '../ref/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsIntersect, IsUnion, IsPromise, IsRef, IsComputed } from '../guard/kind.mjs';\n// prettier-ignore\nfunction FromComputed(target, parameters) {\n    return Computed('Awaited', [Computed(target, parameters)]);\n}\n// prettier-ignore\nfunction FromRef($ref) {\n    return Computed('Awaited', [Ref($ref)]);\n}\n// prettier-ignore\nfunction FromIntersect(types) {\n    return Intersect(FromRest(types));\n}\n// prettier-ignore\nfunction FromUnion(types) {\n    return Union(FromRest(types));\n}\n// prettier-ignore\nfunction FromPromise(type) {\n    return Awaited(type);\n}\n// prettier-ignore\nfunction FromRest(types) {\n    return types.map(type => Awaited(type));\n}\n/** `[JavaScript]` Constructs a type by recursively unwrapping Promise types */\nexport function Awaited(type, options) {\n    return CreateType(IsComputed(type) ? FromComputed(type.target, type.parameters) : IsIntersect(type) ? FromIntersect(type.allOf) : IsUnion(type) ? FromUnion(type.anyOf) : IsPromise(type) ? FromPromise(type.item) : IsRef(type) ? FromRef(type.$ref) : type, options);\n}\n", "import { CreateType } from '../create/index.mjs';\nimport { Kind } from '../symbols/symbols.mjs';\n/** `[Internal]` Creates a deferred computed type. This type is used exclusively in modules to defer resolution of computable types that contain interior references  */\nexport function Computed(target, parameters, options) {\n    return CreateType({ [Kind]: 'Computed', target, parameters }, options);\n}\n", "import { OptionalKind } from '../symbols/index.mjs';\nimport { CreateType } from '../create/type.mjs';\nimport { Discard } from '../discard/index.mjs';\nimport { Never } from '../never/index.mjs';\nimport { Optional } from '../optional/index.mjs';\nimport { IntersectCreate } from './intersect-create.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsOptional, IsTransform } from '../guard/kind.mjs';\n// prettier-ignore\nfunction IsIntersectOptional(types) {\n    return types.every(left => IsOptional(left));\n}\n// prettier-ignore\nfunction RemoveOptionalFromType(type) {\n    return (Discard(type, [OptionalKind]));\n}\n// prettier-ignore\nfunction RemoveOptionalFromRest(types) {\n    return types.map(left => IsOptional(left) ? RemoveOptionalFromType(left) : left);\n}\n// prettier-ignore\nfunction ResolveIntersect(types, options) {\n    return (IsIntersectOptional(types)\n        ? Optional(IntersectCreate(RemoveOptionalFromRest(types), options))\n        : IntersectCreate(RemoveOptionalFromRest(types), options));\n}\n/** `[Json]` Creates an evaluated Intersect type */\nexport function IntersectEvaluated(types, options = {}) {\n    if (types.length === 1)\n        return CreateType(types[0], options);\n    if (types.length === 0)\n        return Never(options);\n    if (types.some((schema) => IsTransform(schema)))\n        throw new Error('Cannot intersect transform types');\n    return ResolveIntersect(types, options);\n}\n", "function DiscardKey(value, key) {\n    const { [key]: _, ...rest } = value;\n    return rest;\n}\n/** Discards property keys from the given value. This function returns a shallow Clone. */\nexport function Discard(value, keys) {\n    return keys.reduce((acc, key) => DiscardKey(acc, key), value);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a Never type */\nexport function Never(options) {\n    return CreateType({ [Kind]: 'Never', not: {} }, options);\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Optional } from './optional.mjs';\n// prettier-ignore\nfunction FromProperties(P, F) {\n    const Acc = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(P))\n        Acc[K2] = Optional(P[K2], F);\n    return Acc;\n}\n// prettier-ignore\nfunction FromMappedResult(R, F) {\n    return FromProperties(R.properties, F);\n}\n// prettier-ignore\nexport function OptionalFromMappedResult(R, F) {\n    const P = FromMappedResult(R, F);\n    return MappedResult(P);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n// prettier-ignore\nexport function MappedResult(properties) {\n    return CreateType({\n        [Kind]: 'MappedResult',\n        properties\n    });\n}\n", "import { Kind, OptionalKind, ReadonlyKind } from '../symbols/index.mjs';\nimport { Discard } from '../discard/index.mjs';\n// evaluation types\nimport { Array } from '../array/index.mjs';\nimport { AsyncIterator } from '../async-iterator/index.mjs';\nimport { Constructor } from '../constructor/index.mjs';\nimport { Function as FunctionType } from '../function/index.mjs';\nimport { IndexPropertyKeys } from '../indexed/index.mjs';\nimport { Intersect } from '../intersect/index.mjs';\nimport { Iterator } from '../iterator/index.mjs';\nimport { Literal } from '../literal/index.mjs';\nimport { Object } from '../object/index.mjs';\nimport { Optional } from '../optional/index.mjs';\nimport { Promise } from '../promise/index.mjs';\nimport { Readonly } from '../readonly/index.mjs';\nimport { Tuple } from '../tuple/index.mjs';\nimport { Union } from '../union/index.mjs';\n// operator\nimport { SetIncludes } from '../sets/index.mjs';\n// mapping types\nimport { MappedResult } from './mapped-result.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsArray, IsAsyncIterator, IsConstructor, IsFunction, IsIntersect, IsIterator, IsReadonly, IsMappedResult, IsMappedKey, IsObject, IsOptional, IsPromise, IsSchema, IsTuple, IsUnion } from '../guard/kind.mjs';\n// prettier-ignore\nfunction FromMappedResult(K, P) {\n    return (K in P\n        ? FromSchemaType(K, P[K])\n        : MappedResult(P));\n}\n// prettier-ignore\nfunction MappedKeyToKnownMappedResultProperties(K) {\n    return { [K]: Literal(K) };\n}\n// prettier-ignore\nfunction MappedKeyToUnknownMappedResultProperties(P) {\n    const Acc = {};\n    for (const L of P)\n        Acc[L] = Literal(L);\n    return Acc;\n}\n// prettier-ignore\nfunction MappedKeyToMappedResultProperties(K, P) {\n    return (SetIncludes(P, K)\n        ? MappedKeyToKnownMappedResultProperties(K)\n        : MappedKeyToUnknownMappedResultProperties(P));\n}\n// prettier-ignore\nfunction FromMappedKey(K, P) {\n    const R = MappedKeyToMappedResultProperties(K, P);\n    return FromMappedResult(K, R);\n}\n// prettier-ignore\nfunction FromRest(K, T) {\n    return T.map(L => FromSchemaType(K, L));\n}\n// prettier-ignore\nfunction FromProperties(K, T) {\n    const Acc = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(T))\n        Acc[K2] = FromSchemaType(K, T[K2]);\n    return Acc;\n}\n// prettier-ignore\nfunction FromSchemaType(K, T) {\n    // required to retain user defined options for mapped type\n    const options = { ...T };\n    return (\n    // unevaluated modifier types\n    IsOptional(T) ? Optional(FromSchemaType(K, Discard(T, [OptionalKind]))) :\n        IsReadonly(T) ? Readonly(FromSchemaType(K, Discard(T, [ReadonlyKind]))) :\n            // unevaluated mapped types\n            IsMappedResult(T) ? FromMappedResult(K, T.properties) :\n                IsMappedKey(T) ? FromMappedKey(K, T.keys) :\n                    // unevaluated types\n                    IsConstructor(T) ? Constructor(FromRest(K, T.parameters), FromSchemaType(K, T.returns), options) :\n                        IsFunction(T) ? FunctionType(FromRest(K, T.parameters), FromSchemaType(K, T.returns), options) :\n                            IsAsyncIterator(T) ? AsyncIterator(FromSchemaType(K, T.items), options) :\n                                IsIterator(T) ? Iterator(FromSchemaType(K, T.items), options) :\n                                    IsIntersect(T) ? Intersect(FromRest(K, T.allOf), options) :\n                                        IsUnion(T) ? Union(FromRest(K, T.anyOf), options) :\n                                            IsTuple(T) ? Tuple(FromRest(K, T.items ?? []), options) :\n                                                IsObject(T) ? Object(FromProperties(K, T.properties), options) :\n                                                    IsArray(T) ? Array(FromSchemaType(K, T.items), options) :\n                                                        IsPromise(T) ? Promise(FromSchemaType(K, T.item), options) :\n                                                            T);\n}\n// prettier-ignore\nexport function MappedFunctionReturnType(K, T) {\n    const Acc = {};\n    for (const L of K)\n        Acc[L] = FromSchemaType(L, T);\n    return Acc;\n}\n/** `[Json]` Creates a Mapped object type */\nexport function Mapped(key, map, options) {\n    const K = IsSchema(key) ? IndexPropertyKeys(key) : key;\n    const RT = map({ [Kind]: 'MappedKey', keys: K });\n    const R = MappedFunctionReturnType(K, RT);\n    return Object(R, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates a Constructor type */\nexport function Constructor(parameters, returns, options) {\n    return CreateType({ [Kind]: 'Constructor', type: 'Constructor', parameters, returns }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates a Function type */\nexport function Function(parameters, returns, options) {\n    return CreateType({ [Kind]: 'Function', type: 'Function', parameters, returns }, options);\n}\n", "import { Index } from './indexed.mjs';\nimport { MappedResult } from '../mapped/index.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction MappedIndexPropertyKey(type, key, options) {\n    return { [key]: Index(type, [key], Clone(options)) };\n}\n// prettier-ignore\nfunction MappedIndexPropertyKeys(type, propertyKeys, options) {\n    return propertyKeys.reduce((result, left) => {\n        return { ...result, ...MappedIndexPropertyKey(type, left, options) };\n    }, {});\n}\n// prettier-ignore\nfunction MappedIndexProperties(type, mappedKey, options) {\n    return MappedIndexPropertyKeys(type, mappedKey.keys, options);\n}\n// prettier-ignore\nexport function IndexFromMappedKey(type, mappedKey, options) {\n    const properties = MappedIndexProperties(type, mappedKey, options);\n    return MappedResult(properties);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { TypeBoxError } from '../error/index.mjs';\nimport { Computed } from '../computed/index.mjs';\nimport { Never } from '../never/index.mjs';\nimport { IntersectEvaluated } from '../intersect/index.mjs';\nimport { UnionEvaluated } from '../union/index.mjs';\nimport { IndexPropertyKeys } from './indexed-property-keys.mjs';\nimport { IndexFromMappedKey } from './indexed-from-mapped-key.mjs';\nimport { IndexFromMappedResult } from './indexed-from-mapped-result.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsArray, IsIntersect, IsObject, IsMappedKey, IsMappedResult, IsNever, IsSchema, IsTuple, IsUnion, IsRef } from '../guard/kind.mjs';\n// prettier-ignore\nfunction FromRest(types, key) {\n    return types.map(type => IndexFromPropertyKey(type, key));\n}\n// prettier-ignore\nfunction FromIntersectRest(types) {\n    return types.filter(type => !IsNever(type));\n}\n// prettier-ignore\nfunction FromIntersect(types, key) {\n    return (IntersectEvaluated(FromIntersectRest(FromRest(types, key))));\n}\n// prettier-ignore\nfunction FromUnionRest(types) {\n    return (types.some(L => IsNever(L))\n        ? []\n        : types);\n}\n// prettier-ignore\nfunction FromUnion(types, key) {\n    return (UnionEvaluated(FromUnionRest(FromRest(types, key))));\n}\n// prettier-ignore\nfunction FromTuple(types, key) {\n    return (key in types ? types[key] :\n        key === '[number]' ? UnionEvaluated(types) :\n            Never());\n}\n// prettier-ignore\nfunction FromArray(type, key) {\n    return (key === '[number]'\n        ? type\n        : Never());\n}\n// prettier-ignore\nfunction FromProperty(properties, propertyKey) {\n    return (propertyKey in properties ? properties[propertyKey] : Never());\n}\n// prettier-ignore\nexport function IndexFromPropertyKey(type, propertyKey) {\n    return (IsIntersect(type) ? FromIntersect(type.allOf, propertyKey) :\n        IsUnion(type) ? FromUnion(type.anyOf, propertyKey) :\n            IsTuple(type) ? FromTuple(type.items ?? [], propertyKey) :\n                IsArray(type) ? FromArray(type.items, propertyKey) :\n                    IsObject(type) ? FromProperty(type.properties, propertyKey) :\n                        Never());\n}\n// prettier-ignore\nexport function IndexFromPropertyKeys(type, propertyKeys) {\n    return propertyKeys.map(propertyKey => IndexFromPropertyKey(type, propertyKey));\n}\n// prettier-ignore\nfunction FromSchema(type, propertyKeys) {\n    return (UnionEvaluated(IndexFromPropertyKeys(type, propertyKeys)));\n}\n// prettier-ignore\nexport function IndexFromComputed(type, key) {\n    return Computed('Index', [type, key]);\n}\n/** `[Json]` Returns an Indexed property type for the given keys */\nexport function Index(type, key, options) {\n    // computed-type\n    if (IsRef(type) || IsRef(key)) {\n        const error = `Index types using Ref parameters require both Type and Key to be of TSchema`;\n        if (!IsSchema(type) || !IsSchema(key))\n            throw new TypeBoxError(error);\n        return Computed('Index', [type, key]);\n    }\n    // mapped-types\n    if (IsMappedResult(key))\n        return IndexFromMappedResult(type, key, options);\n    if (IsMappedKey(key))\n        return IndexFromMappedKey(type, key, options);\n    // prettier-ignore\n    return CreateType(IsSchema(key)\n        ? FromSchema(type, IndexPropertyKeys(key))\n        : FromSchema(type, key), options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { OptionalKind } from '../symbols/index.mjs';\nimport { Discard } from '../discard/index.mjs';\nimport { Never } from '../never/index.mjs';\nimport { Optional } from '../optional/index.mjs';\nimport { UnionCreate } from './union-create.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsOptional } from '../guard/kind.mjs';\n// prettier-ignore\nfunction IsUnionOptional(types) {\n    return types.some(type => IsOptional(type));\n}\n// prettier-ignore\nfunction RemoveOptionalFromRest(types) {\n    return types.map(left => IsOptional(left) ? RemoveOptionalFromType(left) : left);\n}\n// prettier-ignore\nfunction RemoveOptionalFromType(T) {\n    return (Discard(T, [OptionalKind]));\n}\n// prettier-ignore\nfunction ResolveUnion(types, options) {\n    const isOptional = IsUnionOptional(types);\n    return (isOptional\n        ? Optional(UnionCreate(RemoveOptionalFromRest(types), options))\n        : UnionCreate(RemoveOptionalFromRest(types), options));\n}\n/** `[Json]` Creates an evaluated Union type */\nexport function UnionEvaluated(T, options) {\n    // prettier-ignore\n    return (T.length === 1 ? CreateType(T[0], options) :\n        T.length === 0 ? Never(options) :\n            ResolveUnion(T, options));\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\nexport function UnionCreate(T, options) {\n    return CreateType({ [Kind]: 'Union', anyOf: T }, options);\n}\n", "import { Never } from '../never/index.mjs';\nimport { CreateType } from '../create/type.mjs';\nimport { UnionCreate } from './union-create.mjs';\n/** `[Json]` Creates a Union type */\nexport function Union(types, options) {\n    // prettier-ignore\n    return (types.length === 0 ? Never(options) :\n        types.length === 1 ? CreateType(types[0], options) :\n            UnionCreate(types, options));\n}\n", "import { TemplateLiteralGenerate } from '../template-literal/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsTemplateLiteral, IsUnion, IsLiteral, IsNumber, IsInteger } from '../guard/kind.mjs';\n// prettier-ignore\nfunction FromTemplateLiteral(templateLiteral) {\n    const keys = TemplateLiteralGenerate(templateLiteral);\n    return keys.map(key => key.toString());\n}\n// prettier-ignore\nfunction FromUnion(types) {\n    const result = [];\n    for (const type of types)\n        result.push(...IndexPropertyKeys(type));\n    return result;\n}\n// prettier-ignore\nfunction FromLiteral(literalValue) {\n    return ([literalValue.toString()] // TS 5.4 observes TLiteralValue as not having a toString()\n    );\n}\n/** Returns a tuple of PropertyKeys derived from the given TSchema */\n// prettier-ignore\nexport function IndexPropertyKeys(type) {\n    return [...new Set((IsTemplateLiteral(type) ? FromTemplateLiteral(type) :\n            IsUnion(type) ? FromUnion(type.anyOf) :\n                IsLiteral(type) ? FromLiteral(type.const) :\n                    IsNumber(type) ? ['[number]'] :\n                        IsInteger(type) ? ['[number]'] :\n                            []))];\n}\n", "import { TemplateLiteralParseExact } from './parse.mjs';\nimport { TypeBoxError } from '../error/index.mjs';\n// ------------------------------------------------------------------\n// TemplateLiteralFiniteError\n// ------------------------------------------------------------------\nexport class TemplateLiteralFiniteError extends TypeBoxError {\n}\n// ------------------------------------------------------------------\n// IsTemplateLiteralFiniteCheck\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction IsNumberExpression(expression) {\n    return (expression.type === 'or' &&\n        expression.expr.length === 2 &&\n        expression.expr[0].type === 'const' &&\n        expression.expr[0].const === '0' &&\n        expression.expr[1].type === 'const' &&\n        expression.expr[1].const === '[1-9][0-9]*');\n}\n// prettier-ignore\nfunction IsBooleanExpression(expression) {\n    return (expression.type === 'or' &&\n        expression.expr.length === 2 &&\n        expression.expr[0].type === 'const' &&\n        expression.expr[0].const === 'true' &&\n        expression.expr[1].type === 'const' &&\n        expression.expr[1].const === 'false');\n}\n// prettier-ignore\nfunction IsStringExpression(expression) {\n    return expression.type === 'const' && expression.const === '.*';\n}\n// ------------------------------------------------------------------\n// IsTemplateLiteralExpressionFinite\n// ------------------------------------------------------------------\n// prettier-ignore\nexport function IsTemplateLiteralExpressionFinite(expression) {\n    return (IsNumberExpression(expression) || IsStringExpression(expression) ? false :\n        IsBooleanExpression(expression) ? true :\n            (expression.type === 'and') ? expression.expr.every((expr) => IsTemplateLiteralExpressionFinite(expr)) :\n                (expression.type === 'or') ? expression.expr.every((expr) => IsTemplateLiteralExpressionFinite(expr)) :\n                    (expression.type === 'const') ? true :\n                        (() => { throw new TemplateLiteralFiniteError(`Unknown expression type`); })());\n}\n/** Returns true if this TemplateLiteral resolves to a finite set of values */\nexport function IsTemplateLiteralFinite(schema) {\n    const expression = TemplateLiteralParseExact(schema.pattern);\n    return IsTemplateLiteralExpressionFinite(expression);\n}\n", "import { TypeBoxError } from '../error/index.mjs';\n// ------------------------------------------------------------------\n// TemplateLiteralParserError\n// ------------------------------------------------------------------\nexport class TemplateLiteralParserError extends TypeBoxError {\n}\n// -------------------------------------------------------------------\n// Unescape\n//\n// Unescape for these control characters specifically. Note that this\n// function is only called on non union group content, and where we\n// still want to allow the user to embed control characters in that\n// content. For review.\n// -------------------------------------------------------------------\n// prettier-ignore\nfunction Unescape(pattern) {\n    return pattern\n        .replace(/\\\\\\$/g, '$')\n        .replace(/\\\\\\*/g, '*')\n        .replace(/\\\\\\^/g, '^')\n        .replace(/\\\\\\|/g, '|')\n        .replace(/\\\\\\(/g, '(')\n        .replace(/\\\\\\)/g, ')');\n}\n// -------------------------------------------------------------------\n// Control Characters\n// -------------------------------------------------------------------\nfunction IsNonEscaped(pattern, index, char) {\n    return pattern[index] === char && pattern.charCodeAt(index - 1) !== 92;\n}\nfunction IsOpenParen(pattern, index) {\n    return IsNonEscaped(pattern, index, '(');\n}\nfunction IsCloseParen(pattern, index) {\n    return IsNonEscaped(pattern, index, ')');\n}\nfunction IsSeparator(pattern, index) {\n    return IsNonEscaped(pattern, index, '|');\n}\n// -------------------------------------------------------------------\n// Control Groups\n// -------------------------------------------------------------------\nfunction IsGroup(pattern) {\n    if (!(IsOpenParen(pattern, 0) && IsCloseParen(pattern, pattern.length - 1)))\n        return false;\n    let count = 0;\n    for (let index = 0; index < pattern.length; index++) {\n        if (IsOpenParen(pattern, index))\n            count += 1;\n        if (IsCloseParen(pattern, index))\n            count -= 1;\n        if (count === 0 && index !== pattern.length - 1)\n            return false;\n    }\n    return true;\n}\n// prettier-ignore\nfunction InGroup(pattern) {\n    return pattern.slice(1, pattern.length - 1);\n}\n// prettier-ignore\nfunction IsPrecedenceOr(pattern) {\n    let count = 0;\n    for (let index = 0; index < pattern.length; index++) {\n        if (IsOpenParen(pattern, index))\n            count += 1;\n        if (IsCloseParen(pattern, index))\n            count -= 1;\n        if (IsSeparator(pattern, index) && count === 0)\n            return true;\n    }\n    return false;\n}\n// prettier-ignore\nfunction IsPrecedenceAnd(pattern) {\n    for (let index = 0; index < pattern.length; index++) {\n        if (IsOpenParen(pattern, index))\n            return true;\n    }\n    return false;\n}\n// prettier-ignore\nfunction Or(pattern) {\n    let [count, start] = [0, 0];\n    const expressions = [];\n    for (let index = 0; index < pattern.length; index++) {\n        if (IsOpenParen(pattern, index))\n            count += 1;\n        if (IsCloseParen(pattern, index))\n            count -= 1;\n        if (IsSeparator(pattern, index) && count === 0) {\n            const range = pattern.slice(start, index);\n            if (range.length > 0)\n                expressions.push(TemplateLiteralParse(range));\n            start = index + 1;\n        }\n    }\n    const range = pattern.slice(start);\n    if (range.length > 0)\n        expressions.push(TemplateLiteralParse(range));\n    if (expressions.length === 0)\n        return { type: 'const', const: '' };\n    if (expressions.length === 1)\n        return expressions[0];\n    return { type: 'or', expr: expressions };\n}\n// prettier-ignore\nfunction And(pattern) {\n    function Group(value, index) {\n        if (!IsOpenParen(value, index))\n            throw new TemplateLiteralParserError(`TemplateLiteralParser: Index must point to open parens`);\n        let count = 0;\n        for (let scan = index; scan < value.length; scan++) {\n            if (IsOpenParen(value, scan))\n                count += 1;\n            if (IsCloseParen(value, scan))\n                count -= 1;\n            if (count === 0)\n                return [index, scan];\n        }\n        throw new TemplateLiteralParserError(`TemplateLiteralParser: Unclosed group parens in expression`);\n    }\n    function Range(pattern, index) {\n        for (let scan = index; scan < pattern.length; scan++) {\n            if (IsOpenParen(pattern, scan))\n                return [index, scan];\n        }\n        return [index, pattern.length];\n    }\n    const expressions = [];\n    for (let index = 0; index < pattern.length; index++) {\n        if (IsOpenParen(pattern, index)) {\n            const [start, end] = Group(pattern, index);\n            const range = pattern.slice(start, end + 1);\n            expressions.push(TemplateLiteralParse(range));\n            index = end;\n        }\n        else {\n            const [start, end] = Range(pattern, index);\n            const range = pattern.slice(start, end);\n            if (range.length > 0)\n                expressions.push(TemplateLiteralParse(range));\n            index = end - 1;\n        }\n    }\n    return ((expressions.length === 0) ? { type: 'const', const: '' } :\n        (expressions.length === 1) ? expressions[0] :\n            { type: 'and', expr: expressions });\n}\n// ------------------------------------------------------------------\n// TemplateLiteralParse\n// ------------------------------------------------------------------\n/** Parses a pattern and returns an expression tree */\nexport function TemplateLiteralParse(pattern) {\n    // prettier-ignore\n    return (IsGroup(pattern) ? TemplateLiteralParse(InGroup(pattern)) :\n        IsPrecedenceOr(pattern) ? Or(pattern) :\n            IsPrecedenceAnd(pattern) ? And(pattern) :\n                { type: 'const', const: Unescape(pattern) });\n}\n// ------------------------------------------------------------------\n// TemplateLiteralParseExact\n// ------------------------------------------------------------------\n/** Parses a pattern and strips forward and trailing ^ and $ */\nexport function TemplateLiteralParseExact(pattern) {\n    return TemplateLiteralParse(pattern.slice(1, pattern.length - 1));\n}\n", "import { IsTemplateLiteralExpressionFinite } from './finite.mjs';\nimport { TemplateLiteralParseExact } from './parse.mjs';\nimport { TypeBoxError } from '../error/index.mjs';\n// ------------------------------------------------------------------\n// TemplateLiteralGenerateError\n// ------------------------------------------------------------------\nexport class TemplateLiteralGenerateError extends TypeBoxError {\n}\n// ------------------------------------------------------------------\n// TemplateLiteralExpressionGenerate\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction* GenerateReduce(buffer) {\n    if (buffer.length === 1)\n        return yield* buffer[0];\n    for (const left of buffer[0]) {\n        for (const right of GenerateReduce(buffer.slice(1))) {\n            yield `${left}${right}`;\n        }\n    }\n}\n// prettier-ignore\nfunction* GenerateAnd(expression) {\n    return yield* GenerateReduce(expression.expr.map((expr) => [...TemplateLiteralExpressionGenerate(expr)]));\n}\n// prettier-ignore\nfunction* GenerateOr(expression) {\n    for (const expr of expression.expr)\n        yield* TemplateLiteralExpressionGenerate(expr);\n}\n// prettier-ignore\nfunction* GenerateConst(expression) {\n    return yield expression.const;\n}\nexport function* TemplateLiteralExpressionGenerate(expression) {\n    return expression.type === 'and'\n        ? yield* GenerateAnd(expression)\n        : expression.type === 'or'\n            ? yield* GenerateOr(expression)\n            : expression.type === 'const'\n                ? yield* GenerateConst(expression)\n                : (() => {\n                    throw new TemplateLiteralGenerateError('Unknown expression');\n                })();\n}\n/** Generates a tuple of strings from the given TemplateLiteral. Returns an empty tuple if infinite. */\nexport function TemplateLiteralGenerate(schema) {\n    const expression = TemplateLiteralParseExact(schema.pattern);\n    // prettier-ignore\n    return (IsTemplateLiteralExpressionFinite(expression)\n        ? [...TemplateLiteralExpressionGenerate(expression)]\n        : []);\n}\n", "import { Literal } from '../literal/index.mjs';\nimport { Boolean } from '../boolean/index.mjs';\nimport { BigInt } from '../bigint/index.mjs';\nimport { Number } from '../number/index.mjs';\nimport { String } from '../string/index.mjs';\nimport { UnionEvaluated } from '../union/index.mjs';\nimport { Never } from '../never/index.mjs';\n// ------------------------------------------------------------------\n// SyntaxParsers\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction* FromUnion(syntax) {\n    const trim = syntax.trim().replace(/\"|'/g, '');\n    return (trim === 'boolean' ? yield Boolean() :\n        trim === 'number' ? yield Number() :\n            trim === 'bigint' ? yield BigInt() :\n                trim === 'string' ? yield String() :\n                    yield (() => {\n                        const literals = trim.split('|').map((literal) => Literal(literal.trim()));\n                        return (literals.length === 0 ? Never() :\n                            literals.length === 1 ? literals[0] :\n                                UnionEvaluated(literals));\n                    })());\n}\n// prettier-ignore\nfunction* FromTerminal(syntax) {\n    if (syntax[1] !== '{') {\n        const L = Literal('$');\n        const R = FromSyntax(syntax.slice(1));\n        return yield* [L, ...R];\n    }\n    for (let i = 2; i < syntax.length; i++) {\n        if (syntax[i] === '}') {\n            const L = FromUnion(syntax.slice(2, i));\n            const R = FromSyntax(syntax.slice(i + 1));\n            return yield* [...L, ...R];\n        }\n    }\n    yield Literal(syntax);\n}\n// prettier-ignore\nfunction* FromSyntax(syntax) {\n    for (let i = 0; i < syntax.length; i++) {\n        if (syntax[i] === '$') {\n            const L = Literal(syntax.slice(0, i));\n            const R = FromTerminal(syntax.slice(i));\n            return yield* [L, ...R];\n        }\n    }\n    yield Literal(syntax);\n}\n/** Parses TemplateLiteralSyntax and returns a tuple of TemplateLiteralKinds */\nexport function TemplateLiteralSyntax(syntax) {\n    return [...FromSyntax(syntax)];\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a Literal type */\nexport function Literal(value, options) {\n    return CreateType({\n        [Kind]: 'Literal',\n        const: value,\n        type: typeof value,\n    }, options);\n}\n", "import { Kind } from '../symbols/index.mjs';\nimport { CreateType } from '../create/index.mjs';\n/** `[Json]` Creates a Boolean type */\nexport function Boolean(options) {\n    return CreateType({ [Kind]: 'Boolean', type: 'boolean' }, options);\n}\n", "import { Kind } from '../symbols/index.mjs';\nimport { CreateType } from '../create/index.mjs';\n/** `[JavaScript]` Creates a BigInt type */\nexport function BigInt(options) {\n    return CreateType({ [Kind]: 'BigInt', type: 'bigint' }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a Number type */\nexport function Number(options) {\n    return CreateType({ [Kind]: 'Number', type: 'number' }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a String type */\nexport function String(options) {\n    return CreateType({ [Kind]: 'String', type: 'string' }, options);\n}\n", "import { PatternNumber, PatternString, PatternBoolean } from '../patterns/index.mjs';\nimport { Kind } from '../symbols/index.mjs';\nimport { TypeBoxError } from '../error/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsTemplateLiteral, IsUnion, IsNumber, IsInteger, IsBigInt, IsString, IsLiteral, IsBoolean } from '../guard/kind.mjs';\n// ------------------------------------------------------------------\n// TemplateLiteralPatternError\n// ------------------------------------------------------------------\nexport class TemplateLiteralPatternError extends TypeBoxError {\n}\n// ------------------------------------------------------------------\n// TemplateLiteralPattern\n// ------------------------------------------------------------------\nfunction Escape(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n// prettier-ignore\nfunction Visit(schema, acc) {\n    return (IsTemplateLiteral(schema) ? schema.pattern.slice(1, schema.pattern.length - 1) :\n        IsUnion(schema) ? `(${schema.anyOf.map((schema) => Visit(schema, acc)).join('|')})` :\n            IsNumber(schema) ? `${acc}${PatternNumber}` :\n                IsInteger(schema) ? `${acc}${PatternNumber}` :\n                    IsBigInt(schema) ? `${acc}${PatternNumber}` :\n                        IsString(schema) ? `${acc}${PatternString}` :\n                            IsLiteral(schema) ? `${acc}${Escape(schema.const.toString())}` :\n                                IsBoolean(schema) ? `${acc}${PatternBoolean}` :\n                                    (() => { throw new TemplateLiteralPatternError(`Unexpected Kind '${schema[Kind]}'`); })());\n}\nexport function TemplateLiteralPattern(kinds) {\n    return `^${kinds.map((schema) => Visit(schema, '')).join('')}\\$`;\n}\n", "import { UnionEvaluated } from '../union/index.mjs';\nimport { Literal } from '../literal/index.mjs';\nimport { TemplateLiteralGenerate } from './generate.mjs';\n/** Returns a Union from the given TemplateLiteral */\nexport function TemplateLiteralToUnion(schema) {\n    const R = TemplateLiteralGenerate(schema);\n    const L = R.map((S) => Literal(S));\n    return UnionEvaluated(L);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { TemplateLiteralSyntax } from './syntax.mjs';\nimport { TemplateLiteralPattern } from './pattern.mjs';\nimport { IsString } from '../guard/value.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a TemplateLiteral type */\n// prettier-ignore\nexport function TemplateLiteral(unresolved, options) {\n    const pattern = IsString(unresolved)\n        ? TemplateLiteralPattern(TemplateLiteralSyntax(unresolved))\n        : TemplateLiteralPattern(unresolved);\n    return CreateType({ [Kind]: 'TemplateLiteral', type: 'string', pattern }, options);\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { IndexPropertyKeys } from './indexed-property-keys.mjs';\nimport { Index } from './index.mjs';\n// prettier-ignore\nfunction FromProperties(type, properties, options) {\n    const result = {};\n    for (const K2 of Object.getOwnPropertyNames(properties)) {\n        result[K2] = Index(type, IndexPropertyKeys(properties[K2]), options);\n    }\n    return result;\n}\n// prettier-ignore\nfunction FromMappedResult(type, mappedResult, options) {\n    return FromProperties(type, mappedResult.properties, options);\n}\n// prettier-ignore\nexport function IndexFromMappedResult(type, mappedResult, options) {\n    const properties = FromMappedResult(type, mappedResult, options);\n    return MappedResult(properties);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates an Iterator type */\nexport function Iterator(items, options) {\n    return CreateType({ [Kind]: 'Iterator', type: 'Iterator', items }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsOptional } from '../guard/kind.mjs';\nfunction RequiredKeys(properties) {\n    const keys = [];\n    for (let key in properties) {\n        if (!IsOptional(properties[key]))\n            keys.push(key);\n    }\n    return keys;\n}\n/** `[Json]` Creates an Object type */\nfunction _Object(properties, options) {\n    const required = RequiredKeys(properties);\n    const schematic = required.length > 0 ? { [Kind]: 'Object', type: 'object', properties, required } : { [Kind]: 'Object', type: 'object', properties };\n    return CreateType(schematic, options);\n}\n/** `[Json]` Creates an Object type */\nexport var Object = _Object;\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates a Promise type */\nexport function Promise(item, options) {\n    return CreateType({ [Kind]: 'Promise', type: 'Promise', item }, options);\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Readonly } from './readonly.mjs';\n// prettier-ignore\nfunction FromProperties(K, F) {\n    const Acc = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(K))\n        Acc[K2] = Readonly(K[K2], F);\n    return Acc;\n}\n// prettier-ignore\nfunction FromMappedResult(R, F) {\n    return FromProperties(R.properties, F);\n}\n// prettier-ignore\nexport function ReadonlyFromMappedResult(R, F) {\n    const P = FromMappedResult(R, F);\n    return MappedResult(P);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { ReadonlyKind } from '../symbols/index.mjs';\nimport { Discard } from '../discard/index.mjs';\nimport { ReadonlyFromMappedResult } from './readonly-from-mapped-result.mjs';\nimport { IsMappedResult } from '../guard/kind.mjs';\nfunction RemoveReadonly(schema) {\n    return CreateType(Discard(schema, [ReadonlyKind]));\n}\nfunction AddReadonly(schema) {\n    return CreateType({ ...schema, [ReadonlyKind]: 'Readonly' });\n}\n// prettier-ignore\nfunction ReadonlyWithFlag(schema, F) {\n    return (F === false\n        ? RemoveReadonly(schema)\n        : AddReadonly(schema));\n}\n/** `[Json]` Creates a Readonly property */\nexport function Readonly(schema, enable) {\n    const F = enable ?? true;\n    return IsMappedResult(schema) ? ReadonlyFromMappedResult(schema, F) : ReadonlyWithFlag(schema, F);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a Tuple type */\nexport function Tuple(types, options) {\n    // prettier-ignore\n    return CreateType(types.length > 0 ?\n        { [Kind]: 'Tuple', type: 'array', items: types, additionalItems: false, minItems: types.length, maxItems: types.length } :\n        { [Kind]: 'Tuple', type: 'array', minItems: types.length, maxItems: types.length }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { OptionalKind } from '../symbols/index.mjs';\nimport { Discard } from '../discard/index.mjs';\nimport { OptionalFromMappedResult } from './optional-from-mapped-result.mjs';\nimport { IsMappedResult } from '../guard/kind.mjs';\nfunction RemoveOptional(schema) {\n    return CreateType(Discard(schema, [OptionalKind]));\n}\nfunction AddOptional(schema) {\n    return CreateType({ ...schema, [OptionalKind]: 'Optional' });\n}\n// prettier-ignore\nfunction OptionalWithFlag(schema, F) {\n    return (F === false\n        ? RemoveOptional(schema)\n        : AddOptional(schema));\n}\n/** `[Json]` Creates a Optional property */\nexport function Optional(schema, enable) {\n    const F = enable ?? true;\n    return IsMappedResult(schema) ? OptionalFromMappedResult(schema, F) : OptionalWithFlag(schema, F);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsObject, IsSchema } from '../guard/kind.mjs';\n// ------------------------------------------------------------------\n// IntersectCreate\n// ------------------------------------------------------------------\n// prettier-ignore\nexport function IntersectCreate(T, options = {}) {\n    const allObjects = T.every((schema) => IsObject(schema));\n    const clonedUnevaluatedProperties = IsSchema(options.unevaluatedProperties)\n        ? { unevaluatedProperties: options.unevaluatedProperties }\n        : {};\n    return CreateType((options.unevaluatedProperties === false || IsSchema(options.unevaluatedProperties) || allObjects\n        ? { ...clonedUnevaluatedProperties, [Kind]: 'Intersect', type: 'object', allOf: T }\n        : { ...clonedUnevaluatedProperties, [Kind]: 'Intersect', allOf: T }), options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Never } from '../never/index.mjs';\nimport { IntersectCreate } from './intersect-create.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsTransform } from '../guard/kind.mjs';\n/** `[Json]` Creates an evaluated Intersect type */\nexport function Intersect(types, options) {\n    if (types.length === 1)\n        return CreateType(types[0], options);\n    if (types.length === 0)\n        return Never(options);\n    if (types.some((schema) => IsTransform(schema)))\n        throw new Error('Cannot intersect transform types');\n    return IntersectCreate(types, options);\n}\n", "import { TypeBoxError } from '../error/index.mjs';\nimport { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a Ref type. The referenced type must contain a $id */\nexport function Ref(...args) {\n    const [$ref, options] = typeof args[0] === 'string' ? [args[0], args[1]] : [args[0].$id, args[1]];\n    if (typeof $ref !== 'string')\n        throw new TypeBoxError('Ref: $ref must be a string');\n    return CreateType({ [Kind]: 'Ref', $ref }, options);\n}\n", "import { IntersectEvaluated } from '../intersect/index.mjs';\nimport { IndexFromPropertyKeys } from '../indexed/index.mjs';\nimport { KeyOfPropertyKeys } from '../keyof/index.mjs';\nimport { Object } from '../object/index.mjs';\nimport { SetDistinct } from '../sets/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsNever } from '../guard/kind.mjs';\n// prettier-ignore\nfunction CompositeKeys(T) {\n    const Acc = [];\n    for (const L of T)\n        Acc.push(...KeyOfPropertyKeys(L));\n    return SetDistinct(Acc);\n}\n// prettier-ignore\nfunction FilterNever(T) {\n    return T.filter(L => !IsNever(L));\n}\n// prettier-ignore\nfunction CompositeProperty(T, K) {\n    const Acc = [];\n    for (const L of T)\n        Acc.push(...IndexFromPropertyKeys(L, [K]));\n    return FilterNever(Acc);\n}\n// prettier-ignore\nfunction CompositeProperties(T, K) {\n    const Acc = {};\n    for (const L of K) {\n        Acc[L] = IntersectEvaluated(CompositeProperty(T, L));\n    }\n    return Acc;\n}\n// prettier-ignore\nexport function Composite(T, options) {\n    const K = CompositeKeys(T);\n    const P = CompositeProperties(T, K);\n    const R = Object(P, options);\n    return R;\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { KeyOf } from './keyof.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction FromProperties(properties, options) {\n    const result = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(properties))\n        result[K2] = KeyOf(properties[K2], Clone(options));\n    return result;\n}\n// prettier-ignore\nfunction FromMappedResult(mappedResult, options) {\n    return FromProperties(mappedResult.properties, options);\n}\n// prettier-ignore\nexport function KeyOfFromMappedResult(mappedResult, options) {\n    const properties = FromMappedResult(mappedResult, options);\n    return MappedResult(properties);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Literal } from '../literal/index.mjs';\nimport { Number } from '../number/index.mjs';\nimport { Computed } from '../computed/index.mjs';\nimport { Ref } from '../ref/index.mjs';\nimport { KeyOfPropertyKeys } from './keyof-property-keys.mjs';\nimport { UnionEvaluated } from '../union/index.mjs';\nimport { KeyOfFromMappedResult } from './keyof-from-mapped-result.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsMappedResult, IsRef, IsComputed } from '../guard/kind.mjs';\n// prettier-ignore\nfunction FromComputed(target, parameters) {\n    return Computed('KeyOf', [Computed(target, parameters)]);\n}\n// prettier-ignore\nfunction FromRef($ref) {\n    return Computed('KeyOf', [Ref($ref)]);\n}\n// prettier-ignore\nfunction KeyOfFromType(type, options) {\n    const propertyKeys = KeyOfPropertyKeys(type);\n    const propertyKeyTypes = KeyOfPropertyKeysToRest(propertyKeys);\n    const result = UnionEvaluated(propertyKeyTypes);\n    return CreateType(result, options);\n}\n// prettier-ignore\nexport function KeyOfPropertyKeysToRest(propertyKeys) {\n    return propertyKeys.map(L => L === '[number]' ? Number() : Literal(L));\n}\n/** `[Json]` Creates a KeyOf type */\nexport function KeyOf(type, options) {\n    return (IsComputed(type) ? FromComputed(type.target, type.parameters) : IsRef(type) ? FromRef(type.$ref) : IsMappedResult(type) ? KeyOfFromMappedResult(type, options) : KeyOfFromType(type, options));\n}\n", "import { SetUnionMany, SetIntersectMany } from '../sets/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsIntersect, IsUnion, IsTuple, IsArray, IsObject, IsRecord } from '../guard/kind.mjs';\n// prettier-ignore\nfunction FromRest(types) {\n    const result = [];\n    for (const L of types)\n        result.push(KeyOfPropertyKeys(L));\n    return result;\n}\n// prettier-ignore\nfunction FromIntersect(types) {\n    const propertyKeysArray = FromRest(types);\n    const propertyKeys = SetUnionMany(propertyKeysArray);\n    return propertyKeys;\n}\n// prettier-ignore\nfunction FromUnion(types) {\n    const propertyKeysArray = FromRest(types);\n    const propertyKeys = SetIntersectMany(propertyKeysArray);\n    return propertyKeys;\n}\n// prettier-ignore\nfunction FromTuple(types) {\n    return types.map((_, indexer) => indexer.toString());\n}\n// prettier-ignore\nfunction FromArray(_) {\n    return (['[number]']);\n}\n// prettier-ignore\nfunction FromProperties(T) {\n    return (globalThis.Object.getOwnPropertyNames(T));\n}\n// ------------------------------------------------------------------\n// FromPatternProperties\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromPatternProperties(patternProperties) {\n    if (!includePatternProperties)\n        return [];\n    const patternPropertyKeys = globalThis.Object.getOwnPropertyNames(patternProperties);\n    return patternPropertyKeys.map(key => {\n        return (key[0] === '^' && key[key.length - 1] === '$')\n            ? key.slice(1, key.length - 1)\n            : key;\n    });\n}\n/** Returns a tuple of PropertyKeys derived from the given TSchema. */\n// prettier-ignore\nexport function KeyOfPropertyKeys(type) {\n    return (IsIntersect(type) ? FromIntersect(type.allOf) :\n        IsUnion(type) ? FromUnion(type.anyOf) :\n            IsTuple(type) ? FromTuple(type.items ?? []) :\n                IsArray(type) ? FromArray(type.items) :\n                    IsObject(type) ? FromProperties(type.properties) :\n                        IsRecord(type) ? FromPatternProperties(type.patternProperties) :\n                            []);\n}\n// ----------------------------------------------------------------\n// KeyOfPattern\n// ----------------------------------------------------------------\nlet includePatternProperties = false;\n/** Returns a regular expression pattern derived from the given TSchema */\nexport function KeyOfPattern(schema) {\n    includePatternProperties = true;\n    const keys = KeyOfPropertyKeys(schema);\n    includePatternProperties = false;\n    const pattern = keys.map((key) => `(${key})`);\n    return `^(${pattern.join('|')})$`;\n}\n", "import { IndexFromPropertyKeys } from '../indexed/indexed.mjs';\nimport { KeyOfPropertyKeys } from './keyof-property-keys.mjs';\n/**\n * `[Utility]` Resolves an array of keys and schemas from the given schema. This method is faster\n * than obtaining the keys and resolving each individually via indexing. This method was written\n * accellerate Intersect and Union encoding.\n */\nexport function KeyOfPropertyEntries(schema) {\n    const keys = KeyOfPropertyKeys(schema);\n    const schemas = IndexFromPropertyKeys(schema, keys);\n    return keys.map((_, index) => [keys[index], schemas[index]]);\n}\n", "import { Any } from '../any/index.mjs';\nimport { BigInt } from '../bigint/index.mjs';\nimport { Date } from '../date/index.mjs';\nimport { Function as FunctionType } from '../function/index.mjs';\nimport { Literal } from '../literal/index.mjs';\nimport { Null } from '../null/index.mjs';\nimport { Object } from '../object/index.mjs';\nimport { Symbol } from '../symbol/index.mjs';\nimport { Tuple } from '../tuple/index.mjs';\nimport { Readonly } from '../readonly/index.mjs';\nimport { Undefined } from '../undefined/index.mjs';\nimport { Uint8Array } from '../uint8array/index.mjs';\nimport { Unknown } from '../unknown/index.mjs';\nimport { CreateType } from '../create/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { IsArray, IsNumber, IsBigInt, IsUint8Array, IsDate, IsIterator, IsObject, IsAsyncIterator, IsFunction, IsUndefined, IsNull, IsSymbol, IsBoolean, IsString } from '../guard/value.mjs';\n// prettier-ignore\nfunction FromArray(T) {\n    return T.map(L => FromValue(L, false));\n}\n// prettier-ignore\nfunction FromProperties(value) {\n    const Acc = {};\n    for (const K of globalThis.Object.getOwnPropertyNames(value))\n        Acc[K] = Readonly(FromValue(value[K], false));\n    return Acc;\n}\nfunction ConditionalReadonly(T, root) {\n    return (root === true ? T : Readonly(T));\n}\n// prettier-ignore\nfunction FromValue(value, root) {\n    return (IsAsyncIterator(value) ? ConditionalReadonly(Any(), root) :\n        IsIterator(value) ? ConditionalReadonly(Any(), root) :\n            IsArray(value) ? Readonly(Tuple(FromArray(value))) :\n                IsUint8Array(value) ? Uint8Array() :\n                    IsDate(value) ? Date() :\n                        IsObject(value) ? ConditionalReadonly(Object(FromProperties(value)), root) :\n                            IsFunction(value) ? ConditionalReadonly(FunctionType([], Unknown()), root) :\n                                IsUndefined(value) ? Undefined() :\n                                    IsNull(value) ? Null() :\n                                        IsSymbol(value) ? Symbol() :\n                                            IsBigInt(value) ? BigInt() :\n                                                IsNumber(value) ? Literal(value) :\n                                                    IsBoolean(value) ? Literal(value) :\n                                                        IsString(value) ? Literal(value) :\n                                                            Object({}));\n}\n/** `[JavaScript]` Creates a readonly const type from the given value. */\nexport function Const(T, options) {\n    return CreateType(FromValue(T, true), options);\n}\n", "import { Kind } from '../symbols/index.mjs';\nimport { CreateType } from '../create/type.mjs';\n/** `[JavaScript]` Creates a Date type */\nexport function Date(options) {\n    return CreateType({ [Kind]: 'Date', type: 'Date' }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a Null type */\nexport function Null(options) {\n    return CreateType({ [Kind]: 'Null', type: 'null' }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates a Symbol type */\nexport function Symbol(options) {\n    return CreateType({ [Kind]: 'Symbol', type: 'symbol' }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates a Undefined type */\nexport function Undefined(options) {\n    return CreateType({ [Kind]: 'Undefined', type: 'undefined' }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates a Uint8Array type */\nexport function Uint8Array(options) {\n    return CreateType({ [Kind]: 'Uint8Array', type: 'Uint8Array' }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates an Unknown type */\nexport function Unknown(options) {\n    return CreateType({ [Kind]: 'Unknown' }, options);\n}\n", "import { Tuple } from '../tuple/index.mjs';\nimport { Never } from '../never/index.mjs';\nimport * as KindGuard from '../guard/kind.mjs';\n/** `[JavaScript]` Extracts the ConstructorParameters from the given Constructor type */\nexport function ConstructorParameters(schema, options) {\n    return (KindGuard.IsConstructor(schema) ? Tuple(schema.parameters, options) : Never(options));\n}\n", "import { Literal } from '../literal/index.mjs';\nimport { Kind, Hint } from '../symbols/index.mjs';\nimport { Union } from '../union/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { IsUndefined } from '../guard/value.mjs';\n/** `[Json]` Creates a Enum type */\nexport function Enum(item, options) {\n    if (IsUndefined(item))\n        throw new Error('Enum undefined or empty');\n    const values1 = globalThis.Object.getOwnPropertyNames(item)\n        .filter((key) => isNaN(key))\n        .map((key) => item[key]);\n    const values2 = [...new Set(values1)];\n    const anyOf = values2.map((value) => Literal(value));\n    return Union(anyOf, { ...options, [Hint]: 'Enum' });\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Exclude } from './exclude.mjs';\n// prettier-ignore\nfunction FromProperties(P, U) {\n    const Acc = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(P))\n        Acc[K2] = Exclude(P[K2], U);\n    return Acc;\n}\n// prettier-ignore\nfunction FromMappedResult(R, T) {\n    return FromProperties(R.properties, T);\n}\n// prettier-ignore\nexport function ExcludeFromMappedResult(R, T) {\n    const P = FromMappedResult(R, T);\n    return MappedResult(P);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Union } from '../union/index.mjs';\nimport { Never } from '../never/index.mjs';\nimport { ExtendsCheck, ExtendsResult } from '../extends/index.mjs';\nimport { ExcludeFromMappedResult } from './exclude-from-mapped-result.mjs';\nimport { ExcludeFromTemplateLiteral } from './exclude-from-template-literal.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsMappedResult, IsTemplateLiteral, IsUnion } from '../guard/kind.mjs';\nfunction ExcludeRest(L, R) {\n    const excluded = L.filter((inner) => ExtendsCheck(inner, R) === ExtendsResult.False);\n    return excluded.length === 1 ? excluded[0] : Union(excluded);\n}\n/** `[Json]` Constructs a type by excluding from unionType all union members that are assignable to excludedMembers */\nexport function Exclude(L, R, options = {}) {\n    // overloads\n    if (IsTemplateLiteral(L))\n        return CreateType(ExcludeFromTemplateLiteral(L, R), options);\n    if (IsMappedResult(L))\n        return CreateType(ExcludeFromMappedResult(L, R), options);\n    // prettier-ignore\n    return CreateType(IsUnion(L) ? ExcludeRest(L.anyOf, R) :\n        ExtendsCheck(L, R) !== ExtendsResult.False ? Never() : L, options);\n}\n", "import { Any } from '../any/index.mjs';\nimport { Function as FunctionType } from '../function/index.mjs';\nimport { Number } from '../number/index.mjs';\nimport { String } from '../string/index.mjs';\nimport { Unknown } from '../unknown/index.mjs';\nimport { TemplateLiteralToUnion } from '../template-literal/index.mjs';\nimport { PatternNumberExact, PatternStringExact } from '../patterns/index.mjs';\nimport { Kind, Hint } from '../symbols/index.mjs';\nimport { TypeBoxError } from '../error/index.mjs';\nimport { TypeGuard, ValueGuard } from '../guard/index.mjs';\nexport class ExtendsResolverError extends TypeBoxError {\n}\nexport var ExtendsResult;\n(function (ExtendsResult) {\n    ExtendsResult[ExtendsResult[\"Union\"] = 0] = \"Union\";\n    ExtendsResult[ExtendsResult[\"True\"] = 1] = \"True\";\n    ExtendsResult[ExtendsResult[\"False\"] = 2] = \"False\";\n})(ExtendsResult || (ExtendsResult = {}));\n// ------------------------------------------------------------------\n// IntoBooleanResult\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction IntoBooleanResult(result) {\n    return result === ExtendsResult.False ? result : ExtendsResult.True;\n}\n// ------------------------------------------------------------------\n// Throw\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction Throw(message) {\n    throw new ExtendsResolverError(message);\n}\n// ------------------------------------------------------------------\n// StructuralRight\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction IsStructuralRight(right) {\n    return (TypeGuard.IsNever(right) ||\n        TypeGuard.IsIntersect(right) ||\n        TypeGuard.IsUnion(right) ||\n        TypeGuard.IsUnknown(right) ||\n        TypeGuard.IsAny(right));\n}\n// prettier-ignore\nfunction StructuralRight(left, right) {\n    return (TypeGuard.IsNever(right) ? FromNeverRight(left, right) :\n        TypeGuard.IsIntersect(right) ? FromIntersectRight(left, right) :\n            TypeGuard.IsUnion(right) ? FromUnionRight(left, right) :\n                TypeGuard.IsUnknown(right) ? FromUnknownRight(left, right) :\n                    TypeGuard.IsAny(right) ? FromAnyRight(left, right) :\n                        Throw('StructuralRight'));\n}\n// ------------------------------------------------------------------\n// Any\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromAnyRight(left, right) {\n    return ExtendsResult.True;\n}\n// prettier-ignore\nfunction FromAny(left, right) {\n    return (TypeGuard.IsIntersect(right) ? FromIntersectRight(left, right) :\n        (TypeGuard.IsUnion(right) && right.anyOf.some((schema) => TypeGuard.IsAny(schema) || TypeGuard.IsUnknown(schema))) ? ExtendsResult.True :\n            TypeGuard.IsUnion(right) ? ExtendsResult.Union :\n                TypeGuard.IsUnknown(right) ? ExtendsResult.True :\n                    TypeGuard.IsAny(right) ? ExtendsResult.True :\n                        ExtendsResult.Union);\n}\n// ------------------------------------------------------------------\n// Array\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromArrayRight(left, right) {\n    return (TypeGuard.IsUnknown(left) ? ExtendsResult.False :\n        TypeGuard.IsAny(left) ? ExtendsResult.Union :\n            TypeGuard.IsNever(left) ? ExtendsResult.True :\n                ExtendsResult.False);\n}\n// prettier-ignore\nfunction FromArray(left, right) {\n    return (TypeGuard.IsObject(right) && IsObjectArrayLike(right) ? ExtendsResult.True :\n        IsStructuralRight(right) ? StructuralRight(left, right) :\n            !TypeGuard.IsArray(right) ? ExtendsResult.False :\n                IntoBooleanResult(Visit(left.items, right.items)));\n}\n// ------------------------------------------------------------------\n// AsyncIterator\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromAsyncIterator(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        !TypeGuard.IsAsyncIterator(right) ? ExtendsResult.False :\n            IntoBooleanResult(Visit(left.items, right.items)));\n}\n// ------------------------------------------------------------------\n// BigInt\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromBigInt(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                TypeGuard.IsBigInt(right) ? ExtendsResult.True :\n                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Boolean\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromBooleanRight(left, right) {\n    return (TypeGuard.IsLiteralBoolean(left) ? ExtendsResult.True :\n        TypeGuard.IsBoolean(left) ? ExtendsResult.True :\n            ExtendsResult.False);\n}\n// prettier-ignore\nfunction FromBoolean(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                TypeGuard.IsBoolean(right) ? ExtendsResult.True :\n                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Constructor\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromConstructor(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            !TypeGuard.IsConstructor(right) ? ExtendsResult.False :\n                left.parameters.length > right.parameters.length ? ExtendsResult.False :\n                    (!left.parameters.every((schema, index) => IntoBooleanResult(Visit(right.parameters[index], schema)) === ExtendsResult.True)) ? ExtendsResult.False :\n                        IntoBooleanResult(Visit(left.returns, right.returns)));\n}\n// ------------------------------------------------------------------\n// Date\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromDate(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                TypeGuard.IsDate(right) ? ExtendsResult.True :\n                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Function\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromFunction(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            !TypeGuard.IsFunction(right) ? ExtendsResult.False :\n                left.parameters.length > right.parameters.length ? ExtendsResult.False :\n                    (!left.parameters.every((schema, index) => IntoBooleanResult(Visit(right.parameters[index], schema)) === ExtendsResult.True)) ? ExtendsResult.False :\n                        IntoBooleanResult(Visit(left.returns, right.returns)));\n}\n// ------------------------------------------------------------------\n// Integer\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromIntegerRight(left, right) {\n    return (TypeGuard.IsLiteral(left) && ValueGuard.IsNumber(left.const) ? ExtendsResult.True :\n        TypeGuard.IsNumber(left) || TypeGuard.IsInteger(left) ? ExtendsResult.True :\n            ExtendsResult.False);\n}\n// prettier-ignore\nfunction FromInteger(left, right) {\n    return (TypeGuard.IsInteger(right) || TypeGuard.IsNumber(right) ? ExtendsResult.True :\n        IsStructuralRight(right) ? StructuralRight(left, right) :\n            TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n                TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Intersect\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromIntersectRight(left, right) {\n    return right.allOf.every((schema) => Visit(left, schema) === ExtendsResult.True)\n        ? ExtendsResult.True\n        : ExtendsResult.False;\n}\n// prettier-ignore\nfunction FromIntersect(left, right) {\n    return left.allOf.some((schema) => Visit(schema, right) === ExtendsResult.True)\n        ? ExtendsResult.True\n        : ExtendsResult.False;\n}\n// ------------------------------------------------------------------\n// Iterator\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromIterator(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        !TypeGuard.IsIterator(right) ? ExtendsResult.False :\n            IntoBooleanResult(Visit(left.items, right.items)));\n}\n// ------------------------------------------------------------------\n// Literal\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromLiteral(left, right) {\n    return (TypeGuard.IsLiteral(right) && right.const === left.const ? ExtendsResult.True :\n        IsStructuralRight(right) ? StructuralRight(left, right) :\n            TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n                TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                    TypeGuard.IsString(right) ? FromStringRight(left, right) :\n                        TypeGuard.IsNumber(right) ? FromNumberRight(left, right) :\n                            TypeGuard.IsInteger(right) ? FromIntegerRight(left, right) :\n                                TypeGuard.IsBoolean(right) ? FromBooleanRight(left, right) :\n                                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Never\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromNeverRight(left, right) {\n    return ExtendsResult.False;\n}\n// prettier-ignore\nfunction FromNever(left, right) {\n    return ExtendsResult.True;\n}\n// ------------------------------------------------------------------\n// Not\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction UnwrapTNot(schema) {\n    let [current, depth] = [schema, 0];\n    while (true) {\n        if (!TypeGuard.IsNot(current))\n            break;\n        current = current.not;\n        depth += 1;\n    }\n    return depth % 2 === 0 ? current : Unknown();\n}\n// prettier-ignore\nfunction FromNot(left, right) {\n    // TypeScript has no concept of negated types, and attempts to correctly check the negated\n    // type at runtime would put TypeBox at odds with TypeScripts ability to statically infer\n    // the type. Instead we unwrap to either unknown or T and continue evaluating.\n    // prettier-ignore\n    return (TypeGuard.IsNot(left) ? Visit(UnwrapTNot(left), right) :\n        TypeGuard.IsNot(right) ? Visit(left, UnwrapTNot(right)) :\n            Throw('Invalid fallthrough for Not'));\n}\n// ------------------------------------------------------------------\n// Null\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromNull(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                TypeGuard.IsNull(right) ? ExtendsResult.True :\n                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Number\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromNumberRight(left, right) {\n    return (TypeGuard.IsLiteralNumber(left) ? ExtendsResult.True :\n        TypeGuard.IsNumber(left) || TypeGuard.IsInteger(left) ? ExtendsResult.True :\n            ExtendsResult.False);\n}\n// prettier-ignore\nfunction FromNumber(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                TypeGuard.IsInteger(right) || TypeGuard.IsNumber(right) ? ExtendsResult.True :\n                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Object\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction IsObjectPropertyCount(schema, count) {\n    return Object.getOwnPropertyNames(schema.properties).length === count;\n}\n// prettier-ignore\nfunction IsObjectStringLike(schema) {\n    return IsObjectArrayLike(schema);\n}\n// prettier-ignore\nfunction IsObjectSymbolLike(schema) {\n    return IsObjectPropertyCount(schema, 0) || (IsObjectPropertyCount(schema, 1) && 'description' in schema.properties && TypeGuard.IsUnion(schema.properties.description) && schema.properties.description.anyOf.length === 2 && ((TypeGuard.IsString(schema.properties.description.anyOf[0]) &&\n        TypeGuard.IsUndefined(schema.properties.description.anyOf[1])) || (TypeGuard.IsString(schema.properties.description.anyOf[1]) &&\n        TypeGuard.IsUndefined(schema.properties.description.anyOf[0]))));\n}\n// prettier-ignore\nfunction IsObjectNumberLike(schema) {\n    return IsObjectPropertyCount(schema, 0);\n}\n// prettier-ignore\nfunction IsObjectBooleanLike(schema) {\n    return IsObjectPropertyCount(schema, 0);\n}\n// prettier-ignore\nfunction IsObjectBigIntLike(schema) {\n    return IsObjectPropertyCount(schema, 0);\n}\n// prettier-ignore\nfunction IsObjectDateLike(schema) {\n    return IsObjectPropertyCount(schema, 0);\n}\n// prettier-ignore\nfunction IsObjectUint8ArrayLike(schema) {\n    return IsObjectArrayLike(schema);\n}\n// prettier-ignore\nfunction IsObjectFunctionLike(schema) {\n    const length = Number();\n    return IsObjectPropertyCount(schema, 0) || (IsObjectPropertyCount(schema, 1) && 'length' in schema.properties && IntoBooleanResult(Visit(schema.properties['length'], length)) === ExtendsResult.True);\n}\n// prettier-ignore\nfunction IsObjectConstructorLike(schema) {\n    return IsObjectPropertyCount(schema, 0);\n}\n// prettier-ignore\nfunction IsObjectArrayLike(schema) {\n    const length = Number();\n    return IsObjectPropertyCount(schema, 0) || (IsObjectPropertyCount(schema, 1) && 'length' in schema.properties && IntoBooleanResult(Visit(schema.properties['length'], length)) === ExtendsResult.True);\n}\n// prettier-ignore\nfunction IsObjectPromiseLike(schema) {\n    const then = FunctionType([Any()], Any());\n    return IsObjectPropertyCount(schema, 0) || (IsObjectPropertyCount(schema, 1) && 'then' in schema.properties && IntoBooleanResult(Visit(schema.properties['then'], then)) === ExtendsResult.True);\n}\n// ------------------------------------------------------------------\n// Property\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction Property(left, right) {\n    return (Visit(left, right) === ExtendsResult.False ? ExtendsResult.False :\n        TypeGuard.IsOptional(left) && !TypeGuard.IsOptional(right) ? ExtendsResult.False :\n            ExtendsResult.True);\n}\n// prettier-ignore\nfunction FromObjectRight(left, right) {\n    return (TypeGuard.IsUnknown(left) ? ExtendsResult.False :\n        TypeGuard.IsAny(left) ? ExtendsResult.Union : (TypeGuard.IsNever(left) ||\n            (TypeGuard.IsLiteralString(left) && IsObjectStringLike(right)) ||\n            (TypeGuard.IsLiteralNumber(left) && IsObjectNumberLike(right)) ||\n            (TypeGuard.IsLiteralBoolean(left) && IsObjectBooleanLike(right)) ||\n            (TypeGuard.IsSymbol(left) && IsObjectSymbolLike(right)) ||\n            (TypeGuard.IsBigInt(left) && IsObjectBigIntLike(right)) ||\n            (TypeGuard.IsString(left) && IsObjectStringLike(right)) ||\n            (TypeGuard.IsSymbol(left) && IsObjectSymbolLike(right)) ||\n            (TypeGuard.IsNumber(left) && IsObjectNumberLike(right)) ||\n            (TypeGuard.IsInteger(left) && IsObjectNumberLike(right)) ||\n            (TypeGuard.IsBoolean(left) && IsObjectBooleanLike(right)) ||\n            (TypeGuard.IsUint8Array(left) && IsObjectUint8ArrayLike(right)) ||\n            (TypeGuard.IsDate(left) && IsObjectDateLike(right)) ||\n            (TypeGuard.IsConstructor(left) && IsObjectConstructorLike(right)) ||\n            (TypeGuard.IsFunction(left) && IsObjectFunctionLike(right))) ? ExtendsResult.True :\n            (TypeGuard.IsRecord(left) && TypeGuard.IsString(RecordKey(left))) ? (() => {\n                // When expressing a Record with literal key values, the Record is converted into a Object with\n                // the Hint assigned as `Record`. This is used to invert the extends logic.\n                return right[Hint] === 'Record' ? ExtendsResult.True : ExtendsResult.False;\n            })() :\n                (TypeGuard.IsRecord(left) && TypeGuard.IsNumber(RecordKey(left))) ? (() => {\n                    return IsObjectPropertyCount(right, 0) ? ExtendsResult.True : ExtendsResult.False;\n                })() :\n                    ExtendsResult.False);\n}\n// prettier-ignore\nfunction FromObject(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n            !TypeGuard.IsObject(right) ? ExtendsResult.False :\n                (() => {\n                    for (const key of Object.getOwnPropertyNames(right.properties)) {\n                        if (!(key in left.properties) && !TypeGuard.IsOptional(right.properties[key])) {\n                            return ExtendsResult.False;\n                        }\n                        if (TypeGuard.IsOptional(right.properties[key])) {\n                            return ExtendsResult.True;\n                        }\n                        if (Property(left.properties[key], right.properties[key]) === ExtendsResult.False) {\n                            return ExtendsResult.False;\n                        }\n                    }\n                    return ExtendsResult.True;\n                })());\n}\n// ------------------------------------------------------------------\n// Promise\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromPromise(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) && IsObjectPromiseLike(right) ? ExtendsResult.True :\n            !TypeGuard.IsPromise(right) ? ExtendsResult.False :\n                IntoBooleanResult(Visit(left.item, right.item)));\n}\n// ------------------------------------------------------------------\n// Record\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction RecordKey(schema) {\n    return (PatternNumberExact in schema.patternProperties ? Number() :\n        PatternStringExact in schema.patternProperties ? String() :\n            Throw('Unknown record key pattern'));\n}\n// prettier-ignore\nfunction RecordValue(schema) {\n    return (PatternNumberExact in schema.patternProperties ? schema.patternProperties[PatternNumberExact] :\n        PatternStringExact in schema.patternProperties ? schema.patternProperties[PatternStringExact] :\n            Throw('Unable to get record value schema'));\n}\n// prettier-ignore\nfunction FromRecordRight(left, right) {\n    const [Key, Value] = [RecordKey(right), RecordValue(right)];\n    return ((TypeGuard.IsLiteralString(left) && TypeGuard.IsNumber(Key) && IntoBooleanResult(Visit(left, Value)) === ExtendsResult.True) ? ExtendsResult.True :\n        TypeGuard.IsUint8Array(left) && TypeGuard.IsNumber(Key) ? Visit(left, Value) :\n            TypeGuard.IsString(left) && TypeGuard.IsNumber(Key) ? Visit(left, Value) :\n                TypeGuard.IsArray(left) && TypeGuard.IsNumber(Key) ? Visit(left, Value) :\n                    TypeGuard.IsObject(left) ? (() => {\n                        for (const key of Object.getOwnPropertyNames(left.properties)) {\n                            if (Property(Value, left.properties[key]) === ExtendsResult.False) {\n                                return ExtendsResult.False;\n                            }\n                        }\n                        return ExtendsResult.True;\n                    })() :\n                        ExtendsResult.False);\n}\n// prettier-ignore\nfunction FromRecord(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            !TypeGuard.IsRecord(right) ? ExtendsResult.False :\n                Visit(RecordValue(left), RecordValue(right)));\n}\n// ------------------------------------------------------------------\n// RegExp\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromRegExp(left, right) {\n    // Note: RegExp types evaluate as strings, not RegExp objects.\n    // Here we remap either into string and continue evaluating.\n    const L = TypeGuard.IsRegExp(left) ? String() : left;\n    const R = TypeGuard.IsRegExp(right) ? String() : right;\n    return Visit(L, R);\n}\n// ------------------------------------------------------------------\n// String\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromStringRight(left, right) {\n    return (TypeGuard.IsLiteral(left) && ValueGuard.IsString(left.const) ? ExtendsResult.True :\n        TypeGuard.IsString(left) ? ExtendsResult.True :\n            ExtendsResult.False);\n}\n// prettier-ignore\nfunction FromString(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                TypeGuard.IsString(right) ? ExtendsResult.True :\n                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Symbol\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromSymbol(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                TypeGuard.IsSymbol(right) ? ExtendsResult.True :\n                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// TemplateLiteral\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromTemplateLiteral(left, right) {\n    // TemplateLiteral types are resolved to either unions for finite expressions or string\n    // for infinite expressions. Here we call to TemplateLiteralResolver to resolve for\n    // either type and continue evaluating.\n    return (TypeGuard.IsTemplateLiteral(left) ? Visit(TemplateLiteralToUnion(left), right) :\n        TypeGuard.IsTemplateLiteral(right) ? Visit(left, TemplateLiteralToUnion(right)) :\n            Throw('Invalid fallthrough for TemplateLiteral'));\n}\n// ------------------------------------------------------------------\n// Tuple\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction IsArrayOfTuple(left, right) {\n    return (TypeGuard.IsArray(right) &&\n        left.items !== undefined &&\n        left.items.every((schema) => Visit(schema, right.items) === ExtendsResult.True));\n}\n// prettier-ignore\nfunction FromTupleRight(left, right) {\n    return (TypeGuard.IsNever(left) ? ExtendsResult.True :\n        TypeGuard.IsUnknown(left) ? ExtendsResult.False :\n            TypeGuard.IsAny(left) ? ExtendsResult.Union :\n                ExtendsResult.False);\n}\n// prettier-ignore\nfunction FromTuple(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) && IsObjectArrayLike(right) ? ExtendsResult.True :\n            TypeGuard.IsArray(right) && IsArrayOfTuple(left, right) ? ExtendsResult.True :\n                !TypeGuard.IsTuple(right) ? ExtendsResult.False :\n                    (ValueGuard.IsUndefined(left.items) && !ValueGuard.IsUndefined(right.items)) || (!ValueGuard.IsUndefined(left.items) && ValueGuard.IsUndefined(right.items)) ? ExtendsResult.False :\n                        (ValueGuard.IsUndefined(left.items) && !ValueGuard.IsUndefined(right.items)) ? ExtendsResult.True :\n                            left.items.every((schema, index) => Visit(schema, right.items[index]) === ExtendsResult.True) ? ExtendsResult.True :\n                                ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Uint8Array\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromUint8Array(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                TypeGuard.IsUint8Array(right) ? ExtendsResult.True :\n                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Undefined\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromUndefined(left, right) {\n    return (IsStructuralRight(right) ? StructuralRight(left, right) :\n        TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n            TypeGuard.IsRecord(right) ? FromRecordRight(left, right) :\n                TypeGuard.IsVoid(right) ? FromVoidRight(left, right) :\n                    TypeGuard.IsUndefined(right) ? ExtendsResult.True :\n                        ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Union\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromUnionRight(left, right) {\n    return right.anyOf.some((schema) => Visit(left, schema) === ExtendsResult.True)\n        ? ExtendsResult.True\n        : ExtendsResult.False;\n}\n// prettier-ignore\nfunction FromUnion(left, right) {\n    return left.anyOf.every((schema) => Visit(schema, right) === ExtendsResult.True)\n        ? ExtendsResult.True\n        : ExtendsResult.False;\n}\n// ------------------------------------------------------------------\n// Unknown\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromUnknownRight(left, right) {\n    return ExtendsResult.True;\n}\n// prettier-ignore\nfunction FromUnknown(left, right) {\n    return (TypeGuard.IsNever(right) ? FromNeverRight(left, right) :\n        TypeGuard.IsIntersect(right) ? FromIntersectRight(left, right) :\n            TypeGuard.IsUnion(right) ? FromUnionRight(left, right) :\n                TypeGuard.IsAny(right) ? FromAnyRight(left, right) :\n                    TypeGuard.IsString(right) ? FromStringRight(left, right) :\n                        TypeGuard.IsNumber(right) ? FromNumberRight(left, right) :\n                            TypeGuard.IsInteger(right) ? FromIntegerRight(left, right) :\n                                TypeGuard.IsBoolean(right) ? FromBooleanRight(left, right) :\n                                    TypeGuard.IsArray(right) ? FromArrayRight(left, right) :\n                                        TypeGuard.IsTuple(right) ? FromTupleRight(left, right) :\n                                            TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n                                                TypeGuard.IsUnknown(right) ? ExtendsResult.True :\n                                                    ExtendsResult.False);\n}\n// ------------------------------------------------------------------\n// Void\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromVoidRight(left, right) {\n    return (TypeGuard.IsUndefined(left) ? ExtendsResult.True :\n        TypeGuard.IsUndefined(left) ? ExtendsResult.True :\n            ExtendsResult.False);\n}\n// prettier-ignore\nfunction FromVoid(left, right) {\n    return (TypeGuard.IsIntersect(right) ? FromIntersectRight(left, right) :\n        TypeGuard.IsUnion(right) ? FromUnionRight(left, right) :\n            TypeGuard.IsUnknown(right) ? FromUnknownRight(left, right) :\n                TypeGuard.IsAny(right) ? FromAnyRight(left, right) :\n                    TypeGuard.IsObject(right) ? FromObjectRight(left, right) :\n                        TypeGuard.IsVoid(right) ? ExtendsResult.True :\n                            ExtendsResult.False);\n}\n// prettier-ignore\nfunction Visit(left, right) {\n    return (\n    // resolvable\n    (TypeGuard.IsTemplateLiteral(left) || TypeGuard.IsTemplateLiteral(right)) ? FromTemplateLiteral(left, right) :\n        (TypeGuard.IsRegExp(left) || TypeGuard.IsRegExp(right)) ? FromRegExp(left, right) :\n            (TypeGuard.IsNot(left) || TypeGuard.IsNot(right)) ? FromNot(left, right) :\n                // standard\n                TypeGuard.IsAny(left) ? FromAny(left, right) :\n                    TypeGuard.IsArray(left) ? FromArray(left, right) :\n                        TypeGuard.IsBigInt(left) ? FromBigInt(left, right) :\n                            TypeGuard.IsBoolean(left) ? FromBoolean(left, right) :\n                                TypeGuard.IsAsyncIterator(left) ? FromAsyncIterator(left, right) :\n                                    TypeGuard.IsConstructor(left) ? FromConstructor(left, right) :\n                                        TypeGuard.IsDate(left) ? FromDate(left, right) :\n                                            TypeGuard.IsFunction(left) ? FromFunction(left, right) :\n                                                TypeGuard.IsInteger(left) ? FromInteger(left, right) :\n                                                    TypeGuard.IsIntersect(left) ? FromIntersect(left, right) :\n                                                        TypeGuard.IsIterator(left) ? FromIterator(left, right) :\n                                                            TypeGuard.IsLiteral(left) ? FromLiteral(left, right) :\n                                                                TypeGuard.IsNever(left) ? FromNever(left, right) :\n                                                                    TypeGuard.IsNull(left) ? FromNull(left, right) :\n                                                                        TypeGuard.IsNumber(left) ? FromNumber(left, right) :\n                                                                            TypeGuard.IsObject(left) ? FromObject(left, right) :\n                                                                                TypeGuard.IsRecord(left) ? FromRecord(left, right) :\n                                                                                    TypeGuard.IsString(left) ? FromString(left, right) :\n                                                                                        TypeGuard.IsSymbol(left) ? FromSymbol(left, right) :\n                                                                                            TypeGuard.IsTuple(left) ? FromTuple(left, right) :\n                                                                                                TypeGuard.IsPromise(left) ? FromPromise(left, right) :\n                                                                                                    TypeGuard.IsUint8Array(left) ? FromUint8Array(left, right) :\n                                                                                                        TypeGuard.IsUndefined(left) ? FromUndefined(left, right) :\n                                                                                                            TypeGuard.IsUnion(left) ? FromUnion(left, right) :\n                                                                                                                TypeGuard.IsUnknown(left) ? FromUnknown(left, right) :\n                                                                                                                    TypeGuard.IsVoid(left) ? FromVoid(left, right) :\n                                                                                                                        Throw(`Unknown left type operand '${left[Kind]}'`));\n}\nexport function ExtendsCheck(left, right) {\n    return Visit(left, right);\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Literal } from '../literal/index.mjs';\nimport { Extends } from './extends.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction FromPropertyKey(K, U, L, R, options) {\n    return {\n        [K]: Extends(Literal(K), U, L, R, Clone(options))\n    };\n}\n// prettier-ignore\nfunction FromPropertyKeys(K, U, L, R, options) {\n    return K.reduce((Acc, LK) => {\n        return { ...Acc, ...FromPropertyKey(LK, U, L, R, options) };\n    }, {});\n}\n// prettier-ignore\nfunction FromMappedKey(K, U, L, R, options) {\n    return FromPropertyKeys(K.keys, U, L, R, options);\n}\n// prettier-ignore\nexport function ExtendsFromMappedKey(T, U, L, R, options) {\n    const P = FromMappedKey(T, U, L, R, options);\n    return MappedResult(P);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Union } from '../union/index.mjs';\nimport { ExtendsCheck, ExtendsResult } from './extends-check.mjs';\nimport { ExtendsFromMappedKey } from './extends-from-mapped-key.mjs';\nimport { ExtendsFromMappedResult } from './extends-from-mapped-result.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsMappedKey, IsMappedResult } from '../guard/kind.mjs';\n// prettier-ignore\nfunction ExtendsResolve(left, right, trueType, falseType) {\n    const R = ExtendsCheck(left, right);\n    return (R === ExtendsResult.Union ? Union([trueType, falseType]) :\n        R === ExtendsResult.True ? trueType :\n            falseType);\n}\n/** `[Json]` Creates a Conditional type */\nexport function Extends(L, R, T, F, options) {\n    // prettier-ignore\n    return (IsMappedResult(L) ? ExtendsFromMappedResult(L, R, T, F, options) :\n        IsMappedKey(L) ? CreateType(ExtendsFromMappedKey(L, R, T, F, options)) :\n            CreateType(ExtendsResolve(L, R, T, F), options));\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Extends } from './extends.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction FromProperties(P, Right, True, False, options) {\n    const Acc = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(P))\n        Acc[K2] = Extends(P[K2], Right, True, False, Clone(options));\n    return Acc;\n}\n// prettier-ignore\nfunction FromMappedResult(Left, Right, True, False, options) {\n    return FromProperties(Left.properties, Right, True, False, options);\n}\n// prettier-ignore\nexport function ExtendsFromMappedResult(Left, Right, True, False, options) {\n    const P = FromMappedResult(Left, Right, True, False, options);\n    return MappedResult(P);\n}\n", "import { Kind } from '../symbols/index.mjs';\n/** Fast undefined check used for properties of type undefined */\nfunction Intersect(schema) {\n    return schema.allOf.every((schema) => ExtendsUndefinedCheck(schema));\n}\nfunction Union(schema) {\n    return schema.anyOf.some((schema) => ExtendsUndefinedCheck(schema));\n}\nfunction Not(schema) {\n    return !ExtendsUndefinedCheck(schema.not);\n}\n/** Fast undefined check used for properties of type undefined */\n// prettier-ignore\nexport function ExtendsUndefinedCheck(schema) {\n    return (schema[Kind] === 'Intersect' ? Intersect(schema) :\n        schema[Kind] === 'Union' ? Union(schema) :\n            schema[Kind] === 'Not' ? Not(schema) :\n                schema[Kind] === 'Undefined' ? true :\n                    false);\n}\n", "import { Exclude } from './exclude.mjs';\nimport { TemplateLiteralToUnion } from '../template-literal/index.mjs';\nexport function ExcludeFromTemplateLiteral(L, R) {\n    return Exclude(TemplateLiteralToUnion(L), R);\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Extract } from './extract.mjs';\n// prettier-ignore\nfunction FromProperties(P, T) {\n    const Acc = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(P))\n        Acc[K2] = Extract(P[K2], T);\n    return Acc;\n}\n// prettier-ignore\nfunction FromMappedResult(R, T) {\n    return FromProperties(R.properties, T);\n}\n// prettier-ignore\nexport function ExtractFromMappedResult(R, T) {\n    const P = FromMappedResult(R, T);\n    return MappedResult(P);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Union } from '../union/index.mjs';\nimport { Never } from '../never/index.mjs';\nimport { ExtendsCheck, ExtendsResult } from '../extends/index.mjs';\nimport { ExtractFromMappedResult } from './extract-from-mapped-result.mjs';\nimport { ExtractFromTemplateLiteral } from './extract-from-template-literal.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsMappedResult, IsTemplateLiteral, IsUnion } from '../guard/kind.mjs';\nfunction ExtractRest(L, R) {\n    const extracted = L.filter((inner) => ExtendsCheck(inner, R) !== ExtendsResult.False);\n    return extracted.length === 1 ? extracted[0] : Union(extracted);\n}\n/** `[Json]` Constructs a type by extracting from type all union members that are assignable to union */\nexport function Extract(L, R, options) {\n    // overloads\n    if (IsTemplateLiteral(L))\n        return CreateType(ExtractFromTemplateLiteral(L, R), options);\n    if (IsMappedResult(L))\n        return CreateType(ExtractFromMappedResult(L, R), options);\n    // prettier-ignore\n    return CreateType(IsUnion(L) ? ExtractRest(L.anyOf, R) :\n        ExtendsCheck(L, R) !== ExtendsResult.False ? L : Never(), options);\n}\n", "import { Extract } from './extract.mjs';\nimport { TemplateLiteralToUnion } from '../template-literal/index.mjs';\nexport function ExtractFromTemplateLiteral(L, R) {\n    return Extract(TemplateLiteralToUnion(L), R);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Never } from '../never/index.mjs';\nimport * as KindGuard from '../guard/kind.mjs';\n/** `[JavaScript]` Extracts the InstanceType from the given Constructor type */\nexport function InstanceType(schema, options) {\n    return (KindGuard.IsConstructor(schema) ? CreateType(schema.returns, options) : Never(options));\n}\n", "import { CloneType } from '../clone/type.mjs';\nimport { Unknown } from '../unknown/index.mjs';\nimport { ReadonlyOptional } from '../readonly-optional/index.mjs';\nimport { Readonly } from '../readonly/index.mjs';\nimport { Optional } from '../optional/index.mjs';\nimport { Object } from '../object/index.mjs';\nimport { Record, RecordKey, RecordValue } from '../record/index.mjs';\nimport * as ValueGuard from '../guard/value.mjs';\nimport * as KindGuard from '../guard/kind.mjs';\n// prettier-ignore\nfunction FromConstructor(args, type) {\n    type.parameters = FromTypes(args, type.parameters);\n    type.returns = FromType(args, type.returns);\n    return type;\n}\n// prettier-ignore\nfunction FromFunction(args, type) {\n    type.parameters = FromTypes(args, type.parameters);\n    type.returns = FromType(args, type.returns);\n    return type;\n}\n// prettier-ignore\nfunction FromIntersect(args, type) {\n    type.allOf = FromTypes(args, type.allOf);\n    return type;\n}\n// prettier-ignore\nfunction FromUnion(args, type) {\n    type.anyOf = FromTypes(args, type.anyOf);\n    return type;\n}\n// prettier-ignore\nfunction FromTuple(args, type) {\n    if (ValueGuard.IsUndefined(type.items))\n        return type;\n    type.items = FromTypes(args, type.items);\n    return type;\n}\n// prettier-ignore\nfunction FromArray(args, type) {\n    type.items = FromType(args, type.items);\n    return type;\n}\n// prettier-ignore\nfunction FromAsyncIterator(args, type) {\n    type.items = FromType(args, type.items);\n    return type;\n}\n// prettier-ignore\nfunction FromIterator(args, type) {\n    type.items = FromType(args, type.items);\n    return type;\n}\n// prettier-ignore\nfunction FromPromise(args, type) {\n    type.item = FromType(args, type.item);\n    return type;\n}\n// prettier-ignore\nfunction FromObject(args, type) {\n    const mappedProperties = FromProperties(args, type.properties);\n    return { ...type, ...Object(mappedProperties) }; // retain options\n}\n// prettier-ignore\nfunction FromRecord(args, type) {\n    const mappedKey = FromType(args, RecordKey(type));\n    const mappedValue = FromType(args, RecordValue(type));\n    const result = Record(mappedKey, mappedValue);\n    return { ...type, ...result }; // retain options\n}\n// prettier-ignore\nfunction FromArgument(args, argument) {\n    return argument.index in args ? args[argument.index] : Unknown();\n}\n// prettier-ignore\nfunction FromProperty(args, type) {\n    const isReadonly = KindGuard.IsReadonly(type);\n    const isOptional = KindGuard.IsOptional(type);\n    const mapped = FromType(args, type);\n    return (isReadonly && isOptional ? ReadonlyOptional(mapped) :\n        isReadonly && !isOptional ? Readonly(mapped) :\n            !isReadonly && isOptional ? Optional(mapped) :\n                mapped);\n}\n// prettier-ignore\nfunction FromProperties(args, properties) {\n    return globalThis.Object.getOwnPropertyNames(properties).reduce((result, key) => {\n        return { ...result, [key]: FromProperty(args, properties[key]) };\n    }, {});\n}\n// prettier-ignore\nexport function FromTypes(args, types) {\n    return types.map(type => FromType(args, type));\n}\n// prettier-ignore\nfunction FromType(args, type) {\n    return (KindGuard.IsConstructor(type) ? FromConstructor(args, type) :\n        KindGuard.IsFunction(type) ? FromFunction(args, type) :\n            KindGuard.IsIntersect(type) ? FromIntersect(args, type) :\n                KindGuard.IsUnion(type) ? FromUnion(args, type) :\n                    KindGuard.IsTuple(type) ? FromTuple(args, type) :\n                        KindGuard.IsArray(type) ? FromArray(args, type) :\n                            KindGuard.IsAsyncIterator(type) ? FromAsyncIterator(args, type) :\n                                KindGuard.IsIterator(type) ? FromIterator(args, type) :\n                                    KindGuard.IsPromise(type) ? FromPromise(args, type) :\n                                        KindGuard.IsObject(type) ? FromObject(args, type) :\n                                            KindGuard.IsRecord(type) ? FromRecord(args, type) :\n                                                KindGuard.IsArgument(type) ? FromArgument(args, type) :\n                                                    type);\n}\n/** `[JavaScript]` Instantiates a type with the given parameters */\n// prettier-ignore\nexport function Instantiate(type, args) {\n    return FromType(args, CloneType(type));\n}\n", "import { Readonly } from '../readonly/index.mjs';\nimport { Optional } from '../optional/index.mjs';\n/** `[Json]` Creates a Readonly and Optional property */\nexport function ReadonlyOptional(schema) {\n    return Readonly(Optional(schema));\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind, Hint } from '../symbols/index.mjs';\nimport { Never } from '../never/index.mjs';\nimport { Number } from '../number/index.mjs';\nimport { Object } from '../object/index.mjs';\nimport { String } from '../string/index.mjs';\nimport { Union } from '../union/index.mjs';\nimport { IsTemplateLiteralFinite } from '../template-literal/index.mjs';\nimport { PatternStringExact, PatternNumberExact, PatternNeverExact } from '../patterns/index.mjs';\nimport { IndexPropertyKeys } from '../indexed/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { IsUndefined } from '../guard/value.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsInteger, IsLiteral, IsAny, IsBoolean, IsNever, IsNumber, IsString, IsRegExp, IsTemplateLiteral, IsUnion } from '../guard/kind.mjs';\n// ------------------------------------------------------------------\n// RecordCreateFromPattern\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction RecordCreateFromPattern(pattern, T, options) {\n    return CreateType({ [Kind]: 'Record', type: 'object', patternProperties: { [pattern]: T } }, options);\n}\n// ------------------------------------------------------------------\n// RecordCreateFromKeys\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction RecordCreateFromKeys(K, T, options) {\n    const result = {};\n    for (const K2 of K)\n        result[K2] = T;\n    return Object(result, { ...options, [Hint]: 'Record' });\n}\n// prettier-ignore\nfunction FromTemplateLiteralKey(K, T, options) {\n    return (IsTemplateLiteralFinite(K)\n        ? RecordCreateFromKeys(IndexPropertyKeys(K), T, options)\n        : RecordCreateFromPattern(K.pattern, T, options));\n}\n// prettier-ignore\nfunction FromUnionKey(key, type, options) {\n    return RecordCreateFromKeys(IndexPropertyKeys(Union(key)), type, options);\n}\n// prettier-ignore\nfunction FromLiteralKey(key, type, options) {\n    return RecordCreateFromKeys([key.toString()], type, options);\n}\n// prettier-ignore\nfunction FromRegExpKey(key, type, options) {\n    return RecordCreateFromPattern(key.source, type, options);\n}\n// prettier-ignore\nfunction FromStringKey(key, type, options) {\n    const pattern = IsUndefined(key.pattern) ? PatternStringExact : key.pattern;\n    return RecordCreateFromPattern(pattern, type, options);\n}\n// prettier-ignore\nfunction FromAnyKey(_, type, options) {\n    return RecordCreateFromPattern(PatternStringExact, type, options);\n}\n// prettier-ignore\nfunction FromNeverKey(_key, type, options) {\n    return RecordCreateFromPattern(PatternNeverExact, type, options);\n}\n// prettier-ignore\nfunction FromBooleanKey(_key, type, options) {\n    return Object({ true: type, false: type }, options);\n}\n// prettier-ignore\nfunction FromIntegerKey(_key, type, options) {\n    return RecordCreateFromPattern(PatternNumberExact, type, options);\n}\n// prettier-ignore\nfunction FromNumberKey(_, type, options) {\n    return RecordCreateFromPattern(PatternNumberExact, type, options);\n}\n// ------------------------------------------------------------------\n// TRecordOrObject\n// ------------------------------------------------------------------\n/** `[Json]` Creates a Record type */\nexport function Record(key, type, options = {}) {\n    // prettier-ignore\n    return (IsUnion(key) ? FromUnionKey(key.anyOf, type, options) :\n        IsTemplateLiteral(key) ? FromTemplateLiteralKey(key, type, options) :\n            IsLiteral(key) ? FromLiteralKey(key.const, type, options) :\n                IsBoolean(key) ? FromBooleanKey(key, type, options) :\n                    IsInteger(key) ? FromIntegerKey(key, type, options) :\n                        IsNumber(key) ? FromNumberKey(key, type, options) :\n                            IsRegExp(key) ? FromRegExpKey(key, type, options) :\n                                IsString(key) ? FromStringKey(key, type, options) :\n                                    IsAny(key) ? FromAnyKey(key, type, options) :\n                                        IsNever(key) ? FromNeverKey(key, type, options) :\n                                            Never(options));\n}\n// ------------------------------------------------------------------\n// Record Utilities\n// ------------------------------------------------------------------\n/** Gets the Records Pattern */\nexport function RecordPattern(record) {\n    return globalThis.Object.getOwnPropertyNames(record.patternProperties)[0];\n}\n/** Gets the Records Key Type */\n// prettier-ignore\nexport function RecordKey(type) {\n    const pattern = RecordPattern(type);\n    return (pattern === PatternStringExact ? String() :\n        pattern === PatternNumberExact ? Number() :\n            String({ pattern }));\n}\n/** Gets a Record Value Type */\n// prettier-ignore\nexport function RecordValue(type) {\n    return type.patternProperties[RecordPattern(type)];\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates an Integer type */\nexport function Integer(options) {\n    return CreateType({ [Kind]: 'Integer', type: 'integer' }, options);\n}\n", "import { Intrinsic } from './intrinsic.mjs';\n/** `[Json]` Intrinsic function to Capitalize LiteralString types */\nexport function Capitalize(T, options = {}) {\n    return Intrinsic(T, 'Capitalize', options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { TemplateLiteral, TemplateLiteralParseExact, IsTemplateLiteralExpressionFinite, TemplateLiteralExpressionGenerate } from '../template-literal/index.mjs';\nimport { IntrinsicFromMappedKey } from './intrinsic-from-mapped-key.mjs';\nimport { Literal } from '../literal/index.mjs';\nimport { Union } from '../union/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsMappedKey, IsTemplateLiteral, IsUnion, IsLiteral } from '../guard/kind.mjs';\n// ------------------------------------------------------------------\n// Apply\n// ------------------------------------------------------------------\nfunction ApplyUncapitalize(value) {\n    const [first, rest] = [value.slice(0, 1), value.slice(1)];\n    return [first.toLowerCase(), rest].join('');\n}\nfunction ApplyCapitalize(value) {\n    const [first, rest] = [value.slice(0, 1), value.slice(1)];\n    return [first.toUpperCase(), rest].join('');\n}\nfunction ApplyUppercase(value) {\n    return value.toUpperCase();\n}\nfunction ApplyLowercase(value) {\n    return value.toLowerCase();\n}\nfunction FromTemplateLiteral(schema, mode, options) {\n    // note: template literals require special runtime handling as they are encoded in string patterns.\n    // This diverges from the mapped type which would otherwise map on the template literal kind.\n    const expression = TemplateLiteralParseExact(schema.pattern);\n    const finite = IsTemplateLiteralExpressionFinite(expression);\n    if (!finite)\n        return { ...schema, pattern: FromLiteralValue(schema.pattern, mode) };\n    const strings = [...TemplateLiteralExpressionGenerate(expression)];\n    const literals = strings.map((value) => Literal(value));\n    const mapped = FromRest(literals, mode);\n    const union = Union(mapped);\n    return TemplateLiteral([union], options);\n}\n// prettier-ignore\nfunction FromLiteralValue(value, mode) {\n    return (typeof value === 'string' ? (mode === 'Uncapitalize' ? ApplyUncapitalize(value) :\n        mode === 'Capitalize' ? ApplyCapitalize(value) :\n            mode === 'Uppercase' ? ApplyUppercase(value) :\n                mode === 'Lowercase' ? ApplyLowercase(value) :\n                    value) : value.toString());\n}\n// prettier-ignore\nfunction FromRest(T, M) {\n    return T.map(L => Intrinsic(L, M));\n}\n/** Applies an intrinsic string manipulation to the given type. */\nexport function Intrinsic(schema, mode, options = {}) {\n    // prettier-ignore\n    return (\n    // Intrinsic-Mapped-Inference\n    IsMappedKey(schema) ? IntrinsicFromMappedKey(schema, mode, options) :\n        // Standard-Inference\n        IsTemplateLiteral(schema) ? FromTemplateLiteral(schema, mode, options) :\n            IsUnion(schema) ? Union(FromRest(schema.anyOf, mode), options) :\n                IsLiteral(schema) ? Literal(FromLiteralValue(schema.const, mode), options) :\n                    // Default Type\n                    CreateType(schema, options));\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Intrinsic } from './intrinsic.mjs';\nimport { Literal } from '../literal/index.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction MappedIntrinsicPropertyKey(K, M, options) {\n    return {\n        [K]: Intrinsic(Literal(K), M, Clone(options))\n    };\n}\n// prettier-ignore\nfunction MappedIntrinsicPropertyKeys(K, M, options) {\n    const result = K.reduce((Acc, L) => {\n        return { ...Acc, ...MappedIntrinsicPropertyKey(L, M, options) };\n    }, {});\n    return result;\n}\n// prettier-ignore\nfunction MappedIntrinsicProperties(T, M, options) {\n    return MappedIntrinsicPropertyKeys(T['keys'], M, options);\n}\n// prettier-ignore\nexport function IntrinsicFromMappedKey(T, M, options) {\n    const P = MappedIntrinsicProperties(T, M, options);\n    return MappedResult(P);\n}\n", "import { Intrinsic } from './intrinsic.mjs';\n/** `[Json]` Intrinsic function to Lowercase LiteralString types */\nexport function Lowercase(T, options = {}) {\n    return Intrinsic(T, 'Lowercase', options);\n}\n", "import { Intrinsic } from './intrinsic.mjs';\n/** `[Json]` Intrinsic function to Uncapitalize LiteralString types */\nexport function Uncapitalize(T, options = {}) {\n    return Intrinsic(T, 'Uncapitalize', options);\n}\n", "import { Intrinsic } from './intrinsic.mjs';\n/** `[Json]` Intrinsic function to Uppercase LiteralString types */\nexport function Uppercase(T, options = {}) {\n    return Intrinsic(T, 'Uppercase', options);\n}\n", "import { CreateType } from '../create/index.mjs';\nimport { Kind } from '../symbols/index.mjs';\n// ------------------------------------------------------------------\n// Module Infrastructure Types\n// ------------------------------------------------------------------\nimport { ComputeModuleProperties } from './compute.mjs';\n// ------------------------------------------------------------------\n// Module\n// ------------------------------------------------------------------\n// prettier-ignore\nexport class TModule {\n    constructor($defs) {\n        const computed = ComputeModuleProperties($defs);\n        const identified = this.WithIdentifiers(computed);\n        this.$defs = identified;\n    }\n    /** `[Json]` Imports a Type by Key. */\n    Import(key, options) {\n        const $defs = { ...this.$defs, [key]: CreateType(this.$defs[key], options) };\n        return CreateType({ [Kind]: 'Import', $defs, $ref: key });\n    }\n    // prettier-ignore\n    WithIdentifiers($defs) {\n        return globalThis.Object.getOwnPropertyNames($defs).reduce((result, key) => {\n            return { ...result, [key]: { ...$defs[key], $id: key } };\n        }, {});\n    }\n}\n/** `[Json]` Creates a Type Definition Module. */\nexport function Module(properties) {\n    return new TModule(properties);\n}\n", "import { CreateType } from '../create/index.mjs';\nimport { CloneType } from '../clone/index.mjs';\nimport { Discard } from '../discard/index.mjs';\nimport { Array } from '../array/index.mjs';\nimport { Awaited } from '../awaited/index.mjs';\nimport { AsyncIterator } from '../async-iterator/index.mjs';\nimport { Constructor } from '../constructor/index.mjs';\nimport { Index } from '../indexed/index.mjs';\nimport { Function as FunctionType } from '../function/index.mjs';\nimport { Intersect } from '../intersect/index.mjs';\nimport { Iterator } from '../iterator/index.mjs';\nimport { KeyOf } from '../keyof/index.mjs';\nimport { Object } from '../object/index.mjs';\nimport { Omit } from '../omit/index.mjs';\nimport { Pick } from '../pick/index.mjs';\nimport { Never } from '../never/index.mjs';\nimport { Partial } from '../partial/index.mjs';\nimport { RecordValue, RecordPattern } from '../record/index.mjs';\nimport { Required } from '../required/index.mjs';\nimport { Tuple } from '../tuple/index.mjs';\nimport { Union } from '../union/index.mjs';\n// ------------------------------------------------------------------\n// Symbols\n// ------------------------------------------------------------------\nimport { TransformKind, OptionalKind, ReadonlyKind } from '../symbols/index.mjs';\n// ------------------------------------------------------------------\n// KindGuard\n// ------------------------------------------------------------------\nimport * as KindGuard from '../guard/kind.mjs';\n// prettier-ignore\nfunction DereferenceParameters(moduleProperties, types) {\n    return types.map((type) => {\n        return KindGuard.IsRef(type)\n            ? Dereference(moduleProperties, type.$ref)\n            : FromType(moduleProperties, type);\n    });\n}\n// prettier-ignore\nfunction Dereference(moduleProperties, ref) {\n    return (ref in moduleProperties\n        ? KindGuard.IsRef(moduleProperties[ref])\n            ? Dereference(moduleProperties, moduleProperties[ref].$ref)\n            : FromType(moduleProperties, moduleProperties[ref])\n        : Never());\n}\n// prettier-ignore\nfunction FromAwaited(parameters) {\n    return Awaited(parameters[0]);\n}\n// prettier-ignore\nfunction FromIndex(parameters) {\n    return Index(parameters[0], parameters[1]);\n}\n// prettier-ignore\nfunction FromKeyOf(parameters) {\n    return KeyOf(parameters[0]);\n}\n// prettier-ignore\nfunction FromPartial(parameters) {\n    return Partial(parameters[0]);\n}\n// prettier-ignore\nfunction FromOmit(parameters) {\n    return Omit(parameters[0], parameters[1]);\n}\n// prettier-ignore\nfunction FromPick(parameters) {\n    return Pick(parameters[0], parameters[1]);\n}\n// prettier-ignore\nfunction FromRequired(parameters) {\n    return Required(parameters[0]);\n}\n// prettier-ignore\nfunction FromComputed(moduleProperties, target, parameters) {\n    const dereferenced = DereferenceParameters(moduleProperties, parameters);\n    return (target === 'Awaited' ? FromAwaited(dereferenced) :\n        target === 'Index' ? FromIndex(dereferenced) :\n            target === 'KeyOf' ? FromKeyOf(dereferenced) :\n                target === 'Partial' ? FromPartial(dereferenced) :\n                    target === 'Omit' ? FromOmit(dereferenced) :\n                        target === 'Pick' ? FromPick(dereferenced) :\n                            target === 'Required' ? FromRequired(dereferenced) :\n                                Never());\n}\nfunction FromArray(moduleProperties, type) {\n    return Array(FromType(moduleProperties, type));\n}\nfunction FromAsyncIterator(moduleProperties, type) {\n    return AsyncIterator(FromType(moduleProperties, type));\n}\n// prettier-ignore\nfunction FromConstructor(moduleProperties, parameters, instanceType) {\n    return Constructor(FromTypes(moduleProperties, parameters), FromType(moduleProperties, instanceType));\n}\n// prettier-ignore\nfunction FromFunction(moduleProperties, parameters, returnType) {\n    return FunctionType(FromTypes(moduleProperties, parameters), FromType(moduleProperties, returnType));\n}\nfunction FromIntersect(moduleProperties, types) {\n    return Intersect(FromTypes(moduleProperties, types));\n}\nfunction FromIterator(moduleProperties, type) {\n    return Iterator(FromType(moduleProperties, type));\n}\nfunction FromObject(moduleProperties, properties) {\n    return Object(globalThis.Object.keys(properties).reduce((result, key) => {\n        return { ...result, [key]: FromType(moduleProperties, properties[key]) };\n    }, {}));\n}\n// prettier-ignore\nfunction FromRecord(moduleProperties, type) {\n    const [value, pattern] = [FromType(moduleProperties, RecordValue(type)), RecordPattern(type)];\n    const result = CloneType(type);\n    result.patternProperties[pattern] = value;\n    return result;\n}\n// prettier-ignore\nfunction FromTransform(moduleProperties, transform) {\n    return (KindGuard.IsRef(transform))\n        ? { ...Dereference(moduleProperties, transform.$ref), [TransformKind]: transform[TransformKind] }\n        : transform;\n}\nfunction FromTuple(moduleProperties, types) {\n    return Tuple(FromTypes(moduleProperties, types));\n}\nfunction FromUnion(moduleProperties, types) {\n    return Union(FromTypes(moduleProperties, types));\n}\nfunction FromTypes(moduleProperties, types) {\n    return types.map((type) => FromType(moduleProperties, type));\n}\n// prettier-ignore\nexport function FromType(moduleProperties, type) {\n    return (\n    // Modifiers\n    KindGuard.IsOptional(type) ? CreateType(FromType(moduleProperties, Discard(type, [OptionalKind])), type) :\n        KindGuard.IsReadonly(type) ? CreateType(FromType(moduleProperties, Discard(type, [ReadonlyKind])), type) :\n            // Transform\n            KindGuard.IsTransform(type) ? CreateType(FromTransform(moduleProperties, type), type) :\n                // Types\n                KindGuard.IsArray(type) ? CreateType(FromArray(moduleProperties, type.items), type) :\n                    KindGuard.IsAsyncIterator(type) ? CreateType(FromAsyncIterator(moduleProperties, type.items), type) :\n                        KindGuard.IsComputed(type) ? CreateType(FromComputed(moduleProperties, type.target, type.parameters)) :\n                            KindGuard.IsConstructor(type) ? CreateType(FromConstructor(moduleProperties, type.parameters, type.returns), type) :\n                                KindGuard.IsFunction(type) ? CreateType(FromFunction(moduleProperties, type.parameters, type.returns), type) :\n                                    KindGuard.IsIntersect(type) ? CreateType(FromIntersect(moduleProperties, type.allOf), type) :\n                                        KindGuard.IsIterator(type) ? CreateType(FromIterator(moduleProperties, type.items), type) :\n                                            KindGuard.IsObject(type) ? CreateType(FromObject(moduleProperties, type.properties), type) :\n                                                KindGuard.IsRecord(type) ? CreateType(FromRecord(moduleProperties, type)) :\n                                                    KindGuard.IsTuple(type) ? CreateType(FromTuple(moduleProperties, type.items || []), type) :\n                                                        KindGuard.IsUnion(type) ? CreateType(FromUnion(moduleProperties, type.anyOf), type) :\n                                                            type);\n}\n// prettier-ignore\nexport function ComputeType(moduleProperties, key) {\n    return (key in moduleProperties\n        ? FromType(moduleProperties, moduleProperties[key])\n        : Never());\n}\n// prettier-ignore\nexport function ComputeModuleProperties(moduleProperties) {\n    return globalThis.Object.getOwnPropertyNames(moduleProperties).reduce((result, key) => {\n        return { ...result, [key]: ComputeType(moduleProperties, key) };\n    }, {});\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Omit } from './omit.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction FromPropertyKey(type, key, options) {\n    return { [key]: Omit(type, [key], Clone(options)) };\n}\n// prettier-ignore\nfunction FromPropertyKeys(type, propertyKeys, options) {\n    return propertyKeys.reduce((Acc, LK) => {\n        return { ...Acc, ...FromPropertyKey(type, LK, options) };\n    }, {});\n}\n// prettier-ignore\nfunction FromMappedKey(type, mappedKey, options) {\n    return FromPropertyKeys(type, mappedKey.keys, options);\n}\n// prettier-ignore\nexport function OmitFromMappedKey(type, mappedKey, options) {\n    const properties = FromMappedKey(type, mappedKey, options);\n    return MappedResult(properties);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Discard } from '../discard/discard.mjs';\nimport { TransformKind } from '../symbols/symbols.mjs';\nimport { Computed } from '../computed/index.mjs';\nimport { Literal } from '../literal/index.mjs';\nimport { IndexPropertyKeys } from '../indexed/index.mjs';\nimport { Intersect } from '../intersect/index.mjs';\nimport { Union } from '../union/index.mjs';\nimport { Object } from '../object/index.mjs';\n// ------------------------------------------------------------------\n// Mapped\n// ------------------------------------------------------------------\nimport { OmitFromMappedKey } from './omit-from-mapped-key.mjs';\nimport { OmitFromMappedResult } from './omit-from-mapped-result.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsMappedKey, IsIntersect, IsUnion, IsObject, IsSchema, IsMappedResult, IsLiteralValue, IsRef } from '../guard/kind.mjs';\nimport { IsArray as IsArrayValue } from '../guard/value.mjs';\n// prettier-ignore\nfunction FromIntersect(types, propertyKeys) {\n    return types.map((type) => OmitResolve(type, propertyKeys));\n}\n// prettier-ignore\nfunction FromUnion(types, propertyKeys) {\n    return types.map((type) => OmitResolve(type, propertyKeys));\n}\n// ------------------------------------------------------------------\n// FromProperty\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction FromProperty(properties, key) {\n    const { [key]: _, ...R } = properties;\n    return R;\n}\n// prettier-ignore\nfunction FromProperties(properties, propertyKeys) {\n    return propertyKeys.reduce((T, K2) => FromProperty(T, K2), properties);\n}\n// prettier-ignore\nfunction FromObject(properties, propertyKeys) {\n    const options = Discard(properties, [TransformKind, '$id', 'required', 'properties']);\n    const omittedProperties = FromProperties(properties['properties'], propertyKeys);\n    return Object(omittedProperties, options);\n}\n// prettier-ignore\nfunction UnionFromPropertyKeys(propertyKeys) {\n    const result = propertyKeys.reduce((result, key) => IsLiteralValue(key) ? [...result, Literal(key)] : result, []);\n    return Union(result);\n}\n// prettier-ignore\nfunction OmitResolve(properties, propertyKeys) {\n    return (IsIntersect(properties) ? Intersect(FromIntersect(properties.allOf, propertyKeys)) :\n        IsUnion(properties) ? Union(FromUnion(properties.anyOf, propertyKeys)) :\n            IsObject(properties) ? FromObject(properties, propertyKeys) :\n                Object({}));\n}\n/** `[Json]` Constructs a type whose keys are picked from the given type */\n// prettier-ignore\nexport function Omit(type, key, options) {\n    const typeKey = IsArrayValue(key) ? UnionFromPropertyKeys(key) : key;\n    const propertyKeys = IsSchema(key) ? IndexPropertyKeys(key) : key;\n    const isTypeRef = IsRef(type);\n    const isKeyRef = IsRef(key);\n    return (IsMappedResult(type) ? OmitFromMappedResult(type, propertyKeys, options) :\n        IsMappedKey(key) ? OmitFromMappedKey(type, key, options) :\n            (isTypeRef && isKeyRef) ? Computed('Omit', [type, typeKey], options) :\n                (!isTypeRef && isKeyRef) ? Computed('Omit', [type, typeKey], options) :\n                    (isTypeRef && !isKeyRef) ? Computed('Omit', [type, typeKey], options) :\n                        CreateType({ ...OmitResolve(type, propertyKeys), ...options }));\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Omit } from './omit.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction FromProperties(properties, propertyKeys, options) {\n    const result = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(properties))\n        result[K2] = Omit(properties[K2], propertyKeys, Clone(options));\n    return result;\n}\n// prettier-ignore\nfunction FromMappedResult(mappedResult, propertyKeys, options) {\n    return FromProperties(mappedResult.properties, propertyKeys, options);\n}\n// prettier-ignore\nexport function OmitFromMappedResult(mappedResult, propertyKeys, options) {\n    const properties = FromMappedResult(mappedResult, propertyKeys, options);\n    return MappedResult(properties);\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Pick } from './pick.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction FromPropertyKey(type, key, options) {\n    return {\n        [key]: Pick(type, [key], Clone(options))\n    };\n}\n// prettier-ignore\nfunction FromPropertyKeys(type, propertyKeys, options) {\n    return propertyKeys.reduce((result, leftKey) => {\n        return { ...result, ...FromPropertyKey(type, leftKey, options) };\n    }, {});\n}\n// prettier-ignore\nfunction FromMappedKey(type, mappedKey, options) {\n    return FromPropertyKeys(type, mappedKey.keys, options);\n}\n// prettier-ignore\nexport function PickFromMappedKey(type, mappedKey, options) {\n    const properties = FromMappedKey(type, mappedKey, options);\n    return MappedResult(properties);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Discard } from '../discard/discard.mjs';\nimport { Computed } from '../computed/index.mjs';\nimport { Intersect } from '../intersect/index.mjs';\nimport { Literal } from '../literal/index.mjs';\nimport { Object } from '../object/index.mjs';\nimport { Union } from '../union/index.mjs';\nimport { IndexPropertyKeys } from '../indexed/index.mjs';\nimport { TransformKind } from '../symbols/symbols.mjs';\n// ------------------------------------------------------------------\n// Guards\n// ------------------------------------------------------------------\nimport { IsMappedKey, IsMappedResult, IsIntersect, IsUnion, IsObject, IsSchema, IsLiteralValue, IsRef } from '../guard/kind.mjs';\nimport { IsArray as IsArrayValue } from '../guard/value.mjs';\n// ------------------------------------------------------------------\n// Infrastructure\n// ------------------------------------------------------------------\nimport { PickFromMappedKey } from './pick-from-mapped-key.mjs';\nimport { PickFromMappedResult } from './pick-from-mapped-result.mjs';\nfunction FromIntersect(types, propertyKeys) {\n    return types.map((type) => PickResolve(type, propertyKeys));\n}\n// prettier-ignore\nfunction FromUnion(types, propertyKeys) {\n    return types.map((type) => PickResolve(type, propertyKeys));\n}\n// prettier-ignore\nfunction FromProperties(properties, propertyKeys) {\n    const result = {};\n    for (const K2 of propertyKeys)\n        if (K2 in properties)\n            result[K2] = properties[K2];\n    return result;\n}\n// prettier-ignore\nfunction FromObject(T, K) {\n    const options = Discard(T, [TransformKind, '$id', 'required', 'properties']);\n    const properties = FromProperties(T['properties'], K);\n    return Object(properties, options);\n}\n// prettier-ignore\nfunction UnionFromPropertyKeys(propertyKeys) {\n    const result = propertyKeys.reduce((result, key) => IsLiteralValue(key) ? [...result, Literal(key)] : result, []);\n    return Union(result);\n}\n// prettier-ignore\nfunction PickResolve(properties, propertyKeys) {\n    return (IsIntersect(properties) ? Intersect(FromIntersect(properties.allOf, propertyKeys)) :\n        IsUnion(properties) ? Union(FromUnion(properties.anyOf, propertyKeys)) :\n            IsObject(properties) ? FromObject(properties, propertyKeys) :\n                Object({}));\n}\n/** `[Json]` Constructs a type whose keys are picked from the given type */\n// prettier-ignore\nexport function Pick(type, key, options) {\n    const typeKey = IsArrayValue(key) ? UnionFromPropertyKeys(key) : key;\n    const propertyKeys = IsSchema(key) ? IndexPropertyKeys(key) : key;\n    const isTypeRef = IsRef(type);\n    const isKeyRef = IsRef(key);\n    return (IsMappedResult(type) ? PickFromMappedResult(type, propertyKeys, options) :\n        IsMappedKey(key) ? PickFromMappedKey(type, key, options) :\n            (isTypeRef && isKeyRef) ? Computed('Pick', [type, typeKey], options) :\n                (!isTypeRef && isKeyRef) ? Computed('Pick', [type, typeKey], options) :\n                    (isTypeRef && !isKeyRef) ? Computed('Pick', [type, typeKey], options) :\n                        CreateType({ ...PickResolve(type, propertyKeys), ...options }));\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Pick } from './pick.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction FromProperties(properties, propertyKeys, options) {\n    const result = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(properties))\n        result[K2] = Pick(properties[K2], propertyKeys, Clone(options));\n    return result;\n}\n// prettier-ignore\nfunction FromMappedResult(mappedResult, propertyKeys, options) {\n    return FromProperties(mappedResult.properties, propertyKeys, options);\n}\n// prettier-ignore\nexport function PickFromMappedResult(mappedResult, propertyKeys, options) {\n    const properties = FromMappedResult(mappedResult, propertyKeys, options);\n    return MappedResult(properties);\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Partial } from './partial.mjs';\nimport { Clone } from '../clone/value.mjs';\n// prettier-ignore\nfunction FromProperties(K, options) {\n    const Acc = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(K))\n        Acc[K2] = Partial(K[K2], Clone(options));\n    return Acc;\n}\n// prettier-ignore\nfunction FromMappedResult(R, options) {\n    return FromProperties(R.properties, options);\n}\n// prettier-ignore\nexport function PartialFromMappedResult(R, options) {\n    const P = FromMappedResult(R, options);\n    return MappedResult(P);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Computed } from '../computed/index.mjs';\nimport { Optional } from '../optional/index.mjs';\nimport { Object } from '../object/index.mjs';\nimport { Intersect } from '../intersect/index.mjs';\nimport { Union } from '../union/index.mjs';\nimport { Ref } from '../ref/index.mjs';\nimport { Discard } from '../discard/index.mjs';\nimport { TransformKind } from '../symbols/index.mjs';\nimport { PartialFromMappedResult } from './partial-from-mapped-result.mjs';\n// ------------------------------------------------------------------\n// KindGuard\n// ------------------------------------------------------------------\nimport * as KindGuard from '../guard/kind.mjs';\n// prettier-ignore\nfunction FromComputed(target, parameters) {\n    return Computed('Partial', [Computed(target, parameters)]);\n}\n// prettier-ignore\nfunction FromRef($ref) {\n    return Computed('Partial', [Ref($ref)]);\n}\n// prettier-ignore\nfunction FromProperties(properties) {\n    const partialProperties = {};\n    for (const K of globalThis.Object.getOwnPropertyNames(properties))\n        partialProperties[K] = Optional(properties[K]);\n    return partialProperties;\n}\n// prettier-ignore\nfunction FromObject(type) {\n    const options = Discard(type, [TransformKind, '$id', 'required', 'properties']);\n    const properties = FromProperties(type['properties']);\n    return Object(properties, options);\n}\n// prettier-ignore\nfunction FromRest(types) {\n    return types.map(type => PartialResolve(type));\n}\n// ------------------------------------------------------------------\n// PartialResolve\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction PartialResolve(type) {\n    return (\n    // Mappable\n    KindGuard.IsComputed(type) ? FromComputed(type.target, type.parameters) :\n        KindGuard.IsRef(type) ? FromRef(type.$ref) :\n            KindGuard.IsIntersect(type) ? Intersect(FromRest(type.allOf)) :\n                KindGuard.IsUnion(type) ? Union(FromRest(type.anyOf)) :\n                    KindGuard.IsObject(type) ? FromObject(type) :\n                        // Intrinsic\n                        KindGuard.IsBigInt(type) ? type :\n                            KindGuard.IsBoolean(type) ? type :\n                                KindGuard.IsInteger(type) ? type :\n                                    KindGuard.IsLiteral(type) ? type :\n                                        KindGuard.IsNull(type) ? type :\n                                            KindGuard.IsNumber(type) ? type :\n                                                KindGuard.IsString(type) ? type :\n                                                    KindGuard.IsSymbol(type) ? type :\n                                                        KindGuard.IsUndefined(type) ? type :\n                                                            // Passthrough\n                                                            Object({}));\n}\n/** `[Json]` Constructs a type where all properties are optional */\nexport function Partial(type, options) {\n    if (KindGuard.IsMappedResult(type)) {\n        return PartialFromMappedResult(type, options);\n    }\n    else {\n        // special: mapping types require overridable options\n        return CreateType({ ...PartialResolve(type), ...options });\n    }\n}\n", "import { MappedResult } from '../mapped/index.mjs';\nimport { Required } from './required.mjs';\n// prettier-ignore\nfunction FromProperties(P, options) {\n    const Acc = {};\n    for (const K2 of globalThis.Object.getOwnPropertyNames(P))\n        Acc[K2] = Required(P[K2], options);\n    return Acc;\n}\n// prettier-ignore\nfunction FromMappedResult(R, options) {\n    return FromProperties(R.properties, options);\n}\n// prettier-ignore\nexport function RequiredFromMappedResult(R, options) {\n    const P = FromMappedResult(R, options);\n    return MappedResult(P);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Computed } from '../computed/index.mjs';\nimport { Object } from '../object/index.mjs';\nimport { Intersect } from '../intersect/index.mjs';\nimport { Union } from '../union/index.mjs';\nimport { Ref } from '../ref/index.mjs';\nimport { OptionalKind, TransformKind } from '../symbols/index.mjs';\nimport { Discard } from '../discard/index.mjs';\nimport { RequiredFromMappedResult } from './required-from-mapped-result.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport * as KindGuard from '../guard/kind.mjs';\n// prettier-ignore\nfunction FromComputed(target, parameters) {\n    return Computed('Required', [Computed(target, parameters)]);\n}\n// prettier-ignore\nfunction FromRef($ref) {\n    return Computed('Required', [Ref($ref)]);\n}\n// prettier-ignore\nfunction FromProperties(properties) {\n    const requiredProperties = {};\n    for (const K of globalThis.Object.getOwnPropertyNames(properties))\n        requiredProperties[K] = Discard(properties[K], [OptionalKind]);\n    return requiredProperties;\n}\n// prettier-ignore\nfunction FromObject(type) {\n    const options = Discard(type, [TransformKind, '$id', 'required', 'properties']);\n    const properties = FromProperties(type['properties']);\n    return Object(properties, options);\n}\n// prettier-ignore\nfunction FromRest(types) {\n    return types.map(type => RequiredResolve(type));\n}\n// ------------------------------------------------------------------\n// RequiredResolve\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction RequiredResolve(type) {\n    return (\n    // Mappable\n    KindGuard.IsComputed(type) ? FromComputed(type.target, type.parameters) :\n        KindGuard.IsRef(type) ? FromRef(type.$ref) :\n            KindGuard.IsIntersect(type) ? Intersect(FromRest(type.allOf)) :\n                KindGuard.IsUnion(type) ? Union(FromRest(type.anyOf)) :\n                    KindGuard.IsObject(type) ? FromObject(type) :\n                        // Intrinsic\n                        KindGuard.IsBigInt(type) ? type :\n                            KindGuard.IsBoolean(type) ? type :\n                                KindGuard.IsInteger(type) ? type :\n                                    KindGuard.IsLiteral(type) ? type :\n                                        KindGuard.IsNull(type) ? type :\n                                            KindGuard.IsNumber(type) ? type :\n                                                KindGuard.IsString(type) ? type :\n                                                    KindGuard.IsSymbol(type) ? type :\n                                                        KindGuard.IsUndefined(type) ? type :\n                                                            // Passthrough\n                                                            Object({}));\n}\n/** `[Json]` Constructs a type where all properties are required */\nexport function Required(type, options) {\n    if (KindGuard.IsMappedResult(type)) {\n        return RequiredFromMappedResult(type, options);\n    }\n    else {\n        // special: mapping types require overridable options\n        return CreateType({ ...RequiredResolve(type), ...options });\n    }\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a Not type */\nexport function Not(type, options) {\n    return CreateType({ [Kind]: 'Not', not: type }, options);\n}\n", "import { Tuple } from '../tuple/index.mjs';\nimport { Never } from '../never/index.mjs';\nimport * as KindGuard from '../guard/kind.mjs';\n/** `[JavaScript]` Extracts the Parameters from the given Function type */\nexport function Parameters(schema, options) {\n    return (KindGuard.IsFunction(schema) ? Tuple(schema.parameters, options) : Never());\n}\n", "import { CloneType } from '../clone/type.mjs';\nimport { CreateType } from '../create/type.mjs';\nimport { IsUndefined } from '../guard/value.mjs';\nimport { Kind, Hint } from '../symbols/index.mjs';\n// Auto Tracked For Recursive Types without ID's\nlet Ordinal = 0;\n/** `[Json]` Creates a Recursive type */\nexport function Recursive(callback, options = {}) {\n    if (IsUndefined(options.$id))\n        options.$id = `T${Ordinal++}`;\n    const thisType = CloneType(callback({ [Kind]: 'This', $ref: `${options.$id}` }));\n    thisType.$id = options.$id;\n    // prettier-ignore\n    return CreateType({ [Hint]: 'Recursive', ...thisType }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { IsString } from '../guard/value.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates a RegExp type */\nexport function RegExp(unresolved, options) {\n    const expr = IsString(unresolved) ? new globalThis.RegExp(unresolved) : unresolved;\n    return CreateType({ [Kind]: 'RegExp', type: 'RegExp', source: expr.source, flags: expr.flags }, options);\n}\n", "// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsIntersect, IsUnion, IsTuple } from '../guard/kind.mjs';\n// prettier-ignore\nfunction RestResolve(T) {\n    return (IsIntersect(T) ? T.allOf :\n        IsUnion(T) ? T.anyOf :\n            IsTuple(T) ? T.items ?? [] :\n                []);\n}\n/** `[Json]` Extracts interior Rest elements from Tuple, Intersect and Union types */\nexport function Rest(T) {\n    return RestResolve(T);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Never } from '../never/index.mjs';\nimport * as KindGuard from '../guard/kind.mjs';\n/** `[JavaScript]` Extracts the ReturnType from the given Function type */\nexport function ReturnType(schema, options) {\n    return (KindGuard.IsFunction(schema) ? CreateType(schema.returns, options) : Never(options));\n}\n", "import { TransformKind } from '../symbols/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsTransform } from '../guard/kind.mjs';\n// ------------------------------------------------------------------\n// TransformBuilders\n// ------------------------------------------------------------------\nexport class TransformDecodeBuilder {\n    constructor(schema) {\n        this.schema = schema;\n    }\n    Decode(decode) {\n        return new TransformEncodeBuilder(this.schema, decode);\n    }\n}\n// prettier-ignore\nexport class TransformEncodeBuilder {\n    constructor(schema, decode) {\n        this.schema = schema;\n        this.decode = decode;\n    }\n    EncodeTransform(encode, schema) {\n        const Encode = (value) => schema[TransformKind].Encode(encode(value));\n        const Decode = (value) => this.decode(schema[TransformKind].Decode(value));\n        const Codec = { Encode: Encode, Decode: Decode };\n        return { ...schema, [TransformKind]: Codec };\n    }\n    EncodeSchema(encode, schema) {\n        const Codec = { Decode: this.decode, Encode: encode };\n        return { ...schema, [TransformKind]: Codec };\n    }\n    Encode(encode) {\n        return (IsTransform(this.schema) ? this.EncodeTransform(encode, this.schema) : this.EncodeSchema(encode, this.schema));\n    }\n}\n/** `[Json]` Creates a Transform type */\nexport function Transform(schema) {\n    return new TransformDecodeBuilder(schema);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[Json]` Creates a Unsafe type that will infers as the generic argument T */\nexport function Unsafe(options = {}) {\n    return CreateType({ [Kind]: options[Kind] ?? 'Unsafe' }, options);\n}\n", "import { CreateType } from '../create/type.mjs';\nimport { Kind } from '../symbols/index.mjs';\n/** `[JavaScript]` Creates a Void type */\nexport function Void(options) {\n    return CreateType({ [Kind]: 'Void', type: 'void' }, options);\n}\n", "// ------------------------------------------------------------------\n// JsonTypeBuilder\n// ------------------------------------------------------------------\nexport { JsonTypeBuilder } from './json.mjs';\n// ------------------------------------------------------------------\n// JavaScriptTypeBuilder\n// ------------------------------------------------------------------\nimport * as TypeBuilder from './type.mjs';\nimport { JavaScriptTypeBuilder } from './javascript.mjs';\n/** JavaScript Type Builder with Static Resolution for TypeScript */\nconst Type = TypeBuilder;\nexport { JavaScriptTypeBuilder };\nexport { Type };\n", "// ------------------------------------------------------------------\n// Type: Module\n// ------------------------------------------------------------------\nexport { Any } from '../any/index.mjs';\nexport { Argument } from '../argument/index.mjs';\nexport { Array } from '../array/index.mjs';\nexport { AsyncIterator } from '../async-iterator/index.mjs';\nexport { Awaited } from '../awaited/index.mjs';\nexport { BigInt } from '../bigint/index.mjs';\nexport { Boolean } from '../boolean/index.mjs';\nexport { Composite } from '../composite/index.mjs';\nexport { Const } from '../const/index.mjs';\nexport { Constructor } from '../constructor/index.mjs';\nexport { ConstructorParameters } from '../constructor-parameters/index.mjs';\nexport { Date } from '../date/index.mjs';\nexport { Enum } from '../enum/index.mjs';\nexport { Exclude } from '../exclude/index.mjs';\nexport { Extends } from '../extends/index.mjs';\nexport { Extract } from '../extract/index.mjs';\nexport { Function } from '../function/index.mjs';\nexport { Index } from '../indexed/index.mjs';\nexport { InstanceType } from '../instance-type/index.mjs';\nexport { Instantiate } from '../instantiate/index.mjs';\nexport { Integer } from '../integer/index.mjs';\nexport { Intersect } from '../intersect/index.mjs';\nexport { Capitalize, Uncapitalize, Lowercase, Uppercase } from '../intrinsic/index.mjs';\nexport { Iterator } from '../iterator/index.mjs';\nexport { KeyOf } from '../keyof/index.mjs';\nexport { Literal } from '../literal/index.mjs';\nexport { Mapped } from '../mapped/index.mjs';\nexport { Module } from '../module/index.mjs';\nexport { Never } from '../never/index.mjs';\nexport { Not } from '../not/index.mjs';\nexport { Null } from '../null/index.mjs';\nexport { Number } from '../number/index.mjs';\nexport { Object } from '../object/index.mjs';\nexport { Omit } from '../omit/index.mjs';\nexport { Optional } from '../optional/index.mjs';\nexport { Parameters } from '../parameters/index.mjs';\nexport { Partial } from '../partial/index.mjs';\nexport { Pick } from '../pick/index.mjs';\nexport { Promise } from '../promise/index.mjs';\nexport { Readonly } from '../readonly/index.mjs';\nexport { ReadonlyOptional } from '../readonly-optional/index.mjs';\nexport { Record } from '../record/index.mjs';\nexport { Recursive } from '../recursive/index.mjs';\nexport { Ref } from '../ref/index.mjs';\nexport { RegExp } from '../regexp/index.mjs';\nexport { Required } from '../required/index.mjs';\nexport { Rest } from '../rest/index.mjs';\nexport { ReturnType } from '../return-type/index.mjs';\nexport { String } from '../string/index.mjs';\nexport { Symbol } from '../symbol/index.mjs';\nexport { TemplateLiteral } from '../template-literal/index.mjs';\nexport { Transform } from '../transform/index.mjs';\nexport { Tuple } from '../tuple/index.mjs';\nexport { Uint8Array } from '../uint8array/index.mjs';\nexport { Undefined } from '../undefined/index.mjs';\nexport { Union } from '../union/index.mjs';\nexport { Unknown } from '../unknown/index.mjs';\nexport { Unsafe } from '../unsafe/index.mjs';\nexport { Void } from '../void/index.mjs';\n", "import { Type, Kind } from \"@sinclair/typebox\";\nimport {\n  compile,\n  createType,\n  loadFileType,\n  tryParse,\n  validateFile\n} from \"./utils.mjs\";\nimport { ELYSIA_FORM_DATA, form } from \"../utils.mjs\";\nimport { ValidationError } from \"../error.mjs\";\nimport { parseDateTimeEmptySpace } from \"./format.mjs\";\nconst t = Object.assign({}, Type);\ncreateType(\n  \"UnionEnum\",\n  (schema, value) => (typeof value == \"number\" || typeof value == \"string\" || value === null) && schema.enum.includes(value)\n), createType(\n  \"ArrayBuffer\",\n  (schema, value) => value instanceof ArrayBuffer\n);\nconst internalFiles = createType(\n  \"Files\",\n  (options, value) => {\n    if (options.minItems && options.minItems > 1 && !Array.isArray(value))\n      return !1;\n    if (!Array.isArray(value)) return validateFile(options, value);\n    if (options.minItems && value.length < options.minItems || options.maxItems && value.length > options.maxItems) return !1;\n    for (let i = 0; i < value.length; i++)\n      if (!validateFile(options, value[i])) return !1;\n    return !0;\n  }\n), internalFormData = createType(\n  \"ElysiaForm\",\n  ({ compiler, ...schema }, value) => {\n    if (!(value instanceof FormData)) return !1;\n    if (compiler) {\n      if (!(ELYSIA_FORM_DATA in value))\n        throw new ValidationError(\"property\", schema, value);\n      if (!compiler.Check(value[ELYSIA_FORM_DATA]))\n        throw compiler.Error(value[ELYSIA_FORM_DATA]);\n    }\n    return !0;\n  }\n), ElysiaType = {\n  // @ts-ignore\n  String: (property) => Type.String(property),\n  Numeric: (property) => {\n    const schema = Type.Number(property), compiler = compile(schema);\n    return t.Transform(\n      t.Union(\n        [\n          t.String({\n            format: \"numeric\",\n            default: 0\n          }),\n          t.Number(property)\n        ],\n        property\n      )\n    ).Decode((value) => {\n      const number = +value;\n      if (isNaN(number)) return value;\n      if (property && !compiler.Check(number))\n        throw compiler.Error(number);\n      return number;\n    }).Encode((value) => value);\n  },\n  Integer: (property) => {\n    const schema = Type.Integer(property), compiler = compile(schema);\n    return t.Transform(\n      t.Union(\n        [\n          t.String({\n            format: \"integer\",\n            default: 0\n          }),\n          Type.Integer(property)\n        ],\n        property\n      )\n    ).Decode((value) => {\n      const number = +value;\n      if (!compiler.Check(number)) throw compiler.Error(number);\n      return number;\n    }).Encode((value) => value);\n  },\n  Date: (property) => {\n    const schema = Type.Date(property), compiler = compile(schema), _default = property?.default ? new Date(property.default) : void 0;\n    return t.Transform(\n      t.Union(\n        [\n          Type.Date(property),\n          t.String({\n            format: \"date-time\",\n            default: _default?.toISOString()\n          }),\n          t.String({\n            format: \"date\",\n            default: _default?.toISOString()\n          }),\n          t.Number({ default: _default?.getTime() })\n        ],\n        property\n      )\n    ).Decode((value) => {\n      if (typeof value == \"number\") {\n        const date2 = new Date(value);\n        if (!compiler.Check(date2)) throw compiler.Error(date2);\n        return date2;\n      }\n      if (value instanceof Date) return value;\n      const date = new Date(parseDateTimeEmptySpace(value));\n      if (!date || isNaN(date.getTime()))\n        throw new ValidationError(\"property\", schema, date);\n      if (!compiler.Check(date)) throw compiler.Error(date);\n      return date;\n    }).Encode((value) => {\n      if (value instanceof Date) return value.toISOString();\n      if (typeof value == \"string\") {\n        if (isNaN(\n          new Date(parseDateTimeEmptySpace(value)).getTime()\n        ))\n          throw new ValidationError(\"property\", schema, value);\n        return value;\n      }\n      if (!compiler.Check(value)) throw compiler.Error(value);\n      return value;\n    });\n  },\n  BooleanString: (property) => {\n    const schema = Type.Boolean(property), compiler = compile(schema);\n    return t.Transform(\n      t.Union(\n        [\n          t.Boolean(property),\n          t.String({\n            format: \"boolean\",\n            default: !1\n          })\n        ],\n        property\n      )\n    ).Decode((value) => {\n      if (typeof value == \"string\") return value === \"true\";\n      if (value !== void 0 && !compiler.Check(value))\n        throw compiler.Error(value);\n      return value;\n    }).Encode((value) => value);\n  },\n  ObjectString: (properties, options) => {\n    const schema = t.Object(properties, options), compiler = compile(schema);\n    return t.Transform(\n      t.Union(\n        [\n          t.String({\n            format: \"ObjectString\",\n            default: \"{}\"\n          }),\n          schema\n        ],\n        {\n          elysiaMeta: \"ObjectString\"\n        }\n      )\n    ).Decode((value) => {\n      if (typeof value == \"string\") {\n        if (value.charCodeAt(0) !== 123)\n          throw new ValidationError(\"property\", schema, value);\n        if (!compiler.Check(value = tryParse(value, schema)))\n          throw compiler.Error(value);\n        return compiler.Decode(value);\n      }\n      return value;\n    }).Encode((value) => {\n      let original;\n      if (typeof value == \"string\" && (value = tryParse(original = value, schema)), !compiler.Check(value)) throw compiler.Error(value);\n      return original ?? JSON.stringify(value);\n    });\n  },\n  ArrayString: (children = t.String(), options) => {\n    const schema = t.Array(children, options), compiler = compile(schema), decode = (value, isProperty = !1) => {\n      if (value.charCodeAt(0) === 91) {\n        if (!compiler.Check(value = tryParse(value, schema)))\n          throw compiler.Error(value);\n        return compiler.Decode(value);\n      }\n      if (isProperty) return value;\n      throw new ValidationError(\"property\", schema, value);\n    };\n    return t.Transform(\n      t.Union([\n        t.String({\n          format: \"ArrayString\",\n          default: options?.default\n        }),\n        schema\n      ])\n    ).Decode((value) => {\n      if (Array.isArray(value)) {\n        let values = [];\n        for (let i = 0; i < value.length; i++) {\n          const v = value[i];\n          if (typeof v == \"string\") {\n            const t2 = decode(v, !0);\n            Array.isArray(t2) ? values = values.concat(t2) : values.push(t2);\n            continue;\n          }\n          values.push(v);\n        }\n        return values;\n      }\n      return typeof value == \"string\" ? decode(value) : value;\n    }).Encode((value) => {\n      let original;\n      if (typeof value == \"string\" && (value = tryParse(original = value, schema)), !compiler.Check(value))\n        throw new ValidationError(\"property\", schema, value);\n      return original ?? JSON.stringify(value);\n    });\n  },\n  ArrayQuery: (children = t.String(), options) => {\n    const schema = t.Array(children, options), compiler = compile(schema), decode = (value) => value.indexOf(\",\") !== -1 ? compiler.Decode(value.split(\",\")) : [value];\n    return t.Transform(\n      t.Union(\n        [\n          t.String({\n            default: options?.default\n          }),\n          schema\n        ],\n        {\n          elysiaMeta: \"ArrayQuery\"\n        }\n      )\n    ).Decode((value) => {\n      if (Array.isArray(value)) {\n        let values = [];\n        for (let i = 0; i < value.length; i++) {\n          const v = value[i];\n          if (typeof v == \"string\") {\n            const t2 = decode(v);\n            Array.isArray(t2) ? values = values.concat(t2) : values.push(t2);\n            continue;\n          }\n          values.push(v);\n        }\n        return values;\n      }\n      return typeof value == \"string\" ? decode(value) : value;\n    }).Encode((value) => {\n      let original;\n      if (typeof value == \"string\" && (value = tryParse(original = value, schema)), !compiler.Check(value))\n        throw new ValidationError(\"property\", schema, value);\n      return original ?? JSON.stringify(value);\n    });\n  },\n  File: createType(\n    \"File\",\n    validateFile\n  ),\n  Files: (options = {}) => t.Transform(internalFiles(options)).Decode((value) => Array.isArray(value) ? value : [value]).Encode((value) => value),\n  Nullable: (schema, options) => t.Union([schema, t.Null()], {\n    ...options,\n    nullable: !0\n  }),\n  /**\n   * Allow Optional, Nullable and Undefined\n   */\n  MaybeEmpty: (schema, options) => t.Union([schema, t.Null(), t.Undefined()], options),\n  Cookie: (properties, {\n    domain,\n    expires,\n    httpOnly,\n    maxAge,\n    path,\n    priority,\n    sameSite,\n    secure,\n    secrets,\n    sign,\n    ...options\n  } = {}) => {\n    const v = t.Object(properties, options);\n    return v.config = {\n      domain,\n      expires,\n      httpOnly,\n      maxAge,\n      path,\n      priority,\n      sameSite,\n      secure,\n      secrets,\n      sign\n    }, v;\n  },\n  UnionEnum: (values, options = {}) => {\n    const type = values.every((value) => typeof value == \"string\") ? { type: \"string\" } : values.every((value) => typeof value == \"number\") ? { type: \"number\" } : values.every((value) => value === null) ? { type: \"null\" } : {};\n    if (values.some((x) => typeof x == \"object\" && x !== null))\n      throw new Error(\"This type does not support objects or arrays\");\n    return {\n      // default is need for generating error message\n      default: values[0],\n      ...options,\n      [Kind]: \"UnionEnum\",\n      ...type,\n      enum: values\n    };\n  },\n  NoValidate: (v, enabled = !0) => (v.noValidate = enabled, v),\n  Form: (v, options = {}) => {\n    const schema = t.Object(v, {\n      default: form({}),\n      ...options\n    }), compiler = compile(schema);\n    return t.Union([\n      schema,\n      // @ts-expect-error\n      internalFormData({\n        compiler\n      })\n    ]);\n  },\n  ArrayBuffer(options = {}) {\n    return {\n      // default is need for generating error message\n      default: [1, 2, 3],\n      ...options,\n      [Kind]: \"ArrayBuffer\"\n    };\n  },\n  Uint8Array: (options) => {\n    const schema = Type.Uint8Array(options), compiler = compile(schema);\n    return t.Transform(t.Union([t.ArrayBuffer(), Type.Uint8Array(options)])).Decode((value) => {\n      if (value instanceof ArrayBuffer) {\n        if (!compiler.Check(value = new Uint8Array(value)))\n          throw compiler.Error(value);\n        return value;\n      }\n      return value;\n    }).Encode((value) => value);\n  }\n};\nt.BooleanString = ElysiaType.BooleanString, t.ObjectString = ElysiaType.ObjectString, t.ArrayString = ElysiaType.ArrayString, t.ArrayQuery = ElysiaType.ArrayQuery, t.Numeric = ElysiaType.Numeric, t.Integer = ElysiaType.Integer, t.File = (arg) => (arg?.type && loadFileType(), ElysiaType.File({\n  default: \"File\",\n  ...arg,\n  extension: arg?.type,\n  type: \"string\",\n  format: \"binary\"\n})), t.Files = (arg) => (arg?.type && loadFileType(), ElysiaType.Files({\n  ...arg,\n  elysiaMeta: \"Files\",\n  default: \"Files\",\n  extension: arg?.type,\n  type: \"array\",\n  items: {\n    ...arg,\n    default: \"Files\",\n    type: \"string\",\n    format: \"binary\"\n  }\n})), t.Nullable = ElysiaType.Nullable, t.MaybeEmpty = ElysiaType.MaybeEmpty, t.Cookie = ElysiaType.Cookie, t.Date = ElysiaType.Date, t.UnionEnum = ElysiaType.UnionEnum, t.NoValidate = ElysiaType.NoValidate, t.Form = ElysiaType.Form, t.ArrayBuffer = ElysiaType.ArrayBuffer, t.Uint8Array = ElysiaType.Uint8Array;\nimport {\n  TypeSystemPolicy,\n  TypeSystem,\n  TypeSystemDuplicateFormat,\n  TypeSystemDuplicateTypeKind\n} from \"@sinclair/typebox/system\";\nimport { TypeRegistry, FormatRegistry } from \"@sinclair/typebox\";\nimport { TypeCompiler, TypeCheck } from \"@sinclair/typebox/compiler\";\nexport {\n  ElysiaType,\n  FormatRegistry,\n  TypeCheck,\n  TypeCompiler,\n  TypeRegistry,\n  TypeSystem,\n  TypeSystemDuplicateFormat,\n  TypeSystemDuplicateTypeKind,\n  TypeSystemPolicy,\n  t\n};\n", "import {\n  Kind,\n  TypeRegistry,\n  Unsafe\n} from \"@sinclair/typebox\";\nimport { Value } from \"@sinclair/typebox/value\";\nimport { TypeCompiler } from \"@sinclair/typebox/compiler\";\nimport { ElysiaFile } from \"../universal/file.mjs\";\nimport { InvalidFileType, ValidationError } from \"../error.mjs\";\nconst tryParse = (v, schema) => {\n  try {\n    return JSON.parse(v);\n  } catch {\n    throw new ValidationError(\"property\", schema, v);\n  }\n};\nfunction createType(kind, func) {\n  return TypeRegistry.Has(kind) || TypeRegistry.Set(kind, func), (options = {}) => Unsafe({ ...options, [Kind]: kind });\n}\nconst compile = (schema) => {\n  try {\n    const compiler = TypeCompiler.Compile(schema);\n    return compiler.Create = () => Value.Create(schema), compiler.Error = (v) => (\n      // @ts-ignore\n      new ValidationError(\"property\", schema, v, compiler.Errors(v))\n    ), compiler;\n  } catch {\n    return {\n      Check: (v) => Value.Check(schema, v),\n      CheckThrow: (v) => {\n        if (!Value.Check(schema, v))\n          throw new ValidationError(\n            \"property\",\n            schema,\n            v,\n            // @ts-ignore\n            Value.Errors(schema, v)\n          );\n      },\n      Decode: (v) => Value.Decode(schema, v),\n      Create: () => Value.Create(schema),\n      Error: (v) => new ValidationError(\n        \"property\",\n        schema,\n        v,\n        // @ts-ignore\n        Value.Errors(schema, v)\n      )\n    };\n  }\n}, parseFileUnit = (size) => {\n  if (typeof size == \"string\")\n    switch (size.slice(-1)) {\n      case \"k\":\n        return +size.slice(0, size.length - 1) * 1024;\n      case \"m\":\n        return +size.slice(0, size.length - 1) * 1048576;\n      default:\n        return +size;\n    }\n  return size;\n}, checkFileExtension = (type, extension) => type.startsWith(extension) ? !0 : extension.charCodeAt(extension.length - 1) === 42 && extension.charCodeAt(extension.length - 2) === 47 && type.startsWith(extension.slice(0, -1));\nlet _fileTypeFromBlobWarn = !1;\nconst warnIfFileTypeIsNotInstalled = () => {\n  _fileTypeFromBlobWarn || (console.warn(\n    \"[Elysia] Attempt to validate file type without 'file-type'. This may lead to security risks. We recommend installing 'file-type' to properly validate file extension.\"\n  ), _fileTypeFromBlobWarn = !0);\n}, loadFileType = async () => import(\"file-type\").then((x) => (_fileTypeFromBlob = x.fileTypeFromBlob, _fileTypeFromBlob)).catch(warnIfFileTypeIsNotInstalled);\nlet _fileTypeFromBlob;\nconst fileTypeFromBlob = (file) => _fileTypeFromBlob ? _fileTypeFromBlob(file) : loadFileType().then((mod) => {\n  if (mod) return mod(file);\n}), fileType = async (file, extension, name = file?.name ?? \"\") => {\n  if (Array.isArray(file))\n    return await Promise.all(file.map((f) => fileType(f, extension, name))), !0;\n  if (!file) return !1;\n  const result = await fileTypeFromBlob(file);\n  if (!result) throw new InvalidFileType(name, extension);\n  if (typeof extension == \"string\" && !checkFileExtension(result.mime, extension))\n    throw new InvalidFileType(name, extension);\n  for (let i = 0; i < extension.length; i++)\n    if (checkFileExtension(result.mime, extension[i])) return !0;\n  throw new InvalidFileType(name, extension);\n}, validateFile = (options, value) => {\n  if (value instanceof ElysiaFile) return !0;\n  if (!(value instanceof Blob) || options.minSize && value.size < parseFileUnit(options.minSize) || options.maxSize && value.size > parseFileUnit(options.maxSize))\n    return !1;\n  if (options.extension) {\n    if (typeof options.extension == \"string\")\n      return checkFileExtension(value.type, options.extension);\n    for (let i = 0; i < options.extension.length; i++)\n      if (checkFileExtension(value.type, options.extension[i]))\n        return !0;\n    return !1;\n  }\n  return !0;\n}, validationDetail = (message) => (error) => ({\n  ...error,\n  message\n});\nexport {\n  checkFileExtension,\n  compile,\n  createType,\n  fileType,\n  fileTypeFromBlob,\n  loadFileType,\n  parseFileUnit,\n  tryParse,\n  validateFile,\n  validationDetail\n};\n", "// ------------------------------------------------------------------\n// Errors (re-export)\n// ------------------------------------------------------------------\nexport { ValueErrorType, ValueErrorIterator } from '../errors/index.mjs';\n// ------------------------------------------------------------------\n// Guards\n// ------------------------------------------------------------------\nexport * from './guard/index.mjs';\n// ------------------------------------------------------------------\n// Operators\n// ------------------------------------------------------------------\nexport * from './assert/index.mjs';\nexport * from './cast/index.mjs';\nexport * from './check/index.mjs';\nexport * from './clean/index.mjs';\nexport * from './clone/index.mjs';\nexport * from './convert/index.mjs';\nexport * from './create/index.mjs';\nexport * from './decode/index.mjs';\nexport * from './default/index.mjs';\nexport * from './delta/index.mjs';\nexport * from './encode/index.mjs';\nexport * from './equal/index.mjs';\nexport * from './hash/index.mjs';\nexport * from './mutate/index.mjs';\nexport * from './parse/index.mjs';\nexport * from './pointer/index.mjs';\nexport * from './transform/index.mjs';\n// ------------------------------------------------------------------\n// Namespace\n// ------------------------------------------------------------------\nexport { Value } from './value/index.mjs';\n", "import { TypeSystemPolicy } from '../system/index.mjs';\nimport { KeyOfPattern } from '../type/keyof/index.mjs';\nimport { TypeRegistry, FormatRegistry } from '../type/registry/index.mjs';\nimport { ExtendsUndefinedCheck } from '../type/extends/extends-undefined.mjs';\nimport { GetErrorFunction } from './function.mjs';\nimport { TypeBoxError } from '../type/error/index.mjs';\nimport { Deref } from '../value/deref/index.mjs';\nimport { Hash } from '../value/hash/index.mjs';\nimport { Check } from '../value/check/index.mjs';\nimport { Kind } from '../type/symbols/index.mjs';\nimport { Never } from '../type/never/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\n// prettier-ignore\nimport { IsArray, IsUint8Array, IsDate, IsPromise, IsFunction, IsAsyncIterator, IsIterator, IsBoolean, IsNumber, IsBigInt, IsString, IsSymbol, IsInteger, IsNull, IsUndefined } from '../value/guard/index.mjs';\n// ------------------------------------------------------------------\n// ValueErrorType\n// ------------------------------------------------------------------\nexport var ValueErrorType;\n(function (ValueErrorType) {\n    ValueErrorType[ValueErrorType[\"ArrayContains\"] = 0] = \"ArrayContains\";\n    ValueErrorType[ValueErrorType[\"ArrayMaxContains\"] = 1] = \"ArrayMaxContains\";\n    ValueErrorType[ValueErrorType[\"ArrayMaxItems\"] = 2] = \"ArrayMaxItems\";\n    ValueErrorType[ValueErrorType[\"ArrayMinContains\"] = 3] = \"ArrayMinContains\";\n    ValueErrorType[ValueErrorType[\"ArrayMinItems\"] = 4] = \"ArrayMinItems\";\n    ValueErrorType[ValueErrorType[\"ArrayUniqueItems\"] = 5] = \"ArrayUniqueItems\";\n    ValueErrorType[ValueErrorType[\"Array\"] = 6] = \"Array\";\n    ValueErrorType[ValueErrorType[\"AsyncIterator\"] = 7] = \"AsyncIterator\";\n    ValueErrorType[ValueErrorType[\"BigIntExclusiveMaximum\"] = 8] = \"BigIntExclusiveMaximum\";\n    ValueErrorType[ValueErrorType[\"BigIntExclusiveMinimum\"] = 9] = \"BigIntExclusiveMinimum\";\n    ValueErrorType[ValueErrorType[\"BigIntMaximum\"] = 10] = \"BigIntMaximum\";\n    ValueErrorType[ValueErrorType[\"BigIntMinimum\"] = 11] = \"BigIntMinimum\";\n    ValueErrorType[ValueErrorType[\"BigIntMultipleOf\"] = 12] = \"BigIntMultipleOf\";\n    ValueErrorType[ValueErrorType[\"BigInt\"] = 13] = \"BigInt\";\n    ValueErrorType[ValueErrorType[\"Boolean\"] = 14] = \"Boolean\";\n    ValueErrorType[ValueErrorType[\"DateExclusiveMaximumTimestamp\"] = 15] = \"DateExclusiveMaximumTimestamp\";\n    ValueErrorType[ValueErrorType[\"DateExclusiveMinimumTimestamp\"] = 16] = \"DateExclusiveMinimumTimestamp\";\n    ValueErrorType[ValueErrorType[\"DateMaximumTimestamp\"] = 17] = \"DateMaximumTimestamp\";\n    ValueErrorType[ValueErrorType[\"DateMinimumTimestamp\"] = 18] = \"DateMinimumTimestamp\";\n    ValueErrorType[ValueErrorType[\"DateMultipleOfTimestamp\"] = 19] = \"DateMultipleOfTimestamp\";\n    ValueErrorType[ValueErrorType[\"Date\"] = 20] = \"Date\";\n    ValueErrorType[ValueErrorType[\"Function\"] = 21] = \"Function\";\n    ValueErrorType[ValueErrorType[\"IntegerExclusiveMaximum\"] = 22] = \"IntegerExclusiveMaximum\";\n    ValueErrorType[ValueErrorType[\"IntegerExclusiveMinimum\"] = 23] = \"IntegerExclusiveMinimum\";\n    ValueErrorType[ValueErrorType[\"IntegerMaximum\"] = 24] = \"IntegerMaximum\";\n    ValueErrorType[ValueErrorType[\"IntegerMinimum\"] = 25] = \"IntegerMinimum\";\n    ValueErrorType[ValueErrorType[\"IntegerMultipleOf\"] = 26] = \"IntegerMultipleOf\";\n    ValueErrorType[ValueErrorType[\"Integer\"] = 27] = \"Integer\";\n    ValueErrorType[ValueErrorType[\"IntersectUnevaluatedProperties\"] = 28] = \"IntersectUnevaluatedProperties\";\n    ValueErrorType[ValueErrorType[\"Intersect\"] = 29] = \"Intersect\";\n    ValueErrorType[ValueErrorType[\"Iterator\"] = 30] = \"Iterator\";\n    ValueErrorType[ValueErrorType[\"Kind\"] = 31] = \"Kind\";\n    ValueErrorType[ValueErrorType[\"Literal\"] = 32] = \"Literal\";\n    ValueErrorType[ValueErrorType[\"Never\"] = 33] = \"Never\";\n    ValueErrorType[ValueErrorType[\"Not\"] = 34] = \"Not\";\n    ValueErrorType[ValueErrorType[\"Null\"] = 35] = \"Null\";\n    ValueErrorType[ValueErrorType[\"NumberExclusiveMaximum\"] = 36] = \"NumberExclusiveMaximum\";\n    ValueErrorType[ValueErrorType[\"NumberExclusiveMinimum\"] = 37] = \"NumberExclusiveMinimum\";\n    ValueErrorType[ValueErrorType[\"NumberMaximum\"] = 38] = \"NumberMaximum\";\n    ValueErrorType[ValueErrorType[\"NumberMinimum\"] = 39] = \"NumberMinimum\";\n    ValueErrorType[ValueErrorType[\"NumberMultipleOf\"] = 40] = \"NumberMultipleOf\";\n    ValueErrorType[ValueErrorType[\"Number\"] = 41] = \"Number\";\n    ValueErrorType[ValueErrorType[\"ObjectAdditionalProperties\"] = 42] = \"ObjectAdditionalProperties\";\n    ValueErrorType[ValueErrorType[\"ObjectMaxProperties\"] = 43] = \"ObjectMaxProperties\";\n    ValueErrorType[ValueErrorType[\"ObjectMinProperties\"] = 44] = \"ObjectMinProperties\";\n    ValueErrorType[ValueErrorType[\"ObjectRequiredProperty\"] = 45] = \"ObjectRequiredProperty\";\n    ValueErrorType[ValueErrorType[\"Object\"] = 46] = \"Object\";\n    ValueErrorType[ValueErrorType[\"Promise\"] = 47] = \"Promise\";\n    ValueErrorType[ValueErrorType[\"RegExp\"] = 48] = \"RegExp\";\n    ValueErrorType[ValueErrorType[\"StringFormatUnknown\"] = 49] = \"StringFormatUnknown\";\n    ValueErrorType[ValueErrorType[\"StringFormat\"] = 50] = \"StringFormat\";\n    ValueErrorType[ValueErrorType[\"StringMaxLength\"] = 51] = \"StringMaxLength\";\n    ValueErrorType[ValueErrorType[\"StringMinLength\"] = 52] = \"StringMinLength\";\n    ValueErrorType[ValueErrorType[\"StringPattern\"] = 53] = \"StringPattern\";\n    ValueErrorType[ValueErrorType[\"String\"] = 54] = \"String\";\n    ValueErrorType[ValueErrorType[\"Symbol\"] = 55] = \"Symbol\";\n    ValueErrorType[ValueErrorType[\"TupleLength\"] = 56] = \"TupleLength\";\n    ValueErrorType[ValueErrorType[\"Tuple\"] = 57] = \"Tuple\";\n    ValueErrorType[ValueErrorType[\"Uint8ArrayMaxByteLength\"] = 58] = \"Uint8ArrayMaxByteLength\";\n    ValueErrorType[ValueErrorType[\"Uint8ArrayMinByteLength\"] = 59] = \"Uint8ArrayMinByteLength\";\n    ValueErrorType[ValueErrorType[\"Uint8Array\"] = 60] = \"Uint8Array\";\n    ValueErrorType[ValueErrorType[\"Undefined\"] = 61] = \"Undefined\";\n    ValueErrorType[ValueErrorType[\"Union\"] = 62] = \"Union\";\n    ValueErrorType[ValueErrorType[\"Void\"] = 63] = \"Void\";\n})(ValueErrorType || (ValueErrorType = {}));\n// ------------------------------------------------------------------\n// ValueErrors\n// ------------------------------------------------------------------\nexport class ValueErrorsUnknownTypeError extends TypeBoxError {\n    constructor(schema) {\n        super('Unknown type');\n        this.schema = schema;\n    }\n}\n// ------------------------------------------------------------------\n// EscapeKey\n// ------------------------------------------------------------------\nfunction EscapeKey(key) {\n    return key.replace(/~/g, '~0').replace(/\\//g, '~1'); // RFC6901 Path\n}\n// ------------------------------------------------------------------\n// Guards\n// ------------------------------------------------------------------\nfunction IsDefined(value) {\n    return value !== undefined;\n}\n// ------------------------------------------------------------------\n// ValueErrorIterator\n// ------------------------------------------------------------------\nexport class ValueErrorIterator {\n    constructor(iterator) {\n        this.iterator = iterator;\n    }\n    [Symbol.iterator]() {\n        return this.iterator;\n    }\n    /** Returns the first value error or undefined if no errors */\n    First() {\n        const next = this.iterator.next();\n        return next.done ? undefined : next.value;\n    }\n}\n// --------------------------------------------------------------------------\n// Create\n// --------------------------------------------------------------------------\nfunction Create(errorType, schema, path, value, errors = []) {\n    return {\n        type: errorType,\n        schema,\n        path,\n        value,\n        message: GetErrorFunction()({ errorType, path, schema, value, errors }),\n        errors,\n    };\n}\n// --------------------------------------------------------------------------\n// Types\n// --------------------------------------------------------------------------\nfunction* FromAny(schema, references, path, value) { }\nfunction* FromArgument(schema, references, path, value) { }\nfunction* FromArray(schema, references, path, value) {\n    if (!IsArray(value)) {\n        return yield Create(ValueErrorType.Array, schema, path, value);\n    }\n    if (IsDefined(schema.minItems) && !(value.length >= schema.minItems)) {\n        yield Create(ValueErrorType.ArrayMinItems, schema, path, value);\n    }\n    if (IsDefined(schema.maxItems) && !(value.length <= schema.maxItems)) {\n        yield Create(ValueErrorType.ArrayMaxItems, schema, path, value);\n    }\n    for (let i = 0; i < value.length; i++) {\n        yield* Visit(schema.items, references, `${path}/${i}`, value[i]);\n    }\n    // prettier-ignore\n    if (schema.uniqueItems === true && !((function () { const set = new Set(); for (const element of value) {\n        const hashed = Hash(element);\n        if (set.has(hashed)) {\n            return false;\n        }\n        else {\n            set.add(hashed);\n        }\n    } return true; })())) {\n        yield Create(ValueErrorType.ArrayUniqueItems, schema, path, value);\n    }\n    // contains\n    if (!(IsDefined(schema.contains) || IsDefined(schema.minContains) || IsDefined(schema.maxContains))) {\n        return;\n    }\n    const containsSchema = IsDefined(schema.contains) ? schema.contains : Never();\n    const containsCount = value.reduce((acc, value, index) => (Visit(containsSchema, references, `${path}${index}`, value).next().done === true ? acc + 1 : acc), 0);\n    if (containsCount === 0) {\n        yield Create(ValueErrorType.ArrayContains, schema, path, value);\n    }\n    if (IsNumber(schema.minContains) && containsCount < schema.minContains) {\n        yield Create(ValueErrorType.ArrayMinContains, schema, path, value);\n    }\n    if (IsNumber(schema.maxContains) && containsCount > schema.maxContains) {\n        yield Create(ValueErrorType.ArrayMaxContains, schema, path, value);\n    }\n}\nfunction* FromAsyncIterator(schema, references, path, value) {\n    if (!IsAsyncIterator(value))\n        yield Create(ValueErrorType.AsyncIterator, schema, path, value);\n}\nfunction* FromBigInt(schema, references, path, value) {\n    if (!IsBigInt(value))\n        return yield Create(ValueErrorType.BigInt, schema, path, value);\n    if (IsDefined(schema.exclusiveMaximum) && !(value < schema.exclusiveMaximum)) {\n        yield Create(ValueErrorType.BigIntExclusiveMaximum, schema, path, value);\n    }\n    if (IsDefined(schema.exclusiveMinimum) && !(value > schema.exclusiveMinimum)) {\n        yield Create(ValueErrorType.BigIntExclusiveMinimum, schema, path, value);\n    }\n    if (IsDefined(schema.maximum) && !(value <= schema.maximum)) {\n        yield Create(ValueErrorType.BigIntMaximum, schema, path, value);\n    }\n    if (IsDefined(schema.minimum) && !(value >= schema.minimum)) {\n        yield Create(ValueErrorType.BigIntMinimum, schema, path, value);\n    }\n    if (IsDefined(schema.multipleOf) && !(value % schema.multipleOf === BigInt(0))) {\n        yield Create(ValueErrorType.BigIntMultipleOf, schema, path, value);\n    }\n}\nfunction* FromBoolean(schema, references, path, value) {\n    if (!IsBoolean(value))\n        yield Create(ValueErrorType.Boolean, schema, path, value);\n}\nfunction* FromConstructor(schema, references, path, value) {\n    yield* Visit(schema.returns, references, path, value.prototype);\n}\nfunction* FromDate(schema, references, path, value) {\n    if (!IsDate(value))\n        return yield Create(ValueErrorType.Date, schema, path, value);\n    if (IsDefined(schema.exclusiveMaximumTimestamp) && !(value.getTime() < schema.exclusiveMaximumTimestamp)) {\n        yield Create(ValueErrorType.DateExclusiveMaximumTimestamp, schema, path, value);\n    }\n    if (IsDefined(schema.exclusiveMinimumTimestamp) && !(value.getTime() > schema.exclusiveMinimumTimestamp)) {\n        yield Create(ValueErrorType.DateExclusiveMinimumTimestamp, schema, path, value);\n    }\n    if (IsDefined(schema.maximumTimestamp) && !(value.getTime() <= schema.maximumTimestamp)) {\n        yield Create(ValueErrorType.DateMaximumTimestamp, schema, path, value);\n    }\n    if (IsDefined(schema.minimumTimestamp) && !(value.getTime() >= schema.minimumTimestamp)) {\n        yield Create(ValueErrorType.DateMinimumTimestamp, schema, path, value);\n    }\n    if (IsDefined(schema.multipleOfTimestamp) && !(value.getTime() % schema.multipleOfTimestamp === 0)) {\n        yield Create(ValueErrorType.DateMultipleOfTimestamp, schema, path, value);\n    }\n}\nfunction* FromFunction(schema, references, path, value) {\n    if (!IsFunction(value))\n        yield Create(ValueErrorType.Function, schema, path, value);\n}\nfunction* FromImport(schema, references, path, value) {\n    const definitions = globalThis.Object.values(schema.$defs);\n    const target = schema.$defs[schema.$ref];\n    yield* Visit(target, [...references, ...definitions], path, value);\n}\nfunction* FromInteger(schema, references, path, value) {\n    if (!IsInteger(value))\n        return yield Create(ValueErrorType.Integer, schema, path, value);\n    if (IsDefined(schema.exclusiveMaximum) && !(value < schema.exclusiveMaximum)) {\n        yield Create(ValueErrorType.IntegerExclusiveMaximum, schema, path, value);\n    }\n    if (IsDefined(schema.exclusiveMinimum) && !(value > schema.exclusiveMinimum)) {\n        yield Create(ValueErrorType.IntegerExclusiveMinimum, schema, path, value);\n    }\n    if (IsDefined(schema.maximum) && !(value <= schema.maximum)) {\n        yield Create(ValueErrorType.IntegerMaximum, schema, path, value);\n    }\n    if (IsDefined(schema.minimum) && !(value >= schema.minimum)) {\n        yield Create(ValueErrorType.IntegerMinimum, schema, path, value);\n    }\n    if (IsDefined(schema.multipleOf) && !(value % schema.multipleOf === 0)) {\n        yield Create(ValueErrorType.IntegerMultipleOf, schema, path, value);\n    }\n}\nfunction* FromIntersect(schema, references, path, value) {\n    let hasError = false;\n    for (const inner of schema.allOf) {\n        for (const error of Visit(inner, references, path, value)) {\n            hasError = true;\n            yield error;\n        }\n    }\n    if (hasError) {\n        return yield Create(ValueErrorType.Intersect, schema, path, value);\n    }\n    if (schema.unevaluatedProperties === false) {\n        const keyCheck = new RegExp(KeyOfPattern(schema));\n        for (const valueKey of Object.getOwnPropertyNames(value)) {\n            if (!keyCheck.test(valueKey)) {\n                yield Create(ValueErrorType.IntersectUnevaluatedProperties, schema, `${path}/${valueKey}`, value);\n            }\n        }\n    }\n    if (typeof schema.unevaluatedProperties === 'object') {\n        const keyCheck = new RegExp(KeyOfPattern(schema));\n        for (const valueKey of Object.getOwnPropertyNames(value)) {\n            if (!keyCheck.test(valueKey)) {\n                const next = Visit(schema.unevaluatedProperties, references, `${path}/${valueKey}`, value[valueKey]).next();\n                if (!next.done)\n                    yield next.value; // yield interior\n            }\n        }\n    }\n}\nfunction* FromIterator(schema, references, path, value) {\n    if (!IsIterator(value))\n        yield Create(ValueErrorType.Iterator, schema, path, value);\n}\nfunction* FromLiteral(schema, references, path, value) {\n    if (!(value === schema.const))\n        yield Create(ValueErrorType.Literal, schema, path, value);\n}\nfunction* FromNever(schema, references, path, value) {\n    yield Create(ValueErrorType.Never, schema, path, value);\n}\nfunction* FromNot(schema, references, path, value) {\n    if (Visit(schema.not, references, path, value).next().done === true)\n        yield Create(ValueErrorType.Not, schema, path, value);\n}\nfunction* FromNull(schema, references, path, value) {\n    if (!IsNull(value))\n        yield Create(ValueErrorType.Null, schema, path, value);\n}\nfunction* FromNumber(schema, references, path, value) {\n    if (!TypeSystemPolicy.IsNumberLike(value))\n        return yield Create(ValueErrorType.Number, schema, path, value);\n    if (IsDefined(schema.exclusiveMaximum) && !(value < schema.exclusiveMaximum)) {\n        yield Create(ValueErrorType.NumberExclusiveMaximum, schema, path, value);\n    }\n    if (IsDefined(schema.exclusiveMinimum) && !(value > schema.exclusiveMinimum)) {\n        yield Create(ValueErrorType.NumberExclusiveMinimum, schema, path, value);\n    }\n    if (IsDefined(schema.maximum) && !(value <= schema.maximum)) {\n        yield Create(ValueErrorType.NumberMaximum, schema, path, value);\n    }\n    if (IsDefined(schema.minimum) && !(value >= schema.minimum)) {\n        yield Create(ValueErrorType.NumberMinimum, schema, path, value);\n    }\n    if (IsDefined(schema.multipleOf) && !(value % schema.multipleOf === 0)) {\n        yield Create(ValueErrorType.NumberMultipleOf, schema, path, value);\n    }\n}\nfunction* FromObject(schema, references, path, value) {\n    if (!TypeSystemPolicy.IsObjectLike(value))\n        return yield Create(ValueErrorType.Object, schema, path, value);\n    if (IsDefined(schema.minProperties) && !(Object.getOwnPropertyNames(value).length >= schema.minProperties)) {\n        yield Create(ValueErrorType.ObjectMinProperties, schema, path, value);\n    }\n    if (IsDefined(schema.maxProperties) && !(Object.getOwnPropertyNames(value).length <= schema.maxProperties)) {\n        yield Create(ValueErrorType.ObjectMaxProperties, schema, path, value);\n    }\n    const requiredKeys = Array.isArray(schema.required) ? schema.required : [];\n    const knownKeys = Object.getOwnPropertyNames(schema.properties);\n    const unknownKeys = Object.getOwnPropertyNames(value);\n    for (const requiredKey of requiredKeys) {\n        if (unknownKeys.includes(requiredKey))\n            continue;\n        yield Create(ValueErrorType.ObjectRequiredProperty, schema.properties[requiredKey], `${path}/${EscapeKey(requiredKey)}`, undefined);\n    }\n    if (schema.additionalProperties === false) {\n        for (const valueKey of unknownKeys) {\n            if (!knownKeys.includes(valueKey)) {\n                yield Create(ValueErrorType.ObjectAdditionalProperties, schema, `${path}/${EscapeKey(valueKey)}`, value[valueKey]);\n            }\n        }\n    }\n    if (typeof schema.additionalProperties === 'object') {\n        for (const valueKey of unknownKeys) {\n            if (knownKeys.includes(valueKey))\n                continue;\n            yield* Visit(schema.additionalProperties, references, `${path}/${EscapeKey(valueKey)}`, value[valueKey]);\n        }\n    }\n    for (const knownKey of knownKeys) {\n        const property = schema.properties[knownKey];\n        if (schema.required && schema.required.includes(knownKey)) {\n            yield* Visit(property, references, `${path}/${EscapeKey(knownKey)}`, value[knownKey]);\n            if (ExtendsUndefinedCheck(schema) && !(knownKey in value)) {\n                yield Create(ValueErrorType.ObjectRequiredProperty, property, `${path}/${EscapeKey(knownKey)}`, undefined);\n            }\n        }\n        else {\n            if (TypeSystemPolicy.IsExactOptionalProperty(value, knownKey)) {\n                yield* Visit(property, references, `${path}/${EscapeKey(knownKey)}`, value[knownKey]);\n            }\n        }\n    }\n}\nfunction* FromPromise(schema, references, path, value) {\n    if (!IsPromise(value))\n        yield Create(ValueErrorType.Promise, schema, path, value);\n}\nfunction* FromRecord(schema, references, path, value) {\n    if (!TypeSystemPolicy.IsRecordLike(value))\n        return yield Create(ValueErrorType.Object, schema, path, value);\n    if (IsDefined(schema.minProperties) && !(Object.getOwnPropertyNames(value).length >= schema.minProperties)) {\n        yield Create(ValueErrorType.ObjectMinProperties, schema, path, value);\n    }\n    if (IsDefined(schema.maxProperties) && !(Object.getOwnPropertyNames(value).length <= schema.maxProperties)) {\n        yield Create(ValueErrorType.ObjectMaxProperties, schema, path, value);\n    }\n    const [patternKey, patternSchema] = Object.entries(schema.patternProperties)[0];\n    const regex = new RegExp(patternKey);\n    for (const [propertyKey, propertyValue] of Object.entries(value)) {\n        if (regex.test(propertyKey))\n            yield* Visit(patternSchema, references, `${path}/${EscapeKey(propertyKey)}`, propertyValue);\n    }\n    if (typeof schema.additionalProperties === 'object') {\n        for (const [propertyKey, propertyValue] of Object.entries(value)) {\n            if (!regex.test(propertyKey))\n                yield* Visit(schema.additionalProperties, references, `${path}/${EscapeKey(propertyKey)}`, propertyValue);\n        }\n    }\n    if (schema.additionalProperties === false) {\n        for (const [propertyKey, propertyValue] of Object.entries(value)) {\n            if (regex.test(propertyKey))\n                continue;\n            return yield Create(ValueErrorType.ObjectAdditionalProperties, schema, `${path}/${EscapeKey(propertyKey)}`, propertyValue);\n        }\n    }\n}\nfunction* FromRef(schema, references, path, value) {\n    yield* Visit(Deref(schema, references), references, path, value);\n}\nfunction* FromRegExp(schema, references, path, value) {\n    if (!IsString(value))\n        return yield Create(ValueErrorType.String, schema, path, value);\n    if (IsDefined(schema.minLength) && !(value.length >= schema.minLength)) {\n        yield Create(ValueErrorType.StringMinLength, schema, path, value);\n    }\n    if (IsDefined(schema.maxLength) && !(value.length <= schema.maxLength)) {\n        yield Create(ValueErrorType.StringMaxLength, schema, path, value);\n    }\n    const regex = new RegExp(schema.source, schema.flags);\n    if (!regex.test(value)) {\n        return yield Create(ValueErrorType.RegExp, schema, path, value);\n    }\n}\nfunction* FromString(schema, references, path, value) {\n    if (!IsString(value))\n        return yield Create(ValueErrorType.String, schema, path, value);\n    if (IsDefined(schema.minLength) && !(value.length >= schema.minLength)) {\n        yield Create(ValueErrorType.StringMinLength, schema, path, value);\n    }\n    if (IsDefined(schema.maxLength) && !(value.length <= schema.maxLength)) {\n        yield Create(ValueErrorType.StringMaxLength, schema, path, value);\n    }\n    if (IsString(schema.pattern)) {\n        const regex = new RegExp(schema.pattern);\n        if (!regex.test(value)) {\n            yield Create(ValueErrorType.StringPattern, schema, path, value);\n        }\n    }\n    if (IsString(schema.format)) {\n        if (!FormatRegistry.Has(schema.format)) {\n            yield Create(ValueErrorType.StringFormatUnknown, schema, path, value);\n        }\n        else {\n            const format = FormatRegistry.Get(schema.format);\n            if (!format(value)) {\n                yield Create(ValueErrorType.StringFormat, schema, path, value);\n            }\n        }\n    }\n}\nfunction* FromSymbol(schema, references, path, value) {\n    if (!IsSymbol(value))\n        yield Create(ValueErrorType.Symbol, schema, path, value);\n}\nfunction* FromTemplateLiteral(schema, references, path, value) {\n    if (!IsString(value))\n        return yield Create(ValueErrorType.String, schema, path, value);\n    const regex = new RegExp(schema.pattern);\n    if (!regex.test(value)) {\n        yield Create(ValueErrorType.StringPattern, schema, path, value);\n    }\n}\nfunction* FromThis(schema, references, path, value) {\n    yield* Visit(Deref(schema, references), references, path, value);\n}\nfunction* FromTuple(schema, references, path, value) {\n    if (!IsArray(value))\n        return yield Create(ValueErrorType.Tuple, schema, path, value);\n    if (schema.items === undefined && !(value.length === 0)) {\n        return yield Create(ValueErrorType.TupleLength, schema, path, value);\n    }\n    if (!(value.length === schema.maxItems)) {\n        return yield Create(ValueErrorType.TupleLength, schema, path, value);\n    }\n    if (!schema.items) {\n        return;\n    }\n    for (let i = 0; i < schema.items.length; i++) {\n        yield* Visit(schema.items[i], references, `${path}/${i}`, value[i]);\n    }\n}\nfunction* FromUndefined(schema, references, path, value) {\n    if (!IsUndefined(value))\n        yield Create(ValueErrorType.Undefined, schema, path, value);\n}\nfunction* FromUnion(schema, references, path, value) {\n    if (Check(schema, references, value))\n        return;\n    const errors = schema.anyOf.map((variant) => new ValueErrorIterator(Visit(variant, references, path, value)));\n    yield Create(ValueErrorType.Union, schema, path, value, errors);\n}\nfunction* FromUint8Array(schema, references, path, value) {\n    if (!IsUint8Array(value))\n        return yield Create(ValueErrorType.Uint8Array, schema, path, value);\n    if (IsDefined(schema.maxByteLength) && !(value.length <= schema.maxByteLength)) {\n        yield Create(ValueErrorType.Uint8ArrayMaxByteLength, schema, path, value);\n    }\n    if (IsDefined(schema.minByteLength) && !(value.length >= schema.minByteLength)) {\n        yield Create(ValueErrorType.Uint8ArrayMinByteLength, schema, path, value);\n    }\n}\nfunction* FromUnknown(schema, references, path, value) { }\nfunction* FromVoid(schema, references, path, value) {\n    if (!TypeSystemPolicy.IsVoidLike(value))\n        yield Create(ValueErrorType.Void, schema, path, value);\n}\nfunction* FromKind(schema, references, path, value) {\n    const check = TypeRegistry.Get(schema[Kind]);\n    if (!check(schema, value))\n        yield Create(ValueErrorType.Kind, schema, path, value);\n}\nfunction* Visit(schema, references, path, value) {\n    const references_ = IsDefined(schema.$id) ? [...references, schema] : references;\n    const schema_ = schema;\n    switch (schema_[Kind]) {\n        case 'Any':\n            return yield* FromAny(schema_, references_, path, value);\n        case 'Argument':\n            return yield* FromArgument(schema_, references_, path, value);\n        case 'Array':\n            return yield* FromArray(schema_, references_, path, value);\n        case 'AsyncIterator':\n            return yield* FromAsyncIterator(schema_, references_, path, value);\n        case 'BigInt':\n            return yield* FromBigInt(schema_, references_, path, value);\n        case 'Boolean':\n            return yield* FromBoolean(schema_, references_, path, value);\n        case 'Constructor':\n            return yield* FromConstructor(schema_, references_, path, value);\n        case 'Date':\n            return yield* FromDate(schema_, references_, path, value);\n        case 'Function':\n            return yield* FromFunction(schema_, references_, path, value);\n        case 'Import':\n            return yield* FromImport(schema_, references_, path, value);\n        case 'Integer':\n            return yield* FromInteger(schema_, references_, path, value);\n        case 'Intersect':\n            return yield* FromIntersect(schema_, references_, path, value);\n        case 'Iterator':\n            return yield* FromIterator(schema_, references_, path, value);\n        case 'Literal':\n            return yield* FromLiteral(schema_, references_, path, value);\n        case 'Never':\n            return yield* FromNever(schema_, references_, path, value);\n        case 'Not':\n            return yield* FromNot(schema_, references_, path, value);\n        case 'Null':\n            return yield* FromNull(schema_, references_, path, value);\n        case 'Number':\n            return yield* FromNumber(schema_, references_, path, value);\n        case 'Object':\n            return yield* FromObject(schema_, references_, path, value);\n        case 'Promise':\n            return yield* FromPromise(schema_, references_, path, value);\n        case 'Record':\n            return yield* FromRecord(schema_, references_, path, value);\n        case 'Ref':\n            return yield* FromRef(schema_, references_, path, value);\n        case 'RegExp':\n            return yield* FromRegExp(schema_, references_, path, value);\n        case 'String':\n            return yield* FromString(schema_, references_, path, value);\n        case 'Symbol':\n            return yield* FromSymbol(schema_, references_, path, value);\n        case 'TemplateLiteral':\n            return yield* FromTemplateLiteral(schema_, references_, path, value);\n        case 'This':\n            return yield* FromThis(schema_, references_, path, value);\n        case 'Tuple':\n            return yield* FromTuple(schema_, references_, path, value);\n        case 'Undefined':\n            return yield* FromUndefined(schema_, references_, path, value);\n        case 'Union':\n            return yield* FromUnion(schema_, references_, path, value);\n        case 'Uint8Array':\n            return yield* FromUint8Array(schema_, references_, path, value);\n        case 'Unknown':\n            return yield* FromUnknown(schema_, references_, path, value);\n        case 'Void':\n            return yield* FromVoid(schema_, references_, path, value);\n        default:\n            if (!TypeRegistry.Has(schema_[Kind]))\n                throw new ValueErrorsUnknownTypeError(schema);\n            return yield* FromKind(schema_, references_, path, value);\n    }\n}\n/** Returns an iterator for each error in this value. */\nexport function Errors(...args) {\n    const iterator = args.length === 3 ? Visit(args[0], args[1], '', args[2]) : Visit(args[0], [], '', args[1]);\n    return new ValueErrorIterator(iterator);\n}\n", "import { Kind } from '../type/symbols/index.mjs';\nimport { ValueErrorType } from './errors.mjs';\n/** Creates an error message using en-US as the default locale */\nexport function DefaultErrorFunction(error) {\n    switch (error.errorType) {\n        case ValueErrorType.ArrayContains:\n            return 'Expected array to contain at least one matching value';\n        case ValueErrorType.ArrayMaxContains:\n            return `Expected array to contain no more than ${error.schema.maxContains} matching values`;\n        case ValueErrorType.ArrayMinContains:\n            return `Expected array to contain at least ${error.schema.minContains} matching values`;\n        case ValueErrorType.ArrayMaxItems:\n            return `Expected array length to be less or equal to ${error.schema.maxItems}`;\n        case ValueErrorType.ArrayMinItems:\n            return `Expected array length to be greater or equal to ${error.schema.minItems}`;\n        case ValueErrorType.ArrayUniqueItems:\n            return 'Expected array elements to be unique';\n        case ValueErrorType.Array:\n            return 'Expected array';\n        case ValueErrorType.AsyncIterator:\n            return 'Expected AsyncIterator';\n        case ValueErrorType.BigIntExclusiveMaximum:\n            return `Expected bigint to be less than ${error.schema.exclusiveMaximum}`;\n        case ValueErrorType.BigIntExclusiveMinimum:\n            return `Expected bigint to be greater than ${error.schema.exclusiveMinimum}`;\n        case ValueErrorType.BigIntMaximum:\n            return `Expected bigint to be less or equal to ${error.schema.maximum}`;\n        case ValueErrorType.BigIntMinimum:\n            return `Expected bigint to be greater or equal to ${error.schema.minimum}`;\n        case ValueErrorType.BigIntMultipleOf:\n            return `Expected bigint to be a multiple of ${error.schema.multipleOf}`;\n        case ValueErrorType.BigInt:\n            return 'Expected bigint';\n        case ValueErrorType.Boolean:\n            return 'Expected boolean';\n        case ValueErrorType.DateExclusiveMinimumTimestamp:\n            return `Expected Date timestamp to be greater than ${error.schema.exclusiveMinimumTimestamp}`;\n        case ValueErrorType.DateExclusiveMaximumTimestamp:\n            return `Expected Date timestamp to be less than ${error.schema.exclusiveMaximumTimestamp}`;\n        case ValueErrorType.DateMinimumTimestamp:\n            return `Expected Date timestamp to be greater or equal to ${error.schema.minimumTimestamp}`;\n        case ValueErrorType.DateMaximumTimestamp:\n            return `Expected Date timestamp to be less or equal to ${error.schema.maximumTimestamp}`;\n        case ValueErrorType.DateMultipleOfTimestamp:\n            return `Expected Date timestamp to be a multiple of ${error.schema.multipleOfTimestamp}`;\n        case ValueErrorType.Date:\n            return 'Expected Date';\n        case ValueErrorType.Function:\n            return 'Expected function';\n        case ValueErrorType.IntegerExclusiveMaximum:\n            return `Expected integer to be less than ${error.schema.exclusiveMaximum}`;\n        case ValueErrorType.IntegerExclusiveMinimum:\n            return `Expected integer to be greater than ${error.schema.exclusiveMinimum}`;\n        case ValueErrorType.IntegerMaximum:\n            return `Expected integer to be less or equal to ${error.schema.maximum}`;\n        case ValueErrorType.IntegerMinimum:\n            return `Expected integer to be greater or equal to ${error.schema.minimum}`;\n        case ValueErrorType.IntegerMultipleOf:\n            return `Expected integer to be a multiple of ${error.schema.multipleOf}`;\n        case ValueErrorType.Integer:\n            return 'Expected integer';\n        case ValueErrorType.IntersectUnevaluatedProperties:\n            return 'Unexpected property';\n        case ValueErrorType.Intersect:\n            return 'Expected all values to match';\n        case ValueErrorType.Iterator:\n            return 'Expected Iterator';\n        case ValueErrorType.Literal:\n            return `Expected ${typeof error.schema.const === 'string' ? `'${error.schema.const}'` : error.schema.const}`;\n        case ValueErrorType.Never:\n            return 'Never';\n        case ValueErrorType.Not:\n            return 'Value should not match';\n        case ValueErrorType.Null:\n            return 'Expected null';\n        case ValueErrorType.NumberExclusiveMaximum:\n            return `Expected number to be less than ${error.schema.exclusiveMaximum}`;\n        case ValueErrorType.NumberExclusiveMinimum:\n            return `Expected number to be greater than ${error.schema.exclusiveMinimum}`;\n        case ValueErrorType.NumberMaximum:\n            return `Expected number to be less or equal to ${error.schema.maximum}`;\n        case ValueErrorType.NumberMinimum:\n            return `Expected number to be greater or equal to ${error.schema.minimum}`;\n        case ValueErrorType.NumberMultipleOf:\n            return `Expected number to be a multiple of ${error.schema.multipleOf}`;\n        case ValueErrorType.Number:\n            return 'Expected number';\n        case ValueErrorType.Object:\n            return 'Expected object';\n        case ValueErrorType.ObjectAdditionalProperties:\n            return 'Unexpected property';\n        case ValueErrorType.ObjectMaxProperties:\n            return `Expected object to have no more than ${error.schema.maxProperties} properties`;\n        case ValueErrorType.ObjectMinProperties:\n            return `Expected object to have at least ${error.schema.minProperties} properties`;\n        case ValueErrorType.ObjectRequiredProperty:\n            return 'Expected required property';\n        case ValueErrorType.Promise:\n            return 'Expected Promise';\n        case ValueErrorType.RegExp:\n            return 'Expected string to match regular expression';\n        case ValueErrorType.StringFormatUnknown:\n            return `Unknown format '${error.schema.format}'`;\n        case ValueErrorType.StringFormat:\n            return `Expected string to match '${error.schema.format}' format`;\n        case ValueErrorType.StringMaxLength:\n            return `Expected string length less or equal to ${error.schema.maxLength}`;\n        case ValueErrorType.StringMinLength:\n            return `Expected string length greater or equal to ${error.schema.minLength}`;\n        case ValueErrorType.StringPattern:\n            return `Expected string to match '${error.schema.pattern}'`;\n        case ValueErrorType.String:\n            return 'Expected string';\n        case ValueErrorType.Symbol:\n            return 'Expected symbol';\n        case ValueErrorType.TupleLength:\n            return `Expected tuple to have ${error.schema.maxItems || 0} elements`;\n        case ValueErrorType.Tuple:\n            return 'Expected tuple';\n        case ValueErrorType.Uint8ArrayMaxByteLength:\n            return `Expected byte length less or equal to ${error.schema.maxByteLength}`;\n        case ValueErrorType.Uint8ArrayMinByteLength:\n            return `Expected byte length greater or equal to ${error.schema.minByteLength}`;\n        case ValueErrorType.Uint8Array:\n            return 'Expected Uint8Array';\n        case ValueErrorType.Undefined:\n            return 'Expected undefined';\n        case ValueErrorType.Union:\n            return 'Expected union value';\n        case ValueErrorType.Void:\n            return 'Expected void';\n        case ValueErrorType.Kind:\n            return `Expected kind '${error.schema[Kind]}'`;\n        default:\n            return 'Unknown error type';\n    }\n}\n/** Manages error message providers */\nlet errorFunction = DefaultErrorFunction;\n/** Sets the error function used to generate error messages. */\nexport function SetErrorFunction(callback) {\n    errorFunction = callback;\n}\n/** Gets the error function used to generate error messages */\nexport function GetErrorFunction() {\n    return errorFunction;\n}\n", "import { TypeBoxError } from '../../type/error/index.mjs';\nimport { Kind } from '../../type/symbols/index.mjs';\nimport { IsString } from '../guard/guard.mjs';\nexport class TypeDereferenceError extends TypeBoxError {\n    constructor(schema) {\n        super(`Unable to dereference schema with $id '${schema.$ref}'`);\n        this.schema = schema;\n    }\n}\nfunction Resolve(schema, references) {\n    const target = references.find((target) => target.$id === schema.$ref);\n    if (target === undefined)\n        throw new TypeDereferenceError(schema);\n    return Deref(target, references);\n}\n/** `[Internal]` Pushes a schema onto references if the schema has an $id and does not exist on references */\nexport function Pushref(schema, references) {\n    if (!IsString(schema.$id) || references.some((target) => target.$id === schema.$id))\n        return references;\n    references.push(schema);\n    return references;\n}\n/** `[Internal]` Dereferences a schema from the references array or throws if not found */\nexport function Deref(schema, references) {\n    // prettier-ignore\n    return (schema[Kind] === 'This' || schema[Kind] === 'Ref')\n        ? Resolve(schema, references)\n        : schema;\n}\n", "import { IsArray, IsBoolean, IsBigInt, IsDate, IsNull, IsNumber, IsObject, IsString, IsSymbol, IsUint8Array, IsUndefined } from '../guard/index.mjs';\nimport { TypeBoxError } from '../../type/error/index.mjs';\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\nexport class ValueHashError extends TypeBoxError {\n    constructor(value) {\n        super(`Unable to hash value`);\n        this.value = value;\n    }\n}\n// ------------------------------------------------------------------\n// ByteMarker\n// ------------------------------------------------------------------\nvar ByteMarker;\n(function (ByteMarker) {\n    ByteMarker[ByteMarker[\"Undefined\"] = 0] = \"Undefined\";\n    ByteMarker[ByteMarker[\"Null\"] = 1] = \"Null\";\n    ByteMarker[ByteMarker[\"Boolean\"] = 2] = \"Boolean\";\n    ByteMarker[ByteMarker[\"Number\"] = 3] = \"Number\";\n    ByteMarker[ByteMarker[\"String\"] = 4] = \"String\";\n    ByteMarker[ByteMarker[\"Object\"] = 5] = \"Object\";\n    ByteMarker[ByteMarker[\"Array\"] = 6] = \"Array\";\n    ByteMarker[ByteMarker[\"Date\"] = 7] = \"Date\";\n    ByteMarker[ByteMarker[\"Uint8Array\"] = 8] = \"Uint8Array\";\n    ByteMarker[ByteMarker[\"Symbol\"] = 9] = \"Symbol\";\n    ByteMarker[ByteMarker[\"BigInt\"] = 10] = \"BigInt\";\n})(ByteMarker || (ByteMarker = {}));\n// ------------------------------------------------------------------\n// State\n// ------------------------------------------------------------------\nlet Accumulator = BigInt('14695981039346656037');\nconst [Prime, Size] = [BigInt('1099511628211'), BigInt('18446744073709551616' /* 2 ^ 64 */)];\nconst Bytes = Array.from({ length: 256 }).map((_, i) => BigInt(i));\nconst F64 = new Float64Array(1);\nconst F64In = new DataView(F64.buffer);\nconst F64Out = new Uint8Array(F64.buffer);\n// ------------------------------------------------------------------\n// NumberToBytes\n// ------------------------------------------------------------------\nfunction* NumberToBytes(value) {\n    const byteCount = value === 0 ? 1 : Math.ceil(Math.floor(Math.log2(value) + 1) / 8);\n    for (let i = 0; i < byteCount; i++) {\n        yield (value >> (8 * (byteCount - 1 - i))) & 0xff;\n    }\n}\n// ------------------------------------------------------------------\n// Hashing Functions\n// ------------------------------------------------------------------\nfunction ArrayType(value) {\n    FNV1A64(ByteMarker.Array);\n    for (const item of value) {\n        Visit(item);\n    }\n}\nfunction BooleanType(value) {\n    FNV1A64(ByteMarker.Boolean);\n    FNV1A64(value ? 1 : 0);\n}\nfunction BigIntType(value) {\n    FNV1A64(ByteMarker.BigInt);\n    F64In.setBigInt64(0, value);\n    for (const byte of F64Out) {\n        FNV1A64(byte);\n    }\n}\nfunction DateType(value) {\n    FNV1A64(ByteMarker.Date);\n    Visit(value.getTime());\n}\nfunction NullType(value) {\n    FNV1A64(ByteMarker.Null);\n}\nfunction NumberType(value) {\n    FNV1A64(ByteMarker.Number);\n    F64In.setFloat64(0, value);\n    for (const byte of F64Out) {\n        FNV1A64(byte);\n    }\n}\nfunction ObjectType(value) {\n    FNV1A64(ByteMarker.Object);\n    for (const key of globalThis.Object.getOwnPropertyNames(value).sort()) {\n        Visit(key);\n        Visit(value[key]);\n    }\n}\nfunction StringType(value) {\n    FNV1A64(ByteMarker.String);\n    for (let i = 0; i < value.length; i++) {\n        for (const byte of NumberToBytes(value.charCodeAt(i))) {\n            FNV1A64(byte);\n        }\n    }\n}\nfunction SymbolType(value) {\n    FNV1A64(ByteMarker.Symbol);\n    Visit(value.description);\n}\nfunction Uint8ArrayType(value) {\n    FNV1A64(ByteMarker.Uint8Array);\n    for (let i = 0; i < value.length; i++) {\n        FNV1A64(value[i]);\n    }\n}\nfunction UndefinedType(value) {\n    return FNV1A64(ByteMarker.Undefined);\n}\nfunction Visit(value) {\n    if (IsArray(value))\n        return ArrayType(value);\n    if (IsBoolean(value))\n        return BooleanType(value);\n    if (IsBigInt(value))\n        return BigIntType(value);\n    if (IsDate(value))\n        return DateType(value);\n    if (IsNull(value))\n        return NullType(value);\n    if (IsNumber(value))\n        return NumberType(value);\n    if (IsObject(value))\n        return ObjectType(value);\n    if (IsString(value))\n        return StringType(value);\n    if (IsSymbol(value))\n        return SymbolType(value);\n    if (IsUint8Array(value))\n        return Uint8ArrayType(value);\n    if (IsUndefined(value))\n        return UndefinedType(value);\n    throw new ValueHashError(value);\n}\nfunction FNV1A64(byte) {\n    Accumulator = Accumulator ^ Bytes[byte];\n    Accumulator = (Accumulator * Prime) % Size;\n}\n// ------------------------------------------------------------------\n// Hash\n// ------------------------------------------------------------------\n/** Creates a FNV1A-64 non cryptographic hash of the given value */\nexport function Hash(value) {\n    Accumulator = BigInt('14695981039346656037');\n    Visit(value);\n    return Accumulator;\n}\n", "import { TypeSystemPolicy } from '../../system/index.mjs';\nimport { Deref, Pushref } from '../deref/index.mjs';\nimport { Hash } from '../hash/index.mjs';\nimport { Kind } from '../../type/symbols/index.mjs';\nimport { KeyOfPattern } from '../../type/keyof/index.mjs';\nimport { ExtendsUndefinedCheck } from '../../type/extends/index.mjs';\nimport { TypeRegistry, FormatRegistry } from '../../type/registry/index.mjs';\nimport { TypeBoxError } from '../../type/error/index.mjs';\nimport { Never } from '../../type/never/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { IsArray, IsUint8Array, IsDate, IsPromise, IsFunction, IsAsyncIterator, IsIterator, IsBoolean, IsNumber, IsBigInt, IsString, IsSymbol, IsInteger, IsNull, IsUndefined } from '../guard/index.mjs';\n// ------------------------------------------------------------------\n// KindGuard\n// ------------------------------------------------------------------\nimport { IsSchema } from '../../type/guard/kind.mjs';\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\nexport class ValueCheckUnknownTypeError extends TypeBoxError {\n    constructor(schema) {\n        super(`Unknown type`);\n        this.schema = schema;\n    }\n}\n// ------------------------------------------------------------------\n// TypeGuards\n// ------------------------------------------------------------------\nfunction IsAnyOrUnknown(schema) {\n    return schema[Kind] === 'Any' || schema[Kind] === 'Unknown';\n}\n// ------------------------------------------------------------------\n// Guards\n// ------------------------------------------------------------------\nfunction IsDefined(value) {\n    return value !== undefined;\n}\n// ------------------------------------------------------------------\n// Types\n// ------------------------------------------------------------------\nfunction FromAny(schema, references, value) {\n    return true;\n}\nfunction FromArgument(schema, references, value) {\n    return true;\n}\nfunction FromArray(schema, references, value) {\n    if (!IsArray(value))\n        return false;\n    if (IsDefined(schema.minItems) && !(value.length >= schema.minItems)) {\n        return false;\n    }\n    if (IsDefined(schema.maxItems) && !(value.length <= schema.maxItems)) {\n        return false;\n    }\n    if (!value.every((value) => Visit(schema.items, references, value))) {\n        return false;\n    }\n    // prettier-ignore\n    if (schema.uniqueItems === true && !((function () { const set = new Set(); for (const element of value) {\n        const hashed = Hash(element);\n        if (set.has(hashed)) {\n            return false;\n        }\n        else {\n            set.add(hashed);\n        }\n    } return true; })())) {\n        return false;\n    }\n    // contains\n    if (!(IsDefined(schema.contains) || IsNumber(schema.minContains) || IsNumber(schema.maxContains))) {\n        return true; // exit\n    }\n    const containsSchema = IsDefined(schema.contains) ? schema.contains : Never();\n    const containsCount = value.reduce((acc, value) => (Visit(containsSchema, references, value) ? acc + 1 : acc), 0);\n    if (containsCount === 0) {\n        return false;\n    }\n    if (IsNumber(schema.minContains) && containsCount < schema.minContains) {\n        return false;\n    }\n    if (IsNumber(schema.maxContains) && containsCount > schema.maxContains) {\n        return false;\n    }\n    return true;\n}\nfunction FromAsyncIterator(schema, references, value) {\n    return IsAsyncIterator(value);\n}\nfunction FromBigInt(schema, references, value) {\n    if (!IsBigInt(value))\n        return false;\n    if (IsDefined(schema.exclusiveMaximum) && !(value < schema.exclusiveMaximum)) {\n        return false;\n    }\n    if (IsDefined(schema.exclusiveMinimum) && !(value > schema.exclusiveMinimum)) {\n        return false;\n    }\n    if (IsDefined(schema.maximum) && !(value <= schema.maximum)) {\n        return false;\n    }\n    if (IsDefined(schema.minimum) && !(value >= schema.minimum)) {\n        return false;\n    }\n    if (IsDefined(schema.multipleOf) && !(value % schema.multipleOf === BigInt(0))) {\n        return false;\n    }\n    return true;\n}\nfunction FromBoolean(schema, references, value) {\n    return IsBoolean(value);\n}\nfunction FromConstructor(schema, references, value) {\n    return Visit(schema.returns, references, value.prototype);\n}\nfunction FromDate(schema, references, value) {\n    if (!IsDate(value))\n        return false;\n    if (IsDefined(schema.exclusiveMaximumTimestamp) && !(value.getTime() < schema.exclusiveMaximumTimestamp)) {\n        return false;\n    }\n    if (IsDefined(schema.exclusiveMinimumTimestamp) && !(value.getTime() > schema.exclusiveMinimumTimestamp)) {\n        return false;\n    }\n    if (IsDefined(schema.maximumTimestamp) && !(value.getTime() <= schema.maximumTimestamp)) {\n        return false;\n    }\n    if (IsDefined(schema.minimumTimestamp) && !(value.getTime() >= schema.minimumTimestamp)) {\n        return false;\n    }\n    if (IsDefined(schema.multipleOfTimestamp) && !(value.getTime() % schema.multipleOfTimestamp === 0)) {\n        return false;\n    }\n    return true;\n}\nfunction FromFunction(schema, references, value) {\n    return IsFunction(value);\n}\nfunction FromImport(schema, references, value) {\n    const definitions = globalThis.Object.values(schema.$defs);\n    const target = schema.$defs[schema.$ref];\n    return Visit(target, [...references, ...definitions], value);\n}\nfunction FromInteger(schema, references, value) {\n    if (!IsInteger(value)) {\n        return false;\n    }\n    if (IsDefined(schema.exclusiveMaximum) && !(value < schema.exclusiveMaximum)) {\n        return false;\n    }\n    if (IsDefined(schema.exclusiveMinimum) && !(value > schema.exclusiveMinimum)) {\n        return false;\n    }\n    if (IsDefined(schema.maximum) && !(value <= schema.maximum)) {\n        return false;\n    }\n    if (IsDefined(schema.minimum) && !(value >= schema.minimum)) {\n        return false;\n    }\n    if (IsDefined(schema.multipleOf) && !(value % schema.multipleOf === 0)) {\n        return false;\n    }\n    return true;\n}\nfunction FromIntersect(schema, references, value) {\n    const check1 = schema.allOf.every((schema) => Visit(schema, references, value));\n    if (schema.unevaluatedProperties === false) {\n        const keyPattern = new RegExp(KeyOfPattern(schema));\n        const check2 = Object.getOwnPropertyNames(value).every((key) => keyPattern.test(key));\n        return check1 && check2;\n    }\n    else if (IsSchema(schema.unevaluatedProperties)) {\n        const keyCheck = new RegExp(KeyOfPattern(schema));\n        const check2 = Object.getOwnPropertyNames(value).every((key) => keyCheck.test(key) || Visit(schema.unevaluatedProperties, references, value[key]));\n        return check1 && check2;\n    }\n    else {\n        return check1;\n    }\n}\nfunction FromIterator(schema, references, value) {\n    return IsIterator(value);\n}\nfunction FromLiteral(schema, references, value) {\n    return value === schema.const;\n}\nfunction FromNever(schema, references, value) {\n    return false;\n}\nfunction FromNot(schema, references, value) {\n    return !Visit(schema.not, references, value);\n}\nfunction FromNull(schema, references, value) {\n    return IsNull(value);\n}\nfunction FromNumber(schema, references, value) {\n    if (!TypeSystemPolicy.IsNumberLike(value))\n        return false;\n    if (IsDefined(schema.exclusiveMaximum) && !(value < schema.exclusiveMaximum)) {\n        return false;\n    }\n    if (IsDefined(schema.exclusiveMinimum) && !(value > schema.exclusiveMinimum)) {\n        return false;\n    }\n    if (IsDefined(schema.minimum) && !(value >= schema.minimum)) {\n        return false;\n    }\n    if (IsDefined(schema.maximum) && !(value <= schema.maximum)) {\n        return false;\n    }\n    if (IsDefined(schema.multipleOf) && !(value % schema.multipleOf === 0)) {\n        return false;\n    }\n    return true;\n}\nfunction FromObject(schema, references, value) {\n    if (!TypeSystemPolicy.IsObjectLike(value))\n        return false;\n    if (IsDefined(schema.minProperties) && !(Object.getOwnPropertyNames(value).length >= schema.minProperties)) {\n        return false;\n    }\n    if (IsDefined(schema.maxProperties) && !(Object.getOwnPropertyNames(value).length <= schema.maxProperties)) {\n        return false;\n    }\n    const knownKeys = Object.getOwnPropertyNames(schema.properties);\n    for (const knownKey of knownKeys) {\n        const property = schema.properties[knownKey];\n        if (schema.required && schema.required.includes(knownKey)) {\n            if (!Visit(property, references, value[knownKey])) {\n                return false;\n            }\n            if ((ExtendsUndefinedCheck(property) || IsAnyOrUnknown(property)) && !(knownKey in value)) {\n                return false;\n            }\n        }\n        else {\n            if (TypeSystemPolicy.IsExactOptionalProperty(value, knownKey) && !Visit(property, references, value[knownKey])) {\n                return false;\n            }\n        }\n    }\n    if (schema.additionalProperties === false) {\n        const valueKeys = Object.getOwnPropertyNames(value);\n        // optimization: value is valid if schemaKey length matches the valueKey length\n        if (schema.required && schema.required.length === knownKeys.length && valueKeys.length === knownKeys.length) {\n            return true;\n        }\n        else {\n            return valueKeys.every((valueKey) => knownKeys.includes(valueKey));\n        }\n    }\n    else if (typeof schema.additionalProperties === 'object') {\n        const valueKeys = Object.getOwnPropertyNames(value);\n        return valueKeys.every((key) => knownKeys.includes(key) || Visit(schema.additionalProperties, references, value[key]));\n    }\n    else {\n        return true;\n    }\n}\nfunction FromPromise(schema, references, value) {\n    return IsPromise(value);\n}\nfunction FromRecord(schema, references, value) {\n    if (!TypeSystemPolicy.IsRecordLike(value)) {\n        return false;\n    }\n    if (IsDefined(schema.minProperties) && !(Object.getOwnPropertyNames(value).length >= schema.minProperties)) {\n        return false;\n    }\n    if (IsDefined(schema.maxProperties) && !(Object.getOwnPropertyNames(value).length <= schema.maxProperties)) {\n        return false;\n    }\n    const [patternKey, patternSchema] = Object.entries(schema.patternProperties)[0];\n    const regex = new RegExp(patternKey);\n    // prettier-ignore\n    const check1 = Object.entries(value).every(([key, value]) => {\n        return (regex.test(key)) ? Visit(patternSchema, references, value) : true;\n    });\n    // prettier-ignore\n    const check2 = typeof schema.additionalProperties === 'object' ? Object.entries(value).every(([key, value]) => {\n        return (!regex.test(key)) ? Visit(schema.additionalProperties, references, value) : true;\n    }) : true;\n    const check3 = schema.additionalProperties === false\n        ? Object.getOwnPropertyNames(value).every((key) => {\n            return regex.test(key);\n        })\n        : true;\n    return check1 && check2 && check3;\n}\nfunction FromRef(schema, references, value) {\n    return Visit(Deref(schema, references), references, value);\n}\nfunction FromRegExp(schema, references, value) {\n    const regex = new RegExp(schema.source, schema.flags);\n    if (IsDefined(schema.minLength)) {\n        if (!(value.length >= schema.minLength))\n            return false;\n    }\n    if (IsDefined(schema.maxLength)) {\n        if (!(value.length <= schema.maxLength))\n            return false;\n    }\n    return regex.test(value);\n}\nfunction FromString(schema, references, value) {\n    if (!IsString(value)) {\n        return false;\n    }\n    if (IsDefined(schema.minLength)) {\n        if (!(value.length >= schema.minLength))\n            return false;\n    }\n    if (IsDefined(schema.maxLength)) {\n        if (!(value.length <= schema.maxLength))\n            return false;\n    }\n    if (IsDefined(schema.pattern)) {\n        const regex = new RegExp(schema.pattern);\n        if (!regex.test(value))\n            return false;\n    }\n    if (IsDefined(schema.format)) {\n        if (!FormatRegistry.Has(schema.format))\n            return false;\n        const func = FormatRegistry.Get(schema.format);\n        return func(value);\n    }\n    return true;\n}\nfunction FromSymbol(schema, references, value) {\n    return IsSymbol(value);\n}\nfunction FromTemplateLiteral(schema, references, value) {\n    return IsString(value) && new RegExp(schema.pattern).test(value);\n}\nfunction FromThis(schema, references, value) {\n    return Visit(Deref(schema, references), references, value);\n}\nfunction FromTuple(schema, references, value) {\n    if (!IsArray(value)) {\n        return false;\n    }\n    if (schema.items === undefined && !(value.length === 0)) {\n        return false;\n    }\n    if (!(value.length === schema.maxItems)) {\n        return false;\n    }\n    if (!schema.items) {\n        return true;\n    }\n    for (let i = 0; i < schema.items.length; i++) {\n        if (!Visit(schema.items[i], references, value[i]))\n            return false;\n    }\n    return true;\n}\nfunction FromUndefined(schema, references, value) {\n    return IsUndefined(value);\n}\nfunction FromUnion(schema, references, value) {\n    return schema.anyOf.some((inner) => Visit(inner, references, value));\n}\nfunction FromUint8Array(schema, references, value) {\n    if (!IsUint8Array(value)) {\n        return false;\n    }\n    if (IsDefined(schema.maxByteLength) && !(value.length <= schema.maxByteLength)) {\n        return false;\n    }\n    if (IsDefined(schema.minByteLength) && !(value.length >= schema.minByteLength)) {\n        return false;\n    }\n    return true;\n}\nfunction FromUnknown(schema, references, value) {\n    return true;\n}\nfunction FromVoid(schema, references, value) {\n    return TypeSystemPolicy.IsVoidLike(value);\n}\nfunction FromKind(schema, references, value) {\n    if (!TypeRegistry.Has(schema[Kind]))\n        return false;\n    const func = TypeRegistry.Get(schema[Kind]);\n    return func(schema, value);\n}\nfunction Visit(schema, references, value) {\n    const references_ = IsDefined(schema.$id) ? Pushref(schema, references) : references;\n    const schema_ = schema;\n    switch (schema_[Kind]) {\n        case 'Any':\n            return FromAny(schema_, references_, value);\n        case 'Argument':\n            return FromArgument(schema_, references_, value);\n        case 'Array':\n            return FromArray(schema_, references_, value);\n        case 'AsyncIterator':\n            return FromAsyncIterator(schema_, references_, value);\n        case 'BigInt':\n            return FromBigInt(schema_, references_, value);\n        case 'Boolean':\n            return FromBoolean(schema_, references_, value);\n        case 'Constructor':\n            return FromConstructor(schema_, references_, value);\n        case 'Date':\n            return FromDate(schema_, references_, value);\n        case 'Function':\n            return FromFunction(schema_, references_, value);\n        case 'Import':\n            return FromImport(schema_, references_, value);\n        case 'Integer':\n            return FromInteger(schema_, references_, value);\n        case 'Intersect':\n            return FromIntersect(schema_, references_, value);\n        case 'Iterator':\n            return FromIterator(schema_, references_, value);\n        case 'Literal':\n            return FromLiteral(schema_, references_, value);\n        case 'Never':\n            return FromNever(schema_, references_, value);\n        case 'Not':\n            return FromNot(schema_, references_, value);\n        case 'Null':\n            return FromNull(schema_, references_, value);\n        case 'Number':\n            return FromNumber(schema_, references_, value);\n        case 'Object':\n            return FromObject(schema_, references_, value);\n        case 'Promise':\n            return FromPromise(schema_, references_, value);\n        case 'Record':\n            return FromRecord(schema_, references_, value);\n        case 'Ref':\n            return FromRef(schema_, references_, value);\n        case 'RegExp':\n            return FromRegExp(schema_, references_, value);\n        case 'String':\n            return FromString(schema_, references_, value);\n        case 'Symbol':\n            return FromSymbol(schema_, references_, value);\n        case 'TemplateLiteral':\n            return FromTemplateLiteral(schema_, references_, value);\n        case 'This':\n            return FromThis(schema_, references_, value);\n        case 'Tuple':\n            return FromTuple(schema_, references_, value);\n        case 'Undefined':\n            return FromUndefined(schema_, references_, value);\n        case 'Union':\n            return FromUnion(schema_, references_, value);\n        case 'Uint8Array':\n            return FromUint8Array(schema_, references_, value);\n        case 'Unknown':\n            return FromUnknown(schema_, references_, value);\n        case 'Void':\n            return FromVoid(schema_, references_, value);\n        default:\n            if (!TypeRegistry.Has(schema_[Kind]))\n                throw new ValueCheckUnknownTypeError(schema_);\n            return FromKind(schema_, references_, value);\n    }\n}\n/** Returns true if the value matches the given type. */\nexport function Check(...args) {\n    return args.length === 3 ? Visit(args[0], args[1], args[2]) : Visit(args[0], [], args[1]);\n}\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AssertError_instances, _AssertError_iterator, _AssertError_Iterator;\nimport { Errors, ValueErrorIterator } from '../../errors/index.mjs';\nimport { TypeBoxError } from '../../type/error/error.mjs';\nimport { Check } from '../check/check.mjs';\n// ------------------------------------------------------------------\n// AssertError\n// ------------------------------------------------------------------\nexport class AssertError extends TypeBoxError {\n    constructor(iterator) {\n        const error = iterator.First();\n        super(error === undefined ? 'Invalid Value' : error.message);\n        _AssertError_instances.add(this);\n        _AssertError_iterator.set(this, void 0);\n        __classPrivateFieldSet(this, _AssertError_iterator, iterator, \"f\");\n        this.error = error;\n    }\n    /** Returns an iterator for each error in this value. */\n    Errors() {\n        return new ValueErrorIterator(__classPrivateFieldGet(this, _AssertError_instances, \"m\", _AssertError_Iterator).call(this));\n    }\n}\n_AssertError_iterator = new WeakMap(), _AssertError_instances = new WeakSet(), _AssertError_Iterator = function* _AssertError_Iterator() {\n    if (this.error)\n        yield this.error;\n    yield* __classPrivateFieldGet(this, _AssertError_iterator, \"f\");\n};\n// ------------------------------------------------------------------\n// AssertValue\n// ------------------------------------------------------------------\nfunction AssertValue(schema, references, value) {\n    if (Check(schema, references, value))\n        return;\n    throw new AssertError(Errors(schema, references, value));\n}\n/** Asserts a value matches the given type or throws an `AssertError` if invalid */\nexport function Assert(...args) {\n    return args.length === 3 ? AssertValue(args[0], args[1], args[2]) : AssertValue(args[0], [], args[1]);\n}\n", "import { IsObject, IsArray, IsString, IsNumber, IsNull } from '../guard/index.mjs';\nimport { TypeBoxError } from '../../type/error/index.mjs';\nimport { Kind } from '../../type/symbols/index.mjs';\nimport { Create } from '../create/index.mjs';\nimport { Check } from '../check/index.mjs';\nimport { Clone } from '../clone/index.mjs';\nimport { Deref, Pushref } from '../deref/index.mjs';\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\nexport class ValueCastError extends TypeBoxError {\n    constructor(schema, message) {\n        super(message);\n        this.schema = schema;\n    }\n}\n// ------------------------------------------------------------------\n// The following logic assigns a score to a schema based on how well\n// it matches a given value. For object types, the score is calculated\n// by evaluating each property of the value against the schema's\n// properties. To avoid bias towards objects with many properties,\n// each property contributes equally to the total score. Properties\n// that exactly match literal values receive the highest possible\n// score, as literals are often used as discriminators in union types.\n// ------------------------------------------------------------------\nfunction ScoreUnion(schema, references, value) {\n    if (schema[Kind] === 'Object' && typeof value === 'object' && !IsNull(value)) {\n        const object = schema;\n        const keys = Object.getOwnPropertyNames(value);\n        const entries = Object.entries(object.properties);\n        return entries.reduce((acc, [key, schema]) => {\n            const literal = schema[Kind] === 'Literal' && schema.const === value[key] ? 100 : 0;\n            const checks = Check(schema, references, value[key]) ? 10 : 0;\n            const exists = keys.includes(key) ? 1 : 0;\n            return acc + (literal + checks + exists);\n        }, 0);\n    }\n    else if (schema[Kind] === 'Union') {\n        const schemas = schema.anyOf.map((schema) => Deref(schema, references));\n        const scores = schemas.map((schema) => ScoreUnion(schema, references, value));\n        return Math.max(...scores);\n    }\n    else {\n        return Check(schema, references, value) ? 1 : 0;\n    }\n}\nfunction SelectUnion(union, references, value) {\n    const schemas = union.anyOf.map((schema) => Deref(schema, references));\n    let [select, best] = [schemas[0], 0];\n    for (const schema of schemas) {\n        const score = ScoreUnion(schema, references, value);\n        if (score > best) {\n            select = schema;\n            best = score;\n        }\n    }\n    return select;\n}\nfunction CastUnion(union, references, value) {\n    if ('default' in union) {\n        return typeof value === 'function' ? union.default : Clone(union.default);\n    }\n    else {\n        const schema = SelectUnion(union, references, value);\n        return Cast(schema, references, value);\n    }\n}\n// ------------------------------------------------------------------\n// Default\n// ------------------------------------------------------------------\nfunction DefaultClone(schema, references, value) {\n    return Check(schema, references, value) ? Clone(value) : Create(schema, references);\n}\nfunction Default(schema, references, value) {\n    return Check(schema, references, value) ? value : Create(schema, references);\n}\n// ------------------------------------------------------------------\n// Cast\n// ------------------------------------------------------------------\nfunction FromArray(schema, references, value) {\n    if (Check(schema, references, value))\n        return Clone(value);\n    const created = IsArray(value) ? Clone(value) : Create(schema, references);\n    const minimum = IsNumber(schema.minItems) && created.length < schema.minItems ? [...created, ...Array.from({ length: schema.minItems - created.length }, () => null)] : created;\n    const maximum = IsNumber(schema.maxItems) && minimum.length > schema.maxItems ? minimum.slice(0, schema.maxItems) : minimum;\n    const casted = maximum.map((value) => Visit(schema.items, references, value));\n    if (schema.uniqueItems !== true)\n        return casted;\n    const unique = [...new Set(casted)];\n    if (!Check(schema, references, unique))\n        throw new ValueCastError(schema, 'Array cast produced invalid data due to uniqueItems constraint');\n    return unique;\n}\nfunction FromConstructor(schema, references, value) {\n    if (Check(schema, references, value))\n        return Create(schema, references);\n    const required = new Set(schema.returns.required || []);\n    const result = function () { };\n    for (const [key, property] of Object.entries(schema.returns.properties)) {\n        if (!required.has(key) && value.prototype[key] === undefined)\n            continue;\n        result.prototype[key] = Visit(property, references, value.prototype[key]);\n    }\n    return result;\n}\nfunction FromImport(schema, references, value) {\n    const definitions = globalThis.Object.values(schema.$defs);\n    const target = schema.$defs[schema.$ref];\n    return Visit(target, [...references, ...definitions], value);\n}\n// ------------------------------------------------------------------\n// Intersect\n// ------------------------------------------------------------------\nfunction IntersectAssign(correct, value) {\n    // trust correct on mismatch | value on non-object\n    if ((IsObject(correct) && !IsObject(value)) || (!IsObject(correct) && IsObject(value)))\n        return correct;\n    if (!IsObject(correct) || !IsObject(value))\n        return value;\n    return globalThis.Object.getOwnPropertyNames(correct).reduce((result, key) => {\n        const property = key in value ? IntersectAssign(correct[key], value[key]) : correct[key];\n        return { ...result, [key]: property };\n    }, {});\n}\nfunction FromIntersect(schema, references, value) {\n    if (Check(schema, references, value))\n        return value;\n    const correct = Create(schema, references);\n    const assigned = IntersectAssign(correct, value);\n    return Check(schema, references, assigned) ? assigned : correct;\n}\nfunction FromNever(schema, references, value) {\n    throw new ValueCastError(schema, 'Never types cannot be cast');\n}\nfunction FromObject(schema, references, value) {\n    if (Check(schema, references, value))\n        return value;\n    if (value === null || typeof value !== 'object')\n        return Create(schema, references);\n    const required = new Set(schema.required || []);\n    const result = {};\n    for (const [key, property] of Object.entries(schema.properties)) {\n        if (!required.has(key) && value[key] === undefined)\n            continue;\n        result[key] = Visit(property, references, value[key]);\n    }\n    // additional schema properties\n    if (typeof schema.additionalProperties === 'object') {\n        const propertyNames = Object.getOwnPropertyNames(schema.properties);\n        for (const propertyName of Object.getOwnPropertyNames(value)) {\n            if (propertyNames.includes(propertyName))\n                continue;\n            result[propertyName] = Visit(schema.additionalProperties, references, value[propertyName]);\n        }\n    }\n    return result;\n}\nfunction FromRecord(schema, references, value) {\n    if (Check(schema, references, value))\n        return Clone(value);\n    if (value === null || typeof value !== 'object' || Array.isArray(value) || value instanceof Date)\n        return Create(schema, references);\n    const subschemaPropertyName = Object.getOwnPropertyNames(schema.patternProperties)[0];\n    const subschema = schema.patternProperties[subschemaPropertyName];\n    const result = {};\n    for (const [propKey, propValue] of Object.entries(value)) {\n        result[propKey] = Visit(subschema, references, propValue);\n    }\n    return result;\n}\nfunction FromRef(schema, references, value) {\n    return Visit(Deref(schema, references), references, value);\n}\nfunction FromThis(schema, references, value) {\n    return Visit(Deref(schema, references), references, value);\n}\nfunction FromTuple(schema, references, value) {\n    if (Check(schema, references, value))\n        return Clone(value);\n    if (!IsArray(value))\n        return Create(schema, references);\n    if (schema.items === undefined)\n        return [];\n    return schema.items.map((schema, index) => Visit(schema, references, value[index]));\n}\nfunction FromUnion(schema, references, value) {\n    return Check(schema, references, value) ? Clone(value) : CastUnion(schema, references, value);\n}\nfunction Visit(schema, references, value) {\n    const references_ = IsString(schema.$id) ? Pushref(schema, references) : references;\n    const schema_ = schema;\n    switch (schema[Kind]) {\n        // --------------------------------------------------------------\n        // Structural\n        // --------------------------------------------------------------\n        case 'Array':\n            return FromArray(schema_, references_, value);\n        case 'Constructor':\n            return FromConstructor(schema_, references_, value);\n        case 'Import':\n            return FromImport(schema_, references_, value);\n        case 'Intersect':\n            return FromIntersect(schema_, references_, value);\n        case 'Never':\n            return FromNever(schema_, references_, value);\n        case 'Object':\n            return FromObject(schema_, references_, value);\n        case 'Record':\n            return FromRecord(schema_, references_, value);\n        case 'Ref':\n            return FromRef(schema_, references_, value);\n        case 'This':\n            return FromThis(schema_, references_, value);\n        case 'Tuple':\n            return FromTuple(schema_, references_, value);\n        case 'Union':\n            return FromUnion(schema_, references_, value);\n        // --------------------------------------------------------------\n        // DefaultClone\n        // --------------------------------------------------------------\n        case 'Date':\n        case 'Symbol':\n        case 'Uint8Array':\n            return DefaultClone(schema, references, value);\n        // --------------------------------------------------------------\n        // Default\n        // --------------------------------------------------------------\n        default:\n            return Default(schema_, references_, value);\n    }\n}\n/** Casts a value into a given type. The return value will retain as much information of the original value as possible. */\nexport function Cast(...args) {\n    return args.length === 3 ? Visit(args[0], args[1], args[2]) : Visit(args[0], [], args[1]);\n}\n", "import { HasPropertyKey } from '../guard/index.mjs';\nimport { Check } from '../check/index.mjs';\nimport { Clone } from '../clone/index.mjs';\nimport { Deref, Pushref } from '../deref/index.mjs';\nimport { TemplateLiteralGenerate, IsTemplateLiteralFinite } from '../../type/template-literal/index.mjs';\nimport { TypeRegistry } from '../../type/registry/index.mjs';\nimport { Kind } from '../../type/symbols/index.mjs';\nimport { TypeBoxError } from '../../type/error/index.mjs';\nimport { IsFunction } from '../guard/guard.mjs';\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\nexport class ValueCreateError extends TypeBoxError {\n    constructor(schema, message) {\n        super(message);\n        this.schema = schema;\n    }\n}\n// ------------------------------------------------------------------\n// Default\n// ------------------------------------------------------------------\nfunction FromDefault(value) {\n    return IsFunction(value) ? value() : Clone(value);\n}\n// ------------------------------------------------------------------\n// Create\n// ------------------------------------------------------------------\nfunction FromAny(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return {};\n    }\n}\nfunction FromArgument(schema, references) {\n    return {};\n}\nfunction FromArray(schema, references) {\n    if (schema.uniqueItems === true && !HasPropertyKey(schema, 'default')) {\n        throw new ValueCreateError(schema, 'Array with the uniqueItems constraint requires a default value');\n    }\n    else if ('contains' in schema && !HasPropertyKey(schema, 'default')) {\n        throw new ValueCreateError(schema, 'Array with the contains constraint requires a default value');\n    }\n    else if ('default' in schema) {\n        return FromDefault(schema.default);\n    }\n    else if (schema.minItems !== undefined) {\n        return Array.from({ length: schema.minItems }).map((item) => {\n            return Visit(schema.items, references);\n        });\n    }\n    else {\n        return [];\n    }\n}\nfunction FromAsyncIterator(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return (async function* () { })();\n    }\n}\nfunction FromBigInt(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return BigInt(0);\n    }\n}\nfunction FromBoolean(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return false;\n    }\n}\nfunction FromConstructor(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        const value = Visit(schema.returns, references);\n        if (typeof value === 'object' && !Array.isArray(value)) {\n            return class {\n                constructor() {\n                    for (const [key, val] of Object.entries(value)) {\n                        const self = this;\n                        self[key] = val;\n                    }\n                }\n            };\n        }\n        else {\n            return class {\n            };\n        }\n    }\n}\nfunction FromDate(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else if (schema.minimumTimestamp !== undefined) {\n        return new Date(schema.minimumTimestamp);\n    }\n    else {\n        return new Date();\n    }\n}\nfunction FromFunction(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return () => Visit(schema.returns, references);\n    }\n}\nfunction FromImport(schema, references) {\n    const definitions = globalThis.Object.values(schema.$defs);\n    const target = schema.$defs[schema.$ref];\n    return Visit(target, [...references, ...definitions]);\n}\nfunction FromInteger(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else if (schema.minimum !== undefined) {\n        return schema.minimum;\n    }\n    else {\n        return 0;\n    }\n}\nfunction FromIntersect(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        // --------------------------------------------------------------\n        // Note: The best we can do here is attempt to instance each\n        // sub type and apply through object assign. For non-object\n        // sub types, we just escape the assignment and just return\n        // the value. In the latter case, this is typically going to\n        // be a consequence of an illogical intersection.\n        // --------------------------------------------------------------\n        const value = schema.allOf.reduce((acc, schema) => {\n            const next = Visit(schema, references);\n            return typeof next === 'object' ? { ...acc, ...next } : next;\n        }, {});\n        if (!Check(schema, references, value))\n            throw new ValueCreateError(schema, 'Intersect produced invalid value. Consider using a default value.');\n        return value;\n    }\n}\nfunction FromIterator(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return (function* () { })();\n    }\n}\nfunction FromLiteral(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return schema.const;\n    }\n}\nfunction FromNever(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        throw new ValueCreateError(schema, 'Never types cannot be created. Consider using a default value.');\n    }\n}\nfunction FromNot(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        throw new ValueCreateError(schema, 'Not types must have a default value');\n    }\n}\nfunction FromNull(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return null;\n    }\n}\nfunction FromNumber(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else if (schema.minimum !== undefined) {\n        return schema.minimum;\n    }\n    else {\n        return 0;\n    }\n}\nfunction FromObject(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        const required = new Set(schema.required);\n        const Acc = {};\n        for (const [key, subschema] of Object.entries(schema.properties)) {\n            if (!required.has(key))\n                continue;\n            Acc[key] = Visit(subschema, references);\n        }\n        return Acc;\n    }\n}\nfunction FromPromise(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return Promise.resolve(Visit(schema.item, references));\n    }\n}\nfunction FromRecord(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return {};\n    }\n}\nfunction FromRef(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return Visit(Deref(schema, references), references);\n    }\n}\nfunction FromRegExp(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        throw new ValueCreateError(schema, 'RegExp types cannot be created. Consider using a default value.');\n    }\n}\nfunction FromString(schema, references) {\n    if (schema.pattern !== undefined) {\n        if (!HasPropertyKey(schema, 'default')) {\n            throw new ValueCreateError(schema, 'String types with patterns must specify a default value');\n        }\n        else {\n            return FromDefault(schema.default);\n        }\n    }\n    else if (schema.format !== undefined) {\n        if (!HasPropertyKey(schema, 'default')) {\n            throw new ValueCreateError(schema, 'String types with formats must specify a default value');\n        }\n        else {\n            return FromDefault(schema.default);\n        }\n    }\n    else {\n        if (HasPropertyKey(schema, 'default')) {\n            return FromDefault(schema.default);\n        }\n        else if (schema.minLength !== undefined) {\n            // prettier-ignore\n            return Array.from({ length: schema.minLength }).map(() => ' ').join('');\n        }\n        else {\n            return '';\n        }\n    }\n}\nfunction FromSymbol(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else if ('value' in schema) {\n        return Symbol.for(schema.value);\n    }\n    else {\n        return Symbol();\n    }\n}\nfunction FromTemplateLiteral(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    if (!IsTemplateLiteralFinite(schema))\n        throw new ValueCreateError(schema, 'Can only create template literals that produce a finite variants. Consider using a default value.');\n    const generated = TemplateLiteralGenerate(schema);\n    return generated[0];\n}\nfunction FromThis(schema, references) {\n    if (recursiveDepth++ > recursiveMaxDepth)\n        throw new ValueCreateError(schema, 'Cannot create recursive type as it appears possibly infinite. Consider using a default.');\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return Visit(Deref(schema, references), references);\n    }\n}\nfunction FromTuple(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    if (schema.items === undefined) {\n        return [];\n    }\n    else {\n        return Array.from({ length: schema.minItems }).map((_, index) => Visit(schema.items[index], references));\n    }\n}\nfunction FromUndefined(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return undefined;\n    }\n}\nfunction FromUnion(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else if (schema.anyOf.length === 0) {\n        throw new Error('ValueCreate.Union: Cannot create Union with zero variants');\n    }\n    else {\n        return Visit(schema.anyOf[0], references);\n    }\n}\nfunction FromUint8Array(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else if (schema.minByteLength !== undefined) {\n        return new Uint8Array(schema.minByteLength);\n    }\n    else {\n        return new Uint8Array(0);\n    }\n}\nfunction FromUnknown(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return {};\n    }\n}\nfunction FromVoid(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        return void 0;\n    }\n}\nfunction FromKind(schema, references) {\n    if (HasPropertyKey(schema, 'default')) {\n        return FromDefault(schema.default);\n    }\n    else {\n        throw new Error('User defined types must specify a default value');\n    }\n}\nfunction Visit(schema, references) {\n    const references_ = Pushref(schema, references);\n    const schema_ = schema;\n    switch (schema_[Kind]) {\n        case 'Any':\n            return FromAny(schema_, references_);\n        case 'Argument':\n            return FromArgument(schema_, references_);\n        case 'Array':\n            return FromArray(schema_, references_);\n        case 'AsyncIterator':\n            return FromAsyncIterator(schema_, references_);\n        case 'BigInt':\n            return FromBigInt(schema_, references_);\n        case 'Boolean':\n            return FromBoolean(schema_, references_);\n        case 'Constructor':\n            return FromConstructor(schema_, references_);\n        case 'Date':\n            return FromDate(schema_, references_);\n        case 'Function':\n            return FromFunction(schema_, references_);\n        case 'Import':\n            return FromImport(schema_, references_);\n        case 'Integer':\n            return FromInteger(schema_, references_);\n        case 'Intersect':\n            return FromIntersect(schema_, references_);\n        case 'Iterator':\n            return FromIterator(schema_, references_);\n        case 'Literal':\n            return FromLiteral(schema_, references_);\n        case 'Never':\n            return FromNever(schema_, references_);\n        case 'Not':\n            return FromNot(schema_, references_);\n        case 'Null':\n            return FromNull(schema_, references_);\n        case 'Number':\n            return FromNumber(schema_, references_);\n        case 'Object':\n            return FromObject(schema_, references_);\n        case 'Promise':\n            return FromPromise(schema_, references_);\n        case 'Record':\n            return FromRecord(schema_, references_);\n        case 'Ref':\n            return FromRef(schema_, references_);\n        case 'RegExp':\n            return FromRegExp(schema_, references_);\n        case 'String':\n            return FromString(schema_, references_);\n        case 'Symbol':\n            return FromSymbol(schema_, references_);\n        case 'TemplateLiteral':\n            return FromTemplateLiteral(schema_, references_);\n        case 'This':\n            return FromThis(schema_, references_);\n        case 'Tuple':\n            return FromTuple(schema_, references_);\n        case 'Undefined':\n            return FromUndefined(schema_, references_);\n        case 'Union':\n            return FromUnion(schema_, references_);\n        case 'Uint8Array':\n            return FromUint8Array(schema_, references_);\n        case 'Unknown':\n            return FromUnknown(schema_, references_);\n        case 'Void':\n            return FromVoid(schema_, references_);\n        default:\n            if (!TypeRegistry.Has(schema_[Kind]))\n                throw new ValueCreateError(schema_, 'Unknown type');\n            return FromKind(schema_, references_);\n    }\n}\n// ------------------------------------------------------------------\n// State\n// ------------------------------------------------------------------\nconst recursiveMaxDepth = 512;\nlet recursiveDepth = 0;\n/** Creates a value from the given schema */\nexport function Create(...args) {\n    recursiveDepth = 0;\n    return args.length === 2 ? Visit(args[0], args[1]) : Visit(args[0], []);\n}\n", "// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { IsArray, IsDate, IsMap, IsSet, IsObject, IsTypedArray, IsValueType } from '../guard/index.mjs';\n// ------------------------------------------------------------------\n// Clonable\n// ------------------------------------------------------------------\nfunction FromObject(value) {\n    const Acc = {};\n    for (const key of Object.getOwnPropertyNames(value)) {\n        Acc[key] = Clone(value[key]);\n    }\n    for (const key of Object.getOwnPropertySymbols(value)) {\n        Acc[key] = Clone(value[key]);\n    }\n    return Acc;\n}\nfunction FromArray(value) {\n    return value.map((element) => Clone(element));\n}\nfunction FromTypedArray(value) {\n    return value.slice();\n}\nfunction FromMap(value) {\n    return new Map(Clone([...value.entries()]));\n}\nfunction FromSet(value) {\n    return new Set(Clone([...value.entries()]));\n}\nfunction FromDate(value) {\n    return new Date(value.toISOString());\n}\nfunction FromValue(value) {\n    return value;\n}\n// ------------------------------------------------------------------\n// Clone\n// ------------------------------------------------------------------\n/** Returns a clone of the given value */\nexport function Clone(value) {\n    if (IsArray(value))\n        return FromArray(value);\n    if (IsDate(value))\n        return FromDate(value);\n    if (IsTypedArray(value))\n        return FromTypedArray(value);\n    if (IsMap(value))\n        return FromMap(value);\n    if (IsSet(value))\n        return FromSet(value);\n    if (IsObject(value))\n        return FromObject(value);\n    if (IsValueType(value))\n        return FromValue(value);\n    throw new Error('ValueClone: Unable to clone value');\n}\n", "import { KeyOfPropertyKeys } from '../../type/keyof/index.mjs';\nimport { Check } from '../check/index.mjs';\nimport { Clone } from '../clone/index.mjs';\nimport { Deref, Pushref } from '../deref/index.mjs';\nimport { Kind } from '../../type/symbols/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\n// prettier-ignore\nimport { HasPropertyKey, IsString, IsObject, IsArray, IsUndefined } from '../guard/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\n// prettier-ignore\nimport { IsKind } from '../../type/guard/kind.mjs';\n// ------------------------------------------------------------------\n// IsCheckable\n// ------------------------------------------------------------------\nfunction IsCheckable(schema) {\n    return IsKind(schema) && schema[Kind] !== 'Unsafe';\n}\n// ------------------------------------------------------------------\n// Types\n// ------------------------------------------------------------------\nfunction FromArray(schema, references, value) {\n    if (!IsArray(value))\n        return value;\n    return value.map((value) => Visit(schema.items, references, value));\n}\nfunction FromImport(schema, references, value) {\n    const definitions = globalThis.Object.values(schema.$defs);\n    const target = schema.$defs[schema.$ref];\n    return Visit(target, [...references, ...definitions], value);\n}\nfunction FromIntersect(schema, references, value) {\n    const unevaluatedProperties = schema.unevaluatedProperties;\n    const intersections = schema.allOf.map((schema) => Visit(schema, references, Clone(value)));\n    const composite = intersections.reduce((acc, value) => (IsObject(value) ? { ...acc, ...value } : value), {});\n    if (!IsObject(value) || !IsObject(composite) || !IsKind(unevaluatedProperties))\n        return composite;\n    const knownkeys = KeyOfPropertyKeys(schema);\n    for (const key of Object.getOwnPropertyNames(value)) {\n        if (knownkeys.includes(key))\n            continue;\n        if (Check(unevaluatedProperties, references, value[key])) {\n            composite[key] = Visit(unevaluatedProperties, references, value[key]);\n        }\n    }\n    return composite;\n}\nfunction FromObject(schema, references, value) {\n    if (!IsObject(value) || IsArray(value))\n        return value; // Check IsArray for AllowArrayObject configuration\n    const additionalProperties = schema.additionalProperties;\n    for (const key of Object.getOwnPropertyNames(value)) {\n        if (HasPropertyKey(schema.properties, key)) {\n            value[key] = Visit(schema.properties[key], references, value[key]);\n            continue;\n        }\n        if (IsKind(additionalProperties) && Check(additionalProperties, references, value[key])) {\n            value[key] = Visit(additionalProperties, references, value[key]);\n            continue;\n        }\n        delete value[key];\n    }\n    return value;\n}\nfunction FromRecord(schema, references, value) {\n    if (!IsObject(value))\n        return value;\n    const additionalProperties = schema.additionalProperties;\n    const propertyKeys = Object.getOwnPropertyNames(value);\n    const [propertyKey, propertySchema] = Object.entries(schema.patternProperties)[0];\n    const propertyKeyTest = new RegExp(propertyKey);\n    for (const key of propertyKeys) {\n        if (propertyKeyTest.test(key)) {\n            value[key] = Visit(propertySchema, references, value[key]);\n            continue;\n        }\n        if (IsKind(additionalProperties) && Check(additionalProperties, references, value[key])) {\n            value[key] = Visit(additionalProperties, references, value[key]);\n            continue;\n        }\n        delete value[key];\n    }\n    return value;\n}\nfunction FromRef(schema, references, value) {\n    return Visit(Deref(schema, references), references, value);\n}\nfunction FromThis(schema, references, value) {\n    return Visit(Deref(schema, references), references, value);\n}\nfunction FromTuple(schema, references, value) {\n    if (!IsArray(value))\n        return value;\n    if (IsUndefined(schema.items))\n        return [];\n    const length = Math.min(value.length, schema.items.length);\n    for (let i = 0; i < length; i++) {\n        value[i] = Visit(schema.items[i], references, value[i]);\n    }\n    // prettier-ignore\n    return value.length > length\n        ? value.slice(0, length)\n        : value;\n}\nfunction FromUnion(schema, references, value) {\n    for (const inner of schema.anyOf) {\n        if (IsCheckable(inner) && Check(inner, references, value)) {\n            return Visit(inner, references, value);\n        }\n    }\n    return value;\n}\nfunction Visit(schema, references, value) {\n    const references_ = IsString(schema.$id) ? Pushref(schema, references) : references;\n    const schema_ = schema;\n    switch (schema_[Kind]) {\n        case 'Array':\n            return FromArray(schema_, references_, value);\n        case 'Import':\n            return FromImport(schema_, references_, value);\n        case 'Intersect':\n            return FromIntersect(schema_, references_, value);\n        case 'Object':\n            return FromObject(schema_, references_, value);\n        case 'Record':\n            return FromRecord(schema_, references_, value);\n        case 'Ref':\n            return FromRef(schema_, references_, value);\n        case 'This':\n            return FromThis(schema_, references_, value);\n        case 'Tuple':\n            return FromTuple(schema_, references_, value);\n        case 'Union':\n            return FromUnion(schema_, references_, value);\n        default:\n            return value;\n    }\n}\n/** `[Mutable]` Removes excess properties from a value and returns the result. This function does not check the value and returns an unknown type. You should Check the result before use. Clean is a mutable operation. To avoid mutation, Clone the value first. */\nexport function Clean(...args) {\n    return args.length === 3 ? Visit(args[0], args[1], args[2]) : Visit(args[0], [], args[1]);\n}\n", "import { Clone } from '../clone/index.mjs';\nimport { Check } from '../check/index.mjs';\nimport { Deref, Pushref } from '../deref/index.mjs';\nimport { Kind } from '../../type/symbols/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { IsArray, IsObject, IsDate, IsUndefined, IsString, IsNumber, IsBoolean, IsBigInt, IsSymbol, HasPropertyKey } from '../guard/index.mjs';\n// ------------------------------------------------------------------\n// Conversions\n// ------------------------------------------------------------------\nfunction IsStringNumeric(value) {\n    return IsString(value) && !isNaN(value) && !isNaN(parseFloat(value));\n}\nfunction IsValueToString(value) {\n    return IsBigInt(value) || IsBoolean(value) || IsNumber(value);\n}\nfunction IsValueTrue(value) {\n    return value === true || (IsNumber(value) && value === 1) || (IsBigInt(value) && value === BigInt('1')) || (IsString(value) && (value.toLowerCase() === 'true' || value === '1'));\n}\nfunction IsValueFalse(value) {\n    return value === false || (IsNumber(value) && (value === 0 || Object.is(value, -0))) || (IsBigInt(value) && value === BigInt('0')) || (IsString(value) && (value.toLowerCase() === 'false' || value === '0' || value === '-0'));\n}\nfunction IsTimeStringWithTimeZone(value) {\n    return IsString(value) && /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i.test(value);\n}\nfunction IsTimeStringWithoutTimeZone(value) {\n    return IsString(value) && /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)?$/i.test(value);\n}\nfunction IsDateTimeStringWithTimeZone(value) {\n    return IsString(value) && /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\dt(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i.test(value);\n}\nfunction IsDateTimeStringWithoutTimeZone(value) {\n    return IsString(value) && /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\dt(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)?$/i.test(value);\n}\nfunction IsDateString(value) {\n    return IsString(value) && /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/i.test(value);\n}\n// ------------------------------------------------------------------\n// Convert\n// ------------------------------------------------------------------\nfunction TryConvertLiteralString(value, target) {\n    const conversion = TryConvertString(value);\n    return conversion === target ? conversion : value;\n}\nfunction TryConvertLiteralNumber(value, target) {\n    const conversion = TryConvertNumber(value);\n    return conversion === target ? conversion : value;\n}\nfunction TryConvertLiteralBoolean(value, target) {\n    const conversion = TryConvertBoolean(value);\n    return conversion === target ? conversion : value;\n}\n// prettier-ignore\nfunction TryConvertLiteral(schema, value) {\n    return (IsString(schema.const) ? TryConvertLiteralString(value, schema.const) :\n        IsNumber(schema.const) ? TryConvertLiteralNumber(value, schema.const) :\n            IsBoolean(schema.const) ? TryConvertLiteralBoolean(value, schema.const) :\n                value);\n}\nfunction TryConvertBoolean(value) {\n    return IsValueTrue(value) ? true : IsValueFalse(value) ? false : value;\n}\nfunction TryConvertBigInt(value) {\n    const truncateInteger = (value) => value.split('.')[0];\n    return IsStringNumeric(value) ? BigInt(truncateInteger(value)) : IsNumber(value) ? BigInt(Math.trunc(value)) : IsValueFalse(value) ? BigInt(0) : IsValueTrue(value) ? BigInt(1) : value;\n}\nfunction TryConvertString(value) {\n    return IsSymbol(value) && value.description !== undefined ? value.description.toString() : IsValueToString(value) ? value.toString() : value;\n}\nfunction TryConvertNumber(value) {\n    return IsStringNumeric(value) ? parseFloat(value) : IsValueTrue(value) ? 1 : IsValueFalse(value) ? 0 : value;\n}\nfunction TryConvertInteger(value) {\n    return IsStringNumeric(value) ? parseInt(value) : IsNumber(value) ? Math.trunc(value) : IsValueTrue(value) ? 1 : IsValueFalse(value) ? 0 : value;\n}\nfunction TryConvertNull(value) {\n    return IsString(value) && value.toLowerCase() === 'null' ? null : value;\n}\nfunction TryConvertUndefined(value) {\n    return IsString(value) && value === 'undefined' ? undefined : value;\n}\n// ------------------------------------------------------------------\n// note: this function may return an invalid dates for the regex\n// tests above. Invalid dates will however be checked during the\n// casting function and will return a epoch date if invalid.\n// Consider better string parsing for the iso dates in future\n// revisions.\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction TryConvertDate(value) {\n    return (IsDate(value) ? value :\n        IsNumber(value) ? new Date(value) :\n            IsValueTrue(value) ? new Date(1) :\n                IsValueFalse(value) ? new Date(0) :\n                    IsStringNumeric(value) ? new Date(parseInt(value)) :\n                        IsTimeStringWithoutTimeZone(value) ? new Date(`1970-01-01T${value}.000Z`) :\n                            IsTimeStringWithTimeZone(value) ? new Date(`1970-01-01T${value}`) :\n                                IsDateTimeStringWithoutTimeZone(value) ? new Date(`${value}.000Z`) :\n                                    IsDateTimeStringWithTimeZone(value) ? new Date(value) :\n                                        IsDateString(value) ? new Date(`${value}T00:00:00.000Z`) :\n                                            value);\n}\n// ------------------------------------------------------------------\n// Default\n// ------------------------------------------------------------------\nfunction Default(value) {\n    return value;\n}\n// ------------------------------------------------------------------\n// Convert\n// ------------------------------------------------------------------\nfunction FromArray(schema, references, value) {\n    const elements = IsArray(value) ? value : [value];\n    return elements.map((element) => Visit(schema.items, references, element));\n}\nfunction FromBigInt(schema, references, value) {\n    return TryConvertBigInt(value);\n}\nfunction FromBoolean(schema, references, value) {\n    return TryConvertBoolean(value);\n}\nfunction FromDate(schema, references, value) {\n    return TryConvertDate(value);\n}\nfunction FromImport(schema, references, value) {\n    const definitions = globalThis.Object.values(schema.$defs);\n    const target = schema.$defs[schema.$ref];\n    return Visit(target, [...references, ...definitions], value);\n}\nfunction FromInteger(schema, references, value) {\n    return TryConvertInteger(value);\n}\nfunction FromIntersect(schema, references, value) {\n    return schema.allOf.reduce((value, schema) => Visit(schema, references, value), value);\n}\nfunction FromLiteral(schema, references, value) {\n    return TryConvertLiteral(schema, value);\n}\nfunction FromNull(schema, references, value) {\n    return TryConvertNull(value);\n}\nfunction FromNumber(schema, references, value) {\n    return TryConvertNumber(value);\n}\n// prettier-ignore\nfunction FromObject(schema, references, value) {\n    if (!IsObject(value) || IsArray(value))\n        return value;\n    for (const propertyKey of Object.getOwnPropertyNames(schema.properties)) {\n        if (!HasPropertyKey(value, propertyKey))\n            continue;\n        value[propertyKey] = Visit(schema.properties[propertyKey], references, value[propertyKey]);\n    }\n    return value;\n}\nfunction FromRecord(schema, references, value) {\n    const isConvertable = IsObject(value) && !IsArray(value);\n    if (!isConvertable)\n        return value;\n    const propertyKey = Object.getOwnPropertyNames(schema.patternProperties)[0];\n    const property = schema.patternProperties[propertyKey];\n    for (const [propKey, propValue] of Object.entries(value)) {\n        value[propKey] = Visit(property, references, propValue);\n    }\n    return value;\n}\nfunction FromRef(schema, references, value) {\n    return Visit(Deref(schema, references), references, value);\n}\nfunction FromString(schema, references, value) {\n    return TryConvertString(value);\n}\nfunction FromSymbol(schema, references, value) {\n    return IsString(value) || IsNumber(value) ? Symbol(value) : value;\n}\nfunction FromThis(schema, references, value) {\n    return Visit(Deref(schema, references), references, value);\n}\n// prettier-ignore\nfunction FromTuple(schema, references, value) {\n    const isConvertable = IsArray(value) && !IsUndefined(schema.items);\n    if (!isConvertable)\n        return value;\n    return value.map((value, index) => {\n        return (index < schema.items.length)\n            ? Visit(schema.items[index], references, value)\n            : value;\n    });\n}\nfunction FromUndefined(schema, references, value) {\n    return TryConvertUndefined(value);\n}\nfunction FromUnion(schema, references, value) {\n    // Check if original value already matches one of the union variants\n    for (const subschema of schema.anyOf) {\n        if (Check(subschema, references, value)) {\n            return value;\n        }\n    }\n    // Attempt conversion for each variant\n    for (const subschema of schema.anyOf) {\n        const converted = Visit(subschema, references, Clone(value));\n        if (!Check(subschema, references, converted))\n            continue;\n        return converted;\n    }\n    return value;\n}\nfunction Visit(schema, references, value) {\n    const references_ = Pushref(schema, references);\n    const schema_ = schema;\n    switch (schema[Kind]) {\n        case 'Array':\n            return FromArray(schema_, references_, value);\n        case 'BigInt':\n            return FromBigInt(schema_, references_, value);\n        case 'Boolean':\n            return FromBoolean(schema_, references_, value);\n        case 'Date':\n            return FromDate(schema_, references_, value);\n        case 'Import':\n            return FromImport(schema_, references_, value);\n        case 'Integer':\n            return FromInteger(schema_, references_, value);\n        case 'Intersect':\n            return FromIntersect(schema_, references_, value);\n        case 'Literal':\n            return FromLiteral(schema_, references_, value);\n        case 'Null':\n            return FromNull(schema_, references_, value);\n        case 'Number':\n            return FromNumber(schema_, references_, value);\n        case 'Object':\n            return FromObject(schema_, references_, value);\n        case 'Record':\n            return FromRecord(schema_, references_, value);\n        case 'Ref':\n            return FromRef(schema_, references_, value);\n        case 'String':\n            return FromString(schema_, references_, value);\n        case 'Symbol':\n            return FromSymbol(schema_, references_, value);\n        case 'This':\n            return FromThis(schema_, references_, value);\n        case 'Tuple':\n            return FromTuple(schema_, references_, value);\n        case 'Undefined':\n            return FromUndefined(schema_, references_, value);\n        case 'Union':\n            return FromUnion(schema_, references_, value);\n        default:\n            return Default(value);\n    }\n}\n/** `[Mutable]` Converts any type mismatched values to their target type if a reasonable conversion is possible. */\n// prettier-ignore\nexport function Convert(...args) {\n    return args.length === 3 ? Visit(args[0], args[1], args[2]) : Visit(args[0], [], args[1]);\n}\n", "import { HasTransform, TransformDecode, TransformDecodeCheckError } from '../transform/index.mjs';\nimport { Check } from '../check/index.mjs';\nimport { Errors } from '../../errors/index.mjs';\n/** Decodes a value or throws if error */\nexport function Decode(...args) {\n    const [schema, references, value] = args.length === 3 ? [args[0], args[1], args[2]] : [args[0], [], args[1]];\n    if (!Check(schema, references, value))\n        throw new TransformDecodeCheckError(schema, value, Errors(schema, references, value).First());\n    return HasTransform(schema, references) ? TransformDecode(schema, references, value) : value;\n}\n", "import { TypeSystemPolicy } from '../../system/policy.mjs';\nimport { Kind, TransformKind } from '../../type/symbols/index.mjs';\nimport { TypeBoxError } from '../../type/error/index.mjs';\nimport { KeyOfPropertyKeys, KeyOfPropertyEntries } from '../../type/keyof/index.mjs';\nimport { Deref, Pushref } from '../deref/index.mjs';\nimport { Check } from '../check/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { HasPropertyKey, IsObject, IsArray, IsValueType, IsUndefined as IsUndefinedValue } from '../guard/index.mjs';\n// ------------------------------------------------------------------\n// KindGuard\n// ------------------------------------------------------------------\nimport { IsTransform, IsSchema, IsUndefined } from '../../type/guard/kind.mjs';\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\n// thrown externally\n// prettier-ignore\nexport class TransformDecodeCheckError extends TypeBoxError {\n    constructor(schema, value, error) {\n        super(`Unable to decode value as it does not match the expected schema`);\n        this.schema = schema;\n        this.value = value;\n        this.error = error;\n    }\n}\n// prettier-ignore\nexport class TransformDecodeError extends TypeBoxError {\n    constructor(schema, path, value, error) {\n        super(error instanceof Error ? error.message : 'Unknown error');\n        this.schema = schema;\n        this.path = path;\n        this.value = value;\n        this.error = error;\n    }\n}\n// ------------------------------------------------------------------\n// Decode\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction Default(schema, path, value) {\n    try {\n        return IsTransform(schema) ? schema[TransformKind].Decode(value) : value;\n    }\n    catch (error) {\n        throw new TransformDecodeError(schema, path, value, error);\n    }\n}\n// prettier-ignore\nfunction FromArray(schema, references, path, value) {\n    return (IsArray(value))\n        ? Default(schema, path, value.map((value, index) => Visit(schema.items, references, `${path}/${index}`, value)))\n        : Default(schema, path, value);\n}\n// prettier-ignore\nfunction FromIntersect(schema, references, path, value) {\n    if (!IsObject(value) || IsValueType(value))\n        return Default(schema, path, value);\n    const knownEntries = KeyOfPropertyEntries(schema);\n    const knownKeys = knownEntries.map(entry => entry[0]);\n    const knownProperties = { ...value };\n    for (const [knownKey, knownSchema] of knownEntries)\n        if (knownKey in knownProperties) {\n            knownProperties[knownKey] = Visit(knownSchema, references, `${path}/${knownKey}`, knownProperties[knownKey]);\n        }\n    if (!IsTransform(schema.unevaluatedProperties)) {\n        return Default(schema, path, knownProperties);\n    }\n    const unknownKeys = Object.getOwnPropertyNames(knownProperties);\n    const unevaluatedProperties = schema.unevaluatedProperties;\n    const unknownProperties = { ...knownProperties };\n    for (const key of unknownKeys)\n        if (!knownKeys.includes(key)) {\n            unknownProperties[key] = Default(unevaluatedProperties, `${path}/${key}`, unknownProperties[key]);\n        }\n    return Default(schema, path, unknownProperties);\n}\n// prettier-ignore\nfunction FromImport(schema, references, path, value) {\n    const additional = globalThis.Object.values(schema.$defs);\n    const target = schema.$defs[schema.$ref];\n    const result = Visit(target, [...references, ...additional], path, value);\n    return Default(schema, path, result);\n}\nfunction FromNot(schema, references, path, value) {\n    return Default(schema, path, Visit(schema.not, references, path, value));\n}\n// prettier-ignore\nfunction FromObject(schema, references, path, value) {\n    if (!IsObject(value))\n        return Default(schema, path, value);\n    const knownKeys = KeyOfPropertyKeys(schema);\n    const knownProperties = { ...value };\n    for (const key of knownKeys) {\n        if (!HasPropertyKey(knownProperties, key))\n            continue;\n        // if the property value is undefined, but the target is not, nor does it satisfy exact optional \n        // property policy, then we need to continue. This is a special case for optional property handling \n        // where a transforms wrapped in a optional modifiers should not run.\n        if (IsUndefinedValue(knownProperties[key]) && (!IsUndefined(schema.properties[key]) ||\n            TypeSystemPolicy.IsExactOptionalProperty(knownProperties, key)))\n            continue;\n        // decode property\n        knownProperties[key] = Visit(schema.properties[key], references, `${path}/${key}`, knownProperties[key]);\n    }\n    if (!IsSchema(schema.additionalProperties)) {\n        return Default(schema, path, knownProperties);\n    }\n    const unknownKeys = Object.getOwnPropertyNames(knownProperties);\n    const additionalProperties = schema.additionalProperties;\n    const unknownProperties = { ...knownProperties };\n    for (const key of unknownKeys)\n        if (!knownKeys.includes(key)) {\n            unknownProperties[key] = Default(additionalProperties, `${path}/${key}`, unknownProperties[key]);\n        }\n    return Default(schema, path, unknownProperties);\n}\n// prettier-ignore\nfunction FromRecord(schema, references, path, value) {\n    if (!IsObject(value))\n        return Default(schema, path, value);\n    const pattern = Object.getOwnPropertyNames(schema.patternProperties)[0];\n    const knownKeys = new RegExp(pattern);\n    const knownProperties = { ...value };\n    for (const key of Object.getOwnPropertyNames(value))\n        if (knownKeys.test(key)) {\n            knownProperties[key] = Visit(schema.patternProperties[pattern], references, `${path}/${key}`, knownProperties[key]);\n        }\n    if (!IsSchema(schema.additionalProperties)) {\n        return Default(schema, path, knownProperties);\n    }\n    const unknownKeys = Object.getOwnPropertyNames(knownProperties);\n    const additionalProperties = schema.additionalProperties;\n    const unknownProperties = { ...knownProperties };\n    for (const key of unknownKeys)\n        if (!knownKeys.test(key)) {\n            unknownProperties[key] = Default(additionalProperties, `${path}/${key}`, unknownProperties[key]);\n        }\n    return Default(schema, path, unknownProperties);\n}\n// prettier-ignore\nfunction FromRef(schema, references, path, value) {\n    const target = Deref(schema, references);\n    return Default(schema, path, Visit(target, references, path, value));\n}\n// prettier-ignore\nfunction FromThis(schema, references, path, value) {\n    const target = Deref(schema, references);\n    return Default(schema, path, Visit(target, references, path, value));\n}\n// prettier-ignore\nfunction FromTuple(schema, references, path, value) {\n    return (IsArray(value) && IsArray(schema.items))\n        ? Default(schema, path, schema.items.map((schema, index) => Visit(schema, references, `${path}/${index}`, value[index])))\n        : Default(schema, path, value);\n}\n// prettier-ignore\nfunction FromUnion(schema, references, path, value) {\n    for (const subschema of schema.anyOf) {\n        if (!Check(subschema, references, value))\n            continue;\n        // note: ensure interior is decoded first\n        const decoded = Visit(subschema, references, path, value);\n        return Default(schema, path, decoded);\n    }\n    return Default(schema, path, value);\n}\n// prettier-ignore\nfunction Visit(schema, references, path, value) {\n    const references_ = Pushref(schema, references);\n    const schema_ = schema;\n    switch (schema[Kind]) {\n        case 'Array':\n            return FromArray(schema_, references_, path, value);\n        case 'Import':\n            return FromImport(schema_, references_, path, value);\n        case 'Intersect':\n            return FromIntersect(schema_, references_, path, value);\n        case 'Not':\n            return FromNot(schema_, references_, path, value);\n        case 'Object':\n            return FromObject(schema_, references_, path, value);\n        case 'Record':\n            return FromRecord(schema_, references_, path, value);\n        case 'Ref':\n            return FromRef(schema_, references_, path, value);\n        case 'Symbol':\n            return Default(schema_, path, value);\n        case 'This':\n            return FromThis(schema_, references_, path, value);\n        case 'Tuple':\n            return FromTuple(schema_, references_, path, value);\n        case 'Union':\n            return FromUnion(schema_, references_, path, value);\n        default:\n            return Default(schema_, path, value);\n    }\n}\n/**\n * `[Internal]` Decodes the value and returns the result. This function requires that\n * the caller `Check` the value before use. Passing unchecked values may result in\n * undefined behavior. Refer to the `Value.Decode()` for implementation details.\n */\nexport function TransformDecode(schema, references, value) {\n    return Visit(schema, references, '', value);\n}\n", "import { TypeSystemPolicy } from '../../system/policy.mjs';\nimport { Kind, TransformKind } from '../../type/symbols/index.mjs';\nimport { TypeBoxError } from '../../type/error/index.mjs';\nimport { KeyOfPropertyKeys, KeyOfPropertyEntries } from '../../type/keyof/index.mjs';\nimport { Deref, Pushref } from '../deref/index.mjs';\nimport { Check } from '../check/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { HasPropertyKey, IsObject, IsArray, IsValueType, IsUndefined as IsUndefinedValue } from '../guard/index.mjs';\n// ------------------------------------------------------------------\n// KindGuard\n// ------------------------------------------------------------------\nimport { IsTransform, IsSchema, IsUndefined } from '../../type/guard/kind.mjs';\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\n// prettier-ignore\nexport class TransformEncodeCheckError extends TypeBoxError {\n    constructor(schema, value, error) {\n        super(`The encoded value does not match the expected schema`);\n        this.schema = schema;\n        this.value = value;\n        this.error = error;\n    }\n}\n// prettier-ignore\nexport class TransformEncodeError extends TypeBoxError {\n    constructor(schema, path, value, error) {\n        super(`${error instanceof Error ? error.message : 'Unknown error'}`);\n        this.schema = schema;\n        this.path = path;\n        this.value = value;\n        this.error = error;\n    }\n}\n// ------------------------------------------------------------------\n// Encode\n// ------------------------------------------------------------------\n// prettier-ignore\nfunction Default(schema, path, value) {\n    try {\n        return IsTransform(schema) ? schema[TransformKind].Encode(value) : value;\n    }\n    catch (error) {\n        throw new TransformEncodeError(schema, path, value, error);\n    }\n}\n// prettier-ignore\nfunction FromArray(schema, references, path, value) {\n    const defaulted = Default(schema, path, value);\n    return IsArray(defaulted)\n        ? defaulted.map((value, index) => Visit(schema.items, references, `${path}/${index}`, value))\n        : defaulted;\n}\n// prettier-ignore\nfunction FromImport(schema, references, path, value) {\n    const additional = globalThis.Object.values(schema.$defs);\n    const target = schema.$defs[schema.$ref];\n    const result = Default(schema, path, value);\n    return Visit(target, [...references, ...additional], path, result);\n}\n// prettier-ignore\nfunction FromIntersect(schema, references, path, value) {\n    const defaulted = Default(schema, path, value);\n    if (!IsObject(value) || IsValueType(value))\n        return defaulted;\n    const knownEntries = KeyOfPropertyEntries(schema);\n    const knownKeys = knownEntries.map(entry => entry[0]);\n    const knownProperties = { ...defaulted };\n    for (const [knownKey, knownSchema] of knownEntries)\n        if (knownKey in knownProperties) {\n            knownProperties[knownKey] = Visit(knownSchema, references, `${path}/${knownKey}`, knownProperties[knownKey]);\n        }\n    if (!IsTransform(schema.unevaluatedProperties)) {\n        return knownProperties;\n    }\n    const unknownKeys = Object.getOwnPropertyNames(knownProperties);\n    const unevaluatedProperties = schema.unevaluatedProperties;\n    const properties = { ...knownProperties };\n    for (const key of unknownKeys)\n        if (!knownKeys.includes(key)) {\n            properties[key] = Default(unevaluatedProperties, `${path}/${key}`, properties[key]);\n        }\n    return properties;\n}\n// prettier-ignore\nfunction FromNot(schema, references, path, value) {\n    return Default(schema.not, path, Default(schema, path, value));\n}\n// prettier-ignore\nfunction FromObject(schema, references, path, value) {\n    const defaulted = Default(schema, path, value);\n    if (!IsObject(defaulted))\n        return defaulted;\n    const knownKeys = KeyOfPropertyKeys(schema);\n    const knownProperties = { ...defaulted };\n    for (const key of knownKeys) {\n        if (!HasPropertyKey(knownProperties, key))\n            continue;\n        // if the property value is undefined, but the target is not, nor does it satisfy exact optional \n        // property policy, then we need to continue. This is a special case for optional property handling \n        // where a transforms wrapped in a optional modifiers should not run.\n        if (IsUndefinedValue(knownProperties[key]) && (!IsUndefined(schema.properties[key]) ||\n            TypeSystemPolicy.IsExactOptionalProperty(knownProperties, key)))\n            continue;\n        // encode property\n        knownProperties[key] = Visit(schema.properties[key], references, `${path}/${key}`, knownProperties[key]);\n    }\n    if (!IsSchema(schema.additionalProperties)) {\n        return knownProperties;\n    }\n    const unknownKeys = Object.getOwnPropertyNames(knownProperties);\n    const additionalProperties = schema.additionalProperties;\n    const properties = { ...knownProperties };\n    for (const key of unknownKeys)\n        if (!knownKeys.includes(key)) {\n            properties[key] = Default(additionalProperties, `${path}/${key}`, properties[key]);\n        }\n    return properties;\n}\n// prettier-ignore\nfunction FromRecord(schema, references, path, value) {\n    const defaulted = Default(schema, path, value);\n    if (!IsObject(value))\n        return defaulted;\n    const pattern = Object.getOwnPropertyNames(schema.patternProperties)[0];\n    const knownKeys = new RegExp(pattern);\n    const knownProperties = { ...defaulted };\n    for (const key of Object.getOwnPropertyNames(value))\n        if (knownKeys.test(key)) {\n            knownProperties[key] = Visit(schema.patternProperties[pattern], references, `${path}/${key}`, knownProperties[key]);\n        }\n    if (!IsSchema(schema.additionalProperties)) {\n        return knownProperties;\n    }\n    const unknownKeys = Object.getOwnPropertyNames(knownProperties);\n    const additionalProperties = schema.additionalProperties;\n    const properties = { ...knownProperties };\n    for (const key of unknownKeys)\n        if (!knownKeys.test(key)) {\n            properties[key] = Default(additionalProperties, `${path}/${key}`, properties[key]);\n        }\n    return properties;\n}\n// prettier-ignore\nfunction FromRef(schema, references, path, value) {\n    const target = Deref(schema, references);\n    const resolved = Visit(target, references, path, value);\n    return Default(schema, path, resolved);\n}\n// prettier-ignore\nfunction FromThis(schema, references, path, value) {\n    const target = Deref(schema, references);\n    const resolved = Visit(target, references, path, value);\n    return Default(schema, path, resolved);\n}\n// prettier-ignore\nfunction FromTuple(schema, references, path, value) {\n    const value1 = Default(schema, path, value);\n    return IsArray(schema.items) ? schema.items.map((schema, index) => Visit(schema, references, `${path}/${index}`, value1[index])) : [];\n}\n// prettier-ignore\nfunction FromUnion(schema, references, path, value) {\n    // test value against union variants\n    for (const subschema of schema.anyOf) {\n        if (!Check(subschema, references, value))\n            continue;\n        const value1 = Visit(subschema, references, path, value);\n        return Default(schema, path, value1);\n    }\n    // test transformed value against union variants\n    for (const subschema of schema.anyOf) {\n        const value1 = Visit(subschema, references, path, value);\n        if (!Check(schema, references, value1))\n            continue;\n        return Default(schema, path, value1);\n    }\n    return Default(schema, path, value);\n}\n// prettier-ignore\nfunction Visit(schema, references, path, value) {\n    const references_ = Pushref(schema, references);\n    const schema_ = schema;\n    switch (schema[Kind]) {\n        case 'Array':\n            return FromArray(schema_, references_, path, value);\n        case 'Import':\n            return FromImport(schema_, references_, path, value);\n        case 'Intersect':\n            return FromIntersect(schema_, references_, path, value);\n        case 'Not':\n            return FromNot(schema_, references_, path, value);\n        case 'Object':\n            return FromObject(schema_, references_, path, value);\n        case 'Record':\n            return FromRecord(schema_, references_, path, value);\n        case 'Ref':\n            return FromRef(schema_, references_, path, value);\n        case 'This':\n            return FromThis(schema_, references_, path, value);\n        case 'Tuple':\n            return FromTuple(schema_, references_, path, value);\n        case 'Union':\n            return FromUnion(schema_, references_, path, value);\n        default:\n            return Default(schema_, path, value);\n    }\n}\n/**\n * `[Internal]` Encodes the value and returns the result. This function expects the\n * caller to pass a statically checked value. This function does not check the encoded\n * result, meaning the result should be passed to `Check` before use. Refer to the\n * `Value.Encode()` function for implementation details.\n */\nexport function TransformEncode(schema, references, value) {\n    return Visit(schema, references, '', value);\n}\n", "import { Deref, Pushref } from '../deref/index.mjs';\nimport { Kind } from '../../type/symbols/index.mjs';\n// ------------------------------------------------------------------\n// KindGuard\n// ------------------------------------------------------------------\nimport { IsTransform, IsSchema } from '../../type/guard/kind.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { IsUndefined } from '../guard/index.mjs';\n// prettier-ignore\nfunction FromArray(schema, references) {\n    return IsTransform(schema) || Visit(schema.items, references);\n}\n// prettier-ignore\nfunction FromAsyncIterator(schema, references) {\n    return IsTransform(schema) || Visit(schema.items, references);\n}\n// prettier-ignore\nfunction FromConstructor(schema, references) {\n    return IsTransform(schema) || Visit(schema.returns, references) || schema.parameters.some((schema) => Visit(schema, references));\n}\n// prettier-ignore\nfunction FromFunction(schema, references) {\n    return IsTransform(schema) || Visit(schema.returns, references) || schema.parameters.some((schema) => Visit(schema, references));\n}\n// prettier-ignore\nfunction FromIntersect(schema, references) {\n    return IsTransform(schema) || IsTransform(schema.unevaluatedProperties) || schema.allOf.some((schema) => Visit(schema, references));\n}\n// prettier-ignore\nfunction FromImport(schema, references) {\n    const additional = globalThis.Object.getOwnPropertyNames(schema.$defs).reduce((result, key) => [...result, schema.$defs[key]], []);\n    const target = schema.$defs[schema.$ref];\n    return IsTransform(schema) || Visit(target, [...additional, ...references]);\n}\n// prettier-ignore\nfunction FromIterator(schema, references) {\n    return IsTransform(schema) || Visit(schema.items, references);\n}\n// prettier-ignore\nfunction FromNot(schema, references) {\n    return IsTransform(schema) || Visit(schema.not, references);\n}\n// prettier-ignore\nfunction FromObject(schema, references) {\n    return (IsTransform(schema) ||\n        Object.values(schema.properties).some((schema) => Visit(schema, references)) ||\n        (IsSchema(schema.additionalProperties) && Visit(schema.additionalProperties, references)));\n}\n// prettier-ignore\nfunction FromPromise(schema, references) {\n    return IsTransform(schema) || Visit(schema.item, references);\n}\n// prettier-ignore\nfunction FromRecord(schema, references) {\n    const pattern = Object.getOwnPropertyNames(schema.patternProperties)[0];\n    const property = schema.patternProperties[pattern];\n    return IsTransform(schema) || Visit(property, references) || (IsSchema(schema.additionalProperties) && IsTransform(schema.additionalProperties));\n}\n// prettier-ignore\nfunction FromRef(schema, references) {\n    if (IsTransform(schema))\n        return true;\n    return Visit(Deref(schema, references), references);\n}\n// prettier-ignore\nfunction FromThis(schema, references) {\n    if (IsTransform(schema))\n        return true;\n    return Visit(Deref(schema, references), references);\n}\n// prettier-ignore\nfunction FromTuple(schema, references) {\n    return IsTransform(schema) || (!IsUndefined(schema.items) && schema.items.some((schema) => Visit(schema, references)));\n}\n// prettier-ignore\nfunction FromUnion(schema, references) {\n    return IsTransform(schema) || schema.anyOf.some((schema) => Visit(schema, references));\n}\n// prettier-ignore\nfunction Visit(schema, references) {\n    const references_ = Pushref(schema, references);\n    const schema_ = schema;\n    if (schema.$id && visited.has(schema.$id))\n        return false;\n    if (schema.$id)\n        visited.add(schema.$id);\n    switch (schema[Kind]) {\n        case 'Array':\n            return FromArray(schema_, references_);\n        case 'AsyncIterator':\n            return FromAsyncIterator(schema_, references_);\n        case 'Constructor':\n            return FromConstructor(schema_, references_);\n        case 'Function':\n            return FromFunction(schema_, references_);\n        case 'Import':\n            return FromImport(schema_, references_);\n        case 'Intersect':\n            return FromIntersect(schema_, references_);\n        case 'Iterator':\n            return FromIterator(schema_, references_);\n        case 'Not':\n            return FromNot(schema_, references_);\n        case 'Object':\n            return FromObject(schema_, references_);\n        case 'Promise':\n            return FromPromise(schema_, references_);\n        case 'Record':\n            return FromRecord(schema_, references_);\n        case 'Ref':\n            return FromRef(schema_, references_);\n        case 'This':\n            return FromThis(schema_, references_);\n        case 'Tuple':\n            return FromTuple(schema_, references_);\n        case 'Union':\n            return FromUnion(schema_, references_);\n        default:\n            return IsTransform(schema);\n    }\n}\nconst visited = new Set();\n/** Returns true if this schema contains a transform codec */\nexport function HasTransform(schema, references) {\n    visited.clear();\n    return Visit(schema, references);\n}\n", "import { Check } from '../check/index.mjs';\nimport { Clone } from '../clone/index.mjs';\nimport { Deref, Pushref } from '../deref/index.mjs';\nimport { Kind } from '../../type/symbols/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { IsArray, IsDate, IsFunction, IsObject, IsUndefined, HasPropertyKey } from '../guard/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsKind } from '../../type/guard/kind.mjs';\n// ------------------------------------------------------------------\n// ValueOrDefault\n// ------------------------------------------------------------------\nfunction ValueOrDefault(schema, value) {\n    const defaultValue = HasPropertyKey(schema, 'default') ? schema.default : undefined;\n    const clone = IsFunction(defaultValue) ? defaultValue() : Clone(defaultValue);\n    return IsUndefined(value) ? clone : IsObject(value) && IsObject(clone) ? Object.assign(clone, value) : value;\n}\n// ------------------------------------------------------------------\n// HasDefaultProperty\n// ------------------------------------------------------------------\nfunction HasDefaultProperty(schema) {\n    return IsKind(schema) && 'default' in schema;\n}\n// ------------------------------------------------------------------\n// Types\n// ------------------------------------------------------------------\nfunction FromArray(schema, references, value) {\n    // if the value is an array, we attempt to initialize it's elements\n    if (IsArray(value)) {\n        for (let i = 0; i < value.length; i++) {\n            value[i] = Visit(schema.items, references, value[i]);\n        }\n        return value;\n    }\n    // ... otherwise use default initialization\n    const defaulted = ValueOrDefault(schema, value);\n    if (!IsArray(defaulted))\n        return defaulted;\n    for (let i = 0; i < defaulted.length; i++) {\n        defaulted[i] = Visit(schema.items, references, defaulted[i]);\n    }\n    return defaulted;\n}\nfunction FromDate(schema, references, value) {\n    // special case intercept for dates\n    return IsDate(value) ? value : ValueOrDefault(schema, value);\n}\nfunction FromImport(schema, references, value) {\n    const definitions = globalThis.Object.values(schema.$defs);\n    const target = schema.$defs[schema.$ref];\n    return Visit(target, [...references, ...definitions], value);\n}\nfunction FromIntersect(schema, references, value) {\n    const defaulted = ValueOrDefault(schema, value);\n    return schema.allOf.reduce((acc, schema) => {\n        const next = Visit(schema, references, defaulted);\n        return IsObject(next) ? { ...acc, ...next } : next;\n    }, {});\n}\nfunction FromObject(schema, references, value) {\n    const defaulted = ValueOrDefault(schema, value);\n    // return defaulted\n    if (!IsObject(defaulted))\n        return defaulted;\n    const knownPropertyKeys = Object.getOwnPropertyNames(schema.properties);\n    // properties\n    for (const key of knownPropertyKeys) {\n        // note: we need to traverse into the object and test if the return value\n        // yielded a non undefined result. Here we interpret an undefined result as\n        // a non assignable property and continue.\n        const propertyValue = Visit(schema.properties[key], references, defaulted[key]);\n        if (IsUndefined(propertyValue))\n            continue;\n        defaulted[key] = Visit(schema.properties[key], references, defaulted[key]);\n    }\n    // return if not additional properties\n    if (!HasDefaultProperty(schema.additionalProperties))\n        return defaulted;\n    // additional properties\n    for (const key of Object.getOwnPropertyNames(defaulted)) {\n        if (knownPropertyKeys.includes(key))\n            continue;\n        defaulted[key] = Visit(schema.additionalProperties, references, defaulted[key]);\n    }\n    return defaulted;\n}\nfunction FromRecord(schema, references, value) {\n    const defaulted = ValueOrDefault(schema, value);\n    if (!IsObject(defaulted))\n        return defaulted;\n    const additionalPropertiesSchema = schema.additionalProperties;\n    const [propertyKeyPattern, propertySchema] = Object.entries(schema.patternProperties)[0];\n    const knownPropertyKey = new RegExp(propertyKeyPattern);\n    // properties\n    for (const key of Object.getOwnPropertyNames(defaulted)) {\n        if (!(knownPropertyKey.test(key) && HasDefaultProperty(propertySchema)))\n            continue;\n        defaulted[key] = Visit(propertySchema, references, defaulted[key]);\n    }\n    // return if not additional properties\n    if (!HasDefaultProperty(additionalPropertiesSchema))\n        return defaulted;\n    // additional properties\n    for (const key of Object.getOwnPropertyNames(defaulted)) {\n        if (knownPropertyKey.test(key))\n            continue;\n        defaulted[key] = Visit(additionalPropertiesSchema, references, defaulted[key]);\n    }\n    return defaulted;\n}\nfunction FromRef(schema, references, value) {\n    return Visit(Deref(schema, references), references, ValueOrDefault(schema, value));\n}\nfunction FromThis(schema, references, value) {\n    return Visit(Deref(schema, references), references, value);\n}\nfunction FromTuple(schema, references, value) {\n    const defaulted = ValueOrDefault(schema, value);\n    if (!IsArray(defaulted) || IsUndefined(schema.items))\n        return defaulted;\n    const [items, max] = [schema.items, Math.max(schema.items.length, defaulted.length)];\n    for (let i = 0; i < max; i++) {\n        if (i < items.length)\n            defaulted[i] = Visit(items[i], references, defaulted[i]);\n    }\n    return defaulted;\n}\nfunction FromUnion(schema, references, value) {\n    const defaulted = ValueOrDefault(schema, value);\n    for (const inner of schema.anyOf) {\n        const result = Visit(inner, references, Clone(defaulted));\n        if (Check(inner, references, result)) {\n            return result;\n        }\n    }\n    return defaulted;\n}\nfunction Visit(schema, references, value) {\n    const references_ = Pushref(schema, references);\n    const schema_ = schema;\n    switch (schema_[Kind]) {\n        case 'Array':\n            return FromArray(schema_, references_, value);\n        case 'Date':\n            return FromDate(schema_, references_, value);\n        case 'Import':\n            return FromImport(schema_, references_, value);\n        case 'Intersect':\n            return FromIntersect(schema_, references_, value);\n        case 'Object':\n            return FromObject(schema_, references_, value);\n        case 'Record':\n            return FromRecord(schema_, references_, value);\n        case 'Ref':\n            return FromRef(schema_, references_, value);\n        case 'This':\n            return FromThis(schema_, references_, value);\n        case 'Tuple':\n            return FromTuple(schema_, references_, value);\n        case 'Union':\n            return FromUnion(schema_, references_, value);\n        default:\n            return ValueOrDefault(schema_, value);\n    }\n}\n/** `[Mutable]` Generates missing properties on a value using default schema annotations if available. This function does not check the value and returns an unknown type. You should Check the result before use. Default is a mutable operation. To avoid mutation, Clone the value first. */\nexport function Default(...args) {\n    return args.length === 3 ? Visit(args[0], args[1], args[2]) : Visit(args[0], [], args[1]);\n}\n", "import { HasPropertyKey, IsStandardObject, IsArray, IsTypedArray, IsValueType } from '../guard/index.mjs';\nimport { ValuePointer } from '../pointer/index.mjs';\nimport { Clone } from '../clone/index.mjs';\nimport { Equal } from '../equal/equal.mjs';\nimport { TypeBoxError } from '../../type/error/index.mjs';\nimport { Literal } from '../../type/literal/index.mjs';\nimport { Object } from '../../type/object/index.mjs';\nimport { String } from '../../type/string/index.mjs';\nimport { Unknown } from '../../type/unknown/index.mjs';\nimport { Union } from '../../type/union/index.mjs';\nexport const Insert = Object({\n    type: Literal('insert'),\n    path: String(),\n    value: Unknown(),\n});\nexport const Update = Object({\n    type: Literal('update'),\n    path: String(),\n    value: Unknown(),\n});\nexport const Delete = Object({\n    type: Literal('delete'),\n    path: String(),\n});\nexport const Edit = Union([Insert, Update, Delete]);\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\nexport class ValueDiffError extends TypeBoxError {\n    constructor(value, message) {\n        super(message);\n        this.value = value;\n    }\n}\n// ------------------------------------------------------------------\n// Command Factory\n// ------------------------------------------------------------------\nfunction CreateUpdate(path, value) {\n    return { type: 'update', path, value };\n}\nfunction CreateInsert(path, value) {\n    return { type: 'insert', path, value };\n}\nfunction CreateDelete(path) {\n    return { type: 'delete', path };\n}\n// ------------------------------------------------------------------\n// AssertDiffable\n// ------------------------------------------------------------------\nfunction AssertDiffable(value) {\n    if (globalThis.Object.getOwnPropertySymbols(value).length > 0)\n        throw new ValueDiffError(value, 'Cannot diff objects with symbols');\n}\n// ------------------------------------------------------------------\n// Diffing Generators\n// ------------------------------------------------------------------\nfunction* ObjectType(path, current, next) {\n    AssertDiffable(current);\n    AssertDiffable(next);\n    if (!IsStandardObject(next))\n        return yield CreateUpdate(path, next);\n    const currentKeys = globalThis.Object.getOwnPropertyNames(current);\n    const nextKeys = globalThis.Object.getOwnPropertyNames(next);\n    // ----------------------------------------------------------------\n    // inserts\n    // ----------------------------------------------------------------\n    for (const key of nextKeys) {\n        if (HasPropertyKey(current, key))\n            continue;\n        yield CreateInsert(`${path}/${key}`, next[key]);\n    }\n    // ----------------------------------------------------------------\n    // updates\n    // ----------------------------------------------------------------\n    for (const key of currentKeys) {\n        if (!HasPropertyKey(next, key))\n            continue;\n        if (Equal(current, next))\n            continue;\n        yield* Visit(`${path}/${key}`, current[key], next[key]);\n    }\n    // ----------------------------------------------------------------\n    // deletes\n    // ----------------------------------------------------------------\n    for (const key of currentKeys) {\n        if (HasPropertyKey(next, key))\n            continue;\n        yield CreateDelete(`${path}/${key}`);\n    }\n}\nfunction* ArrayType(path, current, next) {\n    if (!IsArray(next))\n        return yield CreateUpdate(path, next);\n    for (let i = 0; i < Math.min(current.length, next.length); i++) {\n        yield* Visit(`${path}/${i}`, current[i], next[i]);\n    }\n    for (let i = 0; i < next.length; i++) {\n        if (i < current.length)\n            continue;\n        yield CreateInsert(`${path}/${i}`, next[i]);\n    }\n    for (let i = current.length - 1; i >= 0; i--) {\n        if (i < next.length)\n            continue;\n        yield CreateDelete(`${path}/${i}`);\n    }\n}\nfunction* TypedArrayType(path, current, next) {\n    if (!IsTypedArray(next) || current.length !== next.length || globalThis.Object.getPrototypeOf(current).constructor.name !== globalThis.Object.getPrototypeOf(next).constructor.name)\n        return yield CreateUpdate(path, next);\n    for (let i = 0; i < Math.min(current.length, next.length); i++) {\n        yield* Visit(`${path}/${i}`, current[i], next[i]);\n    }\n}\nfunction* ValueType(path, current, next) {\n    if (current === next)\n        return;\n    yield CreateUpdate(path, next);\n}\nfunction* Visit(path, current, next) {\n    if (IsStandardObject(current))\n        return yield* ObjectType(path, current, next);\n    if (IsArray(current))\n        return yield* ArrayType(path, current, next);\n    if (IsTypedArray(current))\n        return yield* TypedArrayType(path, current, next);\n    if (IsValueType(current))\n        return yield* ValueType(path, current, next);\n    throw new ValueDiffError(current, 'Unable to diff value');\n}\n// ------------------------------------------------------------------\n// Diff\n// ------------------------------------------------------------------\nexport function Diff(current, next) {\n    return [...Visit('', current, next)];\n}\n// ------------------------------------------------------------------\n// Patch\n// ------------------------------------------------------------------\nfunction IsRootUpdate(edits) {\n    return edits.length > 0 && edits[0].path === '' && edits[0].type === 'update';\n}\nfunction IsIdentity(edits) {\n    return edits.length === 0;\n}\nexport function Patch(current, edits) {\n    if (IsRootUpdate(edits)) {\n        return Clone(edits[0].value);\n    }\n    if (IsIdentity(edits)) {\n        return Clone(current);\n    }\n    const clone = Clone(current);\n    for (const edit of edits) {\n        switch (edit.type) {\n            case 'insert': {\n                ValuePointer.Set(clone, edit.path, edit.value);\n                break;\n            }\n            case 'update': {\n                ValuePointer.Set(clone, edit.path, edit.value);\n                break;\n            }\n            case 'delete': {\n                ValuePointer.Delete(clone, edit.path);\n                break;\n            }\n        }\n    }\n    return clone;\n}\n", "export * as ValuePointer from './pointer.mjs';\n", "import { TypeBoxError } from '../../type/error/index.mjs';\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\nexport class ValuePointerRootSetError extends TypeBoxError {\n    constructor(value, path, update) {\n        super('Cannot set root value');\n        this.value = value;\n        this.path = path;\n        this.update = update;\n    }\n}\nexport class ValuePointerRootDeleteError extends TypeBoxError {\n    constructor(value, path) {\n        super('Cannot delete root value');\n        this.value = value;\n        this.path = path;\n    }\n}\n// ------------------------------------------------------------------\n// ValuePointer\n// ------------------------------------------------------------------\n/** Provides functionality to update values through RFC6901 string pointers */\n// prettier-ignore\nfunction Escape(component) {\n    return component.indexOf('~') === -1 ? component : component.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n/** Formats the given pointer into navigable key components */\n// prettier-ignore\nexport function* Format(pointer) {\n    if (pointer === '')\n        return;\n    let [start, end] = [0, 0];\n    for (let i = 0; i < pointer.length; i++) {\n        const char = pointer.charAt(i);\n        if (char === '/') {\n            if (i === 0) {\n                start = i + 1;\n            }\n            else {\n                end = i;\n                yield Escape(pointer.slice(start, end));\n                start = i + 1;\n            }\n        }\n        else {\n            end = i;\n        }\n    }\n    yield Escape(pointer.slice(start));\n}\n/** Sets the value at the given pointer. If the value at the pointer does not exist it is created */\n// prettier-ignore\nexport function Set(value, pointer, update) {\n    if (pointer === '')\n        throw new ValuePointerRootSetError(value, pointer, update);\n    let [owner, next, key] = [null, value, ''];\n    for (const component of Format(pointer)) {\n        if (next[component] === undefined)\n            next[component] = {};\n        owner = next;\n        next = next[component];\n        key = component;\n    }\n    owner[key] = update;\n}\n/** Deletes a value at the given pointer */\n// prettier-ignore\nexport function Delete(value, pointer) {\n    if (pointer === '')\n        throw new ValuePointerRootDeleteError(value, pointer);\n    let [owner, next, key] = [null, value, ''];\n    for (const component of Format(pointer)) {\n        if (next[component] === undefined || next[component] === null)\n            return;\n        owner = next;\n        next = next[component];\n        key = component;\n    }\n    if (Array.isArray(owner)) {\n        const index = parseInt(key);\n        owner.splice(index, 1);\n    }\n    else {\n        delete owner[key];\n    }\n}\n/** Returns true if a value exists at the given pointer */\n// prettier-ignore\nexport function Has(value, pointer) {\n    if (pointer === '')\n        return true;\n    let [owner, next, key] = [null, value, ''];\n    for (const component of Format(pointer)) {\n        if (next[component] === undefined)\n            return false;\n        owner = next;\n        next = next[component];\n        key = component;\n    }\n    return Object.getOwnPropertyNames(owner).includes(key);\n}\n/** Gets the value at the given pointer */\n// prettier-ignore\nexport function Get(value, pointer) {\n    if (pointer === '')\n        return value;\n    let current = value;\n    for (const component of Format(pointer)) {\n        if (current[component] === undefined)\n            return undefined;\n        current = current[component];\n    }\n    return current;\n}\n", "import { IsObject, IsDate, IsArray, IsTypedArray, IsValueType } from '../guard/index.mjs';\n// ------------------------------------------------------------------\n// Equality Checks\n// ------------------------------------------------------------------\nfunction ObjectType(left, right) {\n    if (!IsObject(right))\n        return false;\n    const leftKeys = [...Object.keys(left), ...Object.getOwnPropertySymbols(left)];\n    const rightKeys = [...Object.keys(right), ...Object.getOwnPropertySymbols(right)];\n    if (leftKeys.length !== rightKeys.length)\n        return false;\n    return leftKeys.every((key) => Equal(left[key], right[key]));\n}\nfunction DateType(left, right) {\n    return IsDate(right) && left.getTime() === right.getTime();\n}\nfunction ArrayType(left, right) {\n    if (!IsArray(right) || left.length !== right.length)\n        return false;\n    return left.every((value, index) => Equal(value, right[index]));\n}\nfunction TypedArrayType(left, right) {\n    if (!IsTypedArray(right) || left.length !== right.length || Object.getPrototypeOf(left).constructor.name !== Object.getPrototypeOf(right).constructor.name)\n        return false;\n    return left.every((value, index) => Equal(value, right[index]));\n}\nfunction ValueType(left, right) {\n    return left === right;\n}\n// ------------------------------------------------------------------\n// Equal\n// ------------------------------------------------------------------\n/** Returns true if the left value deep-equals the right */\nexport function Equal(left, right) {\n    if (IsDate(left))\n        return DateType(left, right);\n    if (IsTypedArray(left))\n        return TypedArrayType(left, right);\n    if (IsArray(left))\n        return ArrayType(left, right);\n    if (IsObject(left))\n        return ObjectType(left, right);\n    if (IsValueType(left))\n        return ValueType(left, right);\n    throw new Error('ValueEquals: Unable to compare value');\n}\n", "import { HasTransform, TransformEncode, TransformEncodeCheckError } from '../transform/index.mjs';\nimport { Check } from '../check/index.mjs';\nimport { Errors } from '../../errors/index.mjs';\n/** Encodes a value or throws if error */\nexport function Encode(...args) {\n    const [schema, references, value] = args.length === 3 ? [args[0], args[1], args[2]] : [args[0], [], args[1]];\n    const encoded = HasTransform(schema, references) ? TransformEncode(schema, references, value) : value;\n    if (!Check(schema, references, encoded))\n        throw new TransformEncodeCheckError(schema, encoded, Errors(schema, references, encoded).First());\n    return encoded;\n}\n", "import { IsObject, IsArray, IsTypedArray, IsValueType } from '../guard/index.mjs';\nimport { ValuePointer } from '../pointer/index.mjs';\nimport { Clone } from '../clone/index.mjs';\nimport { TypeBoxError } from '../../type/error/index.mjs';\n// ------------------------------------------------------------------\n// IsStandardObject\n// ------------------------------------------------------------------\nfunction IsStandardObject(value) {\n    return IsObject(value) && !IsArray(value);\n}\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\nexport class ValueMutateError extends TypeBoxError {\n    constructor(message) {\n        super(message);\n    }\n}\nfunction ObjectType(root, path, current, next) {\n    if (!IsStandardObject(current)) {\n        ValuePointer.Set(root, path, Clone(next));\n    }\n    else {\n        const currentKeys = Object.getOwnPropertyNames(current);\n        const nextKeys = Object.getOwnPropertyNames(next);\n        for (const currentKey of currentKeys) {\n            if (!nextKeys.includes(currentKey)) {\n                delete current[currentKey];\n            }\n        }\n        for (const nextKey of nextKeys) {\n            if (!currentKeys.includes(nextKey)) {\n                current[nextKey] = null;\n            }\n        }\n        for (const nextKey of nextKeys) {\n            Visit(root, `${path}/${nextKey}`, current[nextKey], next[nextKey]);\n        }\n    }\n}\nfunction ArrayType(root, path, current, next) {\n    if (!IsArray(current)) {\n        ValuePointer.Set(root, path, Clone(next));\n    }\n    else {\n        for (let index = 0; index < next.length; index++) {\n            Visit(root, `${path}/${index}`, current[index], next[index]);\n        }\n        current.splice(next.length);\n    }\n}\nfunction TypedArrayType(root, path, current, next) {\n    if (IsTypedArray(current) && current.length === next.length) {\n        for (let i = 0; i < current.length; i++) {\n            current[i] = next[i];\n        }\n    }\n    else {\n        ValuePointer.Set(root, path, Clone(next));\n    }\n}\nfunction ValueType(root, path, current, next) {\n    if (current === next)\n        return;\n    ValuePointer.Set(root, path, next);\n}\nfunction Visit(root, path, current, next) {\n    if (IsArray(next))\n        return ArrayType(root, path, current, next);\n    if (IsTypedArray(next))\n        return TypedArrayType(root, path, current, next);\n    if (IsStandardObject(next))\n        return ObjectType(root, path, current, next);\n    if (IsValueType(next))\n        return ValueType(root, path, current, next);\n}\n// ------------------------------------------------------------------\n// IsNonMutableValue\n// ------------------------------------------------------------------\nfunction IsNonMutableValue(value) {\n    return IsTypedArray(value) || IsValueType(value);\n}\nfunction IsMismatchedValue(current, next) {\n    // prettier-ignore\n    return ((IsStandardObject(current) && IsArray(next)) ||\n        (IsArray(current) && IsStandardObject(next)));\n}\n// ------------------------------------------------------------------\n// Mutate\n// ------------------------------------------------------------------\n/** `[Mutable]` Performs a deep mutable value assignment while retaining internal references */\nexport function Mutate(current, next) {\n    if (IsNonMutableValue(current) || IsNonMutableValue(next))\n        throw new ValueMutateError('Only object and array types can be mutated at the root level');\n    if (IsMismatchedValue(current, next))\n        throw new ValueMutateError('Cannot assign due type mismatch of assignable values');\n    Visit(current, '', current, next);\n}\n", "import { TypeBoxError } from '../../type/error/index.mjs';\nimport { TransformDecode, TransformEncode, HasTransform } from '../transform/index.mjs';\nimport { Assert } from '../assert/index.mjs';\nimport { Cast } from '../cast/index.mjs';\nimport { Clean } from '../clean/index.mjs';\nimport { Clone } from '../clone/index.mjs';\nimport { Convert } from '../convert/index.mjs';\nimport { Default } from '../default/index.mjs';\n// ------------------------------------------------------------------\n// Guards\n// ------------------------------------------------------------------\nimport { IsArray, IsUndefined } from '../guard/index.mjs';\n// ------------------------------------------------------------------\n// Error\n// ------------------------------------------------------------------\nexport class ParseError extends TypeBoxError {\n    constructor(message) {\n        super(message);\n    }\n}\n// prettier-ignore\nexport var ParseRegistry;\n(function (ParseRegistry) {\n    const registry = new Map([\n        ['Assert', (type, references, value) => { Assert(type, references, value); return value; }],\n        ['Cast', (type, references, value) => Cast(type, references, value)],\n        ['Clean', (type, references, value) => Clean(type, references, value)],\n        ['Clone', (_type, _references, value) => Clone(value)],\n        ['Convert', (type, references, value) => Convert(type, references, value)],\n        ['Decode', (type, references, value) => (HasTransform(type, references) ? TransformDecode(type, references, value) : value)],\n        ['Default', (type, references, value) => Default(type, references, value)],\n        ['Encode', (type, references, value) => (HasTransform(type, references) ? TransformEncode(type, references, value) : value)],\n    ]);\n    // Deletes an entry from the registry\n    function Delete(key) {\n        registry.delete(key);\n    }\n    ParseRegistry.Delete = Delete;\n    // Sets an entry in the registry\n    function Set(key, callback) {\n        registry.set(key, callback);\n    }\n    ParseRegistry.Set = Set;\n    // Gets an entry in the registry\n    function Get(key) {\n        return registry.get(key);\n    }\n    ParseRegistry.Get = Get;\n})(ParseRegistry || (ParseRegistry = {}));\n// ------------------------------------------------------------------\n// Default Parse Pipeline\n// ------------------------------------------------------------------\n// prettier-ignore\nexport const ParseDefault = [\n    'Clone',\n    'Clean',\n    'Default',\n    'Convert',\n    'Assert',\n    'Decode'\n];\n// ------------------------------------------------------------------\n// ParseValue\n// ------------------------------------------------------------------\nfunction ParseValue(operations, type, references, value) {\n    return operations.reduce((value, operationKey) => {\n        const operation = ParseRegistry.Get(operationKey);\n        if (IsUndefined(operation))\n            throw new ParseError(`Unable to find Parse operation '${operationKey}'`);\n        return operation(type, references, value);\n    }, value);\n}\n/** Parses a value */\nexport function Parse(...args) {\n    // prettier-ignore\n    const [operations, schema, references, value] = (args.length === 4 ? [args[0], args[1], args[2], args[3]] :\n        args.length === 3 ? IsArray(args[0]) ? [args[0], args[1], [], args[2]] : [ParseDefault, args[0], args[1], args[2]] :\n            args.length === 2 ? [ParseDefault, args[0], [], args[1]] :\n                (() => { throw new ParseError('Invalid Arguments'); })());\n    return ParseValue(operations, schema, references, value);\n}\n", "export * as Value from './value.mjs';\n", "export { Errors, ValueErrorIterator } from '../../errors/index.mjs';\nexport { Assert } from '../assert/index.mjs';\nexport { Cast } from '../cast/index.mjs';\nexport { Check } from '../check/index.mjs';\nexport { Clean } from '../clean/index.mjs';\nexport { Clone } from '../clone/index.mjs';\nexport { Convert } from '../convert/index.mjs';\nexport { Create } from '../create/index.mjs';\nexport { Decode } from '../decode/index.mjs';\nexport { Default } from '../default/index.mjs';\nexport { Diff, Patch, Edit } from '../delta/index.mjs';\nexport { Encode } from '../encode/index.mjs';\nexport { Equal } from '../equal/index.mjs';\nexport { Hash } from '../hash/index.mjs';\nexport { Mutate } from '../mutate/index.mjs';\nexport { Parse } from '../parse/index.mjs';\n", "import { TransformEncode, TransformDecode, HasTransform, TransformDecodeCheckError, TransformEncodeCheckError } from '../value/transform/index.mjs';\nimport { Errors } from '../errors/index.mjs';\nimport { TypeSystemPolicy } from '../system/index.mjs';\nimport { TypeBoxError } from '../type/error/index.mjs';\nimport { Deref } from '../value/deref/index.mjs';\nimport { Hash } from '../value/hash/index.mjs';\nimport { Kind } from '../type/symbols/index.mjs';\nimport { TypeRegistry, FormatRegistry } from '../type/registry/index.mjs';\nimport { KeyOfPattern } from '../type/keyof/index.mjs';\nimport { ExtendsUndefinedCheck } from '../type/extends/extends-undefined.mjs';\nimport { Never } from '../type/never/index.mjs';\nimport { Ref } from '../type/ref/index.mjs';\n// ------------------------------------------------------------------\n// ValueGuard\n// ------------------------------------------------------------------\nimport { IsArray, IsString, IsNumber, IsBigInt } from '../value/guard/index.mjs';\n// ------------------------------------------------------------------\n// TypeGuard\n// ------------------------------------------------------------------\nimport { IsSchema } from '../type/guard/type.mjs';\n// ------------------------------------------------------------------\n// TypeCheck\n// ------------------------------------------------------------------\nexport class TypeCheck {\n    constructor(schema, references, checkFunc, code) {\n        this.schema = schema;\n        this.references = references;\n        this.checkFunc = checkFunc;\n        this.code = code;\n        this.hasTransform = HasTransform(schema, references);\n    }\n    /** Returns the generated assertion code used to validate this type. */\n    Code() {\n        return this.code;\n    }\n    /** Returns the schema type used to validate */\n    Schema() {\n        return this.schema;\n    }\n    /** Returns reference types used to validate */\n    References() {\n        return this.references;\n    }\n    /** Returns an iterator for each error in this value. */\n    Errors(value) {\n        return Errors(this.schema, this.references, value);\n    }\n    /** Returns true if the value matches the compiled type. */\n    Check(value) {\n        return this.checkFunc(value);\n    }\n    /** Decodes a value or throws if error */\n    Decode(value) {\n        if (!this.checkFunc(value))\n            throw new TransformDecodeCheckError(this.schema, value, this.Errors(value).First());\n        return (this.hasTransform ? TransformDecode(this.schema, this.references, value) : value);\n    }\n    /** Encodes a value or throws if error */\n    Encode(value) {\n        const encoded = this.hasTransform ? TransformEncode(this.schema, this.references, value) : value;\n        if (!this.checkFunc(encoded))\n            throw new TransformEncodeCheckError(this.schema, value, this.Errors(value).First());\n        return encoded;\n    }\n}\n// ------------------------------------------------------------------\n// Character\n// ------------------------------------------------------------------\nvar Character;\n(function (Character) {\n    function DollarSign(code) {\n        return code === 36;\n    }\n    Character.DollarSign = DollarSign;\n    function IsUnderscore(code) {\n        return code === 95;\n    }\n    Character.IsUnderscore = IsUnderscore;\n    function IsAlpha(code) {\n        return (code >= 65 && code <= 90) || (code >= 97 && code <= 122);\n    }\n    Character.IsAlpha = IsAlpha;\n    function IsNumeric(code) {\n        return code >= 48 && code <= 57;\n    }\n    Character.IsNumeric = IsNumeric;\n})(Character || (Character = {}));\n// ------------------------------------------------------------------\n// MemberExpression\n// ------------------------------------------------------------------\nvar MemberExpression;\n(function (MemberExpression) {\n    function IsFirstCharacterNumeric(value) {\n        if (value.length === 0)\n            return false;\n        return Character.IsNumeric(value.charCodeAt(0));\n    }\n    function IsAccessor(value) {\n        if (IsFirstCharacterNumeric(value))\n            return false;\n        for (let i = 0; i < value.length; i++) {\n            const code = value.charCodeAt(i);\n            const check = Character.IsAlpha(code) || Character.IsNumeric(code) || Character.DollarSign(code) || Character.IsUnderscore(code);\n            if (!check)\n                return false;\n        }\n        return true;\n    }\n    function EscapeHyphen(key) {\n        return key.replace(/'/g, \"\\\\'\");\n    }\n    function Encode(object, key) {\n        return IsAccessor(key) ? `${object}.${key}` : `${object}['${EscapeHyphen(key)}']`;\n    }\n    MemberExpression.Encode = Encode;\n})(MemberExpression || (MemberExpression = {}));\n// ------------------------------------------------------------------\n// Identifier\n// ------------------------------------------------------------------\nvar Identifier;\n(function (Identifier) {\n    function Encode($id) {\n        const buffer = [];\n        for (let i = 0; i < $id.length; i++) {\n            const code = $id.charCodeAt(i);\n            if (Character.IsNumeric(code) || Character.IsAlpha(code)) {\n                buffer.push($id.charAt(i));\n            }\n            else {\n                buffer.push(`_${code}_`);\n            }\n        }\n        return buffer.join('').replace(/__/g, '_');\n    }\n    Identifier.Encode = Encode;\n})(Identifier || (Identifier = {}));\n// ------------------------------------------------------------------\n// LiteralString\n// ------------------------------------------------------------------\nvar LiteralString;\n(function (LiteralString) {\n    function Escape(content) {\n        return content.replace(/'/g, \"\\\\'\");\n    }\n    LiteralString.Escape = Escape;\n})(LiteralString || (LiteralString = {}));\n// ------------------------------------------------------------------\n// Errors\n// ------------------------------------------------------------------\nexport class TypeCompilerUnknownTypeError extends TypeBoxError {\n    constructor(schema) {\n        super('Unknown type');\n        this.schema = schema;\n    }\n}\nexport class TypeCompilerTypeGuardError extends TypeBoxError {\n    constructor(schema) {\n        super('Preflight validation check failed to guard for the given schema');\n        this.schema = schema;\n    }\n}\n// ------------------------------------------------------------------\n// Policy\n// ------------------------------------------------------------------\nexport var Policy;\n(function (Policy) {\n    function IsExactOptionalProperty(value, key, expression) {\n        return TypeSystemPolicy.ExactOptionalPropertyTypes ? `('${key}' in ${value} ? ${expression} : true)` : `(${MemberExpression.Encode(value, key)} !== undefined ? ${expression} : true)`;\n    }\n    Policy.IsExactOptionalProperty = IsExactOptionalProperty;\n    function IsObjectLike(value) {\n        return !TypeSystemPolicy.AllowArrayObject ? `(typeof ${value} === 'object' && ${value} !== null && !Array.isArray(${value}))` : `(typeof ${value} === 'object' && ${value} !== null)`;\n    }\n    Policy.IsObjectLike = IsObjectLike;\n    function IsRecordLike(value) {\n        return !TypeSystemPolicy.AllowArrayObject\n            ? `(typeof ${value} === 'object' && ${value} !== null && !Array.isArray(${value}) && !(${value} instanceof Date) && !(${value} instanceof Uint8Array))`\n            : `(typeof ${value} === 'object' && ${value} !== null && !(${value} instanceof Date) && !(${value} instanceof Uint8Array))`;\n    }\n    Policy.IsRecordLike = IsRecordLike;\n    function IsNumberLike(value) {\n        return TypeSystemPolicy.AllowNaN ? `typeof ${value} === 'number'` : `Number.isFinite(${value})`;\n    }\n    Policy.IsNumberLike = IsNumberLike;\n    function IsVoidLike(value) {\n        return TypeSystemPolicy.AllowNullVoid ? `(${value} === undefined || ${value} === null)` : `${value} === undefined`;\n    }\n    Policy.IsVoidLike = IsVoidLike;\n})(Policy || (Policy = {}));\n/** Compiles Types for Runtime Type Checking */\nexport var TypeCompiler;\n(function (TypeCompiler) {\n    // ----------------------------------------------------------------\n    // Guards\n    // ----------------------------------------------------------------\n    function IsAnyOrUnknown(schema) {\n        return schema[Kind] === 'Any' || schema[Kind] === 'Unknown';\n    }\n    // ----------------------------------------------------------------\n    // Types\n    // ----------------------------------------------------------------\n    function* FromAny(schema, references, value) {\n        yield 'true';\n    }\n    function* FromArgument(schema, references, value) {\n        yield 'true';\n    }\n    function* FromArray(schema, references, value) {\n        yield `Array.isArray(${value})`;\n        const [parameter, accumulator] = [CreateParameter('value', 'any'), CreateParameter('acc', 'number')];\n        if (IsNumber(schema.maxItems))\n            yield `${value}.length <= ${schema.maxItems}`;\n        if (IsNumber(schema.minItems))\n            yield `${value}.length >= ${schema.minItems}`;\n        const elementExpression = CreateExpression(schema.items, references, 'value');\n        yield `${value}.every((${parameter}) => ${elementExpression})`;\n        if (IsSchema(schema.contains) || IsNumber(schema.minContains) || IsNumber(schema.maxContains)) {\n            const containsSchema = IsSchema(schema.contains) ? schema.contains : Never();\n            const checkExpression = CreateExpression(containsSchema, references, 'value');\n            const checkMinContains = IsNumber(schema.minContains) ? [`(count >= ${schema.minContains})`] : [];\n            const checkMaxContains = IsNumber(schema.maxContains) ? [`(count <= ${schema.maxContains})`] : [];\n            const checkCount = `const count = value.reduce((${accumulator}, ${parameter}) => ${checkExpression} ? acc + 1 : acc, 0)`;\n            const check = [`(count > 0)`, ...checkMinContains, ...checkMaxContains].join(' && ');\n            yield `((${parameter}) => { ${checkCount}; return ${check}})(${value})`;\n        }\n        if (schema.uniqueItems === true) {\n            const check = `const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true`;\n            const block = `const set = new Set(); for(const element of value) { ${check} }`;\n            yield `((${parameter}) => { ${block} )(${value})`;\n        }\n    }\n    function* FromAsyncIterator(schema, references, value) {\n        yield `(typeof value === 'object' && Symbol.asyncIterator in ${value})`;\n    }\n    function* FromBigInt(schema, references, value) {\n        yield `(typeof ${value} === 'bigint')`;\n        if (IsBigInt(schema.exclusiveMaximum))\n            yield `${value} < BigInt(${schema.exclusiveMaximum})`;\n        if (IsBigInt(schema.exclusiveMinimum))\n            yield `${value} > BigInt(${schema.exclusiveMinimum})`;\n        if (IsBigInt(schema.maximum))\n            yield `${value} <= BigInt(${schema.maximum})`;\n        if (IsBigInt(schema.minimum))\n            yield `${value} >= BigInt(${schema.minimum})`;\n        if (IsBigInt(schema.multipleOf))\n            yield `(${value} % BigInt(${schema.multipleOf})) === 0`;\n    }\n    function* FromBoolean(schema, references, value) {\n        yield `(typeof ${value} === 'boolean')`;\n    }\n    function* FromConstructor(schema, references, value) {\n        yield* Visit(schema.returns, references, `${value}.prototype`);\n    }\n    function* FromDate(schema, references, value) {\n        yield `(${value} instanceof Date) && Number.isFinite(${value}.getTime())`;\n        if (IsNumber(schema.exclusiveMaximumTimestamp))\n            yield `${value}.getTime() < ${schema.exclusiveMaximumTimestamp}`;\n        if (IsNumber(schema.exclusiveMinimumTimestamp))\n            yield `${value}.getTime() > ${schema.exclusiveMinimumTimestamp}`;\n        if (IsNumber(schema.maximumTimestamp))\n            yield `${value}.getTime() <= ${schema.maximumTimestamp}`;\n        if (IsNumber(schema.minimumTimestamp))\n            yield `${value}.getTime() >= ${schema.minimumTimestamp}`;\n        if (IsNumber(schema.multipleOfTimestamp))\n            yield `(${value}.getTime() % ${schema.multipleOfTimestamp}) === 0`;\n    }\n    function* FromFunction(schema, references, value) {\n        yield `(typeof ${value} === 'function')`;\n    }\n    function* FromImport(schema, references, value) {\n        const members = globalThis.Object.getOwnPropertyNames(schema.$defs).reduce((result, key) => {\n            return [...result, schema.$defs[key]];\n        }, []);\n        yield* Visit(Ref(schema.$ref), [...references, ...members], value);\n    }\n    function* FromInteger(schema, references, value) {\n        yield `Number.isInteger(${value})`;\n        if (IsNumber(schema.exclusiveMaximum))\n            yield `${value} < ${schema.exclusiveMaximum}`;\n        if (IsNumber(schema.exclusiveMinimum))\n            yield `${value} > ${schema.exclusiveMinimum}`;\n        if (IsNumber(schema.maximum))\n            yield `${value} <= ${schema.maximum}`;\n        if (IsNumber(schema.minimum))\n            yield `${value} >= ${schema.minimum}`;\n        if (IsNumber(schema.multipleOf))\n            yield `(${value} % ${schema.multipleOf}) === 0`;\n    }\n    function* FromIntersect(schema, references, value) {\n        const check1 = schema.allOf.map((schema) => CreateExpression(schema, references, value)).join(' && ');\n        if (schema.unevaluatedProperties === false) {\n            const keyCheck = CreateVariable(`${new RegExp(KeyOfPattern(schema))};`);\n            const check2 = `Object.getOwnPropertyNames(${value}).every(key => ${keyCheck}.test(key))`;\n            yield `(${check1} && ${check2})`;\n        }\n        else if (IsSchema(schema.unevaluatedProperties)) {\n            const keyCheck = CreateVariable(`${new RegExp(KeyOfPattern(schema))};`);\n            const check2 = `Object.getOwnPropertyNames(${value}).every(key => ${keyCheck}.test(key) || ${CreateExpression(schema.unevaluatedProperties, references, `${value}[key]`)})`;\n            yield `(${check1} && ${check2})`;\n        }\n        else {\n            yield `(${check1})`;\n        }\n    }\n    function* FromIterator(schema, references, value) {\n        yield `(typeof value === 'object' && Symbol.iterator in ${value})`;\n    }\n    function* FromLiteral(schema, references, value) {\n        if (typeof schema.const === 'number' || typeof schema.const === 'boolean') {\n            yield `(${value} === ${schema.const})`;\n        }\n        else {\n            yield `(${value} === '${LiteralString.Escape(schema.const)}')`;\n        }\n    }\n    function* FromNever(schema, references, value) {\n        yield `false`;\n    }\n    function* FromNot(schema, references, value) {\n        const expression = CreateExpression(schema.not, references, value);\n        yield `(!${expression})`;\n    }\n    function* FromNull(schema, references, value) {\n        yield `(${value} === null)`;\n    }\n    function* FromNumber(schema, references, value) {\n        yield Policy.IsNumberLike(value);\n        if (IsNumber(schema.exclusiveMaximum))\n            yield `${value} < ${schema.exclusiveMaximum}`;\n        if (IsNumber(schema.exclusiveMinimum))\n            yield `${value} > ${schema.exclusiveMinimum}`;\n        if (IsNumber(schema.maximum))\n            yield `${value} <= ${schema.maximum}`;\n        if (IsNumber(schema.minimum))\n            yield `${value} >= ${schema.minimum}`;\n        if (IsNumber(schema.multipleOf))\n            yield `(${value} % ${schema.multipleOf}) === 0`;\n    }\n    function* FromObject(schema, references, value) {\n        yield Policy.IsObjectLike(value);\n        if (IsNumber(schema.minProperties))\n            yield `Object.getOwnPropertyNames(${value}).length >= ${schema.minProperties}`;\n        if (IsNumber(schema.maxProperties))\n            yield `Object.getOwnPropertyNames(${value}).length <= ${schema.maxProperties}`;\n        const knownKeys = Object.getOwnPropertyNames(schema.properties);\n        for (const knownKey of knownKeys) {\n            const memberExpression = MemberExpression.Encode(value, knownKey);\n            const property = schema.properties[knownKey];\n            if (schema.required && schema.required.includes(knownKey)) {\n                yield* Visit(property, references, memberExpression);\n                if (ExtendsUndefinedCheck(property) || IsAnyOrUnknown(property))\n                    yield `('${knownKey}' in ${value})`;\n            }\n            else {\n                const expression = CreateExpression(property, references, memberExpression);\n                yield Policy.IsExactOptionalProperty(value, knownKey, expression);\n            }\n        }\n        if (schema.additionalProperties === false) {\n            if (schema.required && schema.required.length === knownKeys.length) {\n                yield `Object.getOwnPropertyNames(${value}).length === ${knownKeys.length}`;\n            }\n            else {\n                const keys = `[${knownKeys.map((key) => `'${key}'`).join(', ')}]`;\n                yield `Object.getOwnPropertyNames(${value}).every(key => ${keys}.includes(key))`;\n            }\n        }\n        if (typeof schema.additionalProperties === 'object') {\n            const expression = CreateExpression(schema.additionalProperties, references, `${value}[key]`);\n            const keys = `[${knownKeys.map((key) => `'${key}'`).join(', ')}]`;\n            yield `(Object.getOwnPropertyNames(${value}).every(key => ${keys}.includes(key) || ${expression}))`;\n        }\n    }\n    function* FromPromise(schema, references, value) {\n        yield `${value} instanceof Promise`;\n    }\n    function* FromRecord(schema, references, value) {\n        yield Policy.IsRecordLike(value);\n        if (IsNumber(schema.minProperties))\n            yield `Object.getOwnPropertyNames(${value}).length >= ${schema.minProperties}`;\n        if (IsNumber(schema.maxProperties))\n            yield `Object.getOwnPropertyNames(${value}).length <= ${schema.maxProperties}`;\n        const [patternKey, patternSchema] = Object.entries(schema.patternProperties)[0];\n        const variable = CreateVariable(`${new RegExp(patternKey)}`);\n        const check1 = CreateExpression(patternSchema, references, 'value');\n        const check2 = IsSchema(schema.additionalProperties) ? CreateExpression(schema.additionalProperties, references, value) : schema.additionalProperties === false ? 'false' : 'true';\n        const expression = `(${variable}.test(key) ? ${check1} : ${check2})`;\n        yield `(Object.entries(${value}).every(([key, value]) => ${expression}))`;\n    }\n    function* FromRef(schema, references, value) {\n        const target = Deref(schema, references);\n        // Reference: If we have seen this reference before we can just yield and return the function call.\n        // If this isn't the case we defer to visit to generate and set the function for subsequent passes.\n        if (state.functions.has(schema.$ref))\n            return yield `${CreateFunctionName(schema.$ref)}(${value})`;\n        yield* Visit(target, references, value);\n    }\n    function* FromRegExp(schema, references, value) {\n        const variable = CreateVariable(`${new RegExp(schema.source, schema.flags)};`);\n        yield `(typeof ${value} === 'string')`;\n        if (IsNumber(schema.maxLength))\n            yield `${value}.length <= ${schema.maxLength}`;\n        if (IsNumber(schema.minLength))\n            yield `${value}.length >= ${schema.minLength}`;\n        yield `${variable}.test(${value})`;\n    }\n    function* FromString(schema, references, value) {\n        yield `(typeof ${value} === 'string')`;\n        if (IsNumber(schema.maxLength))\n            yield `${value}.length <= ${schema.maxLength}`;\n        if (IsNumber(schema.minLength))\n            yield `${value}.length >= ${schema.minLength}`;\n        if (schema.pattern !== undefined) {\n            const variable = CreateVariable(`${new RegExp(schema.pattern)};`);\n            yield `${variable}.test(${value})`;\n        }\n        if (schema.format !== undefined) {\n            yield `format('${schema.format}', ${value})`;\n        }\n    }\n    function* FromSymbol(schema, references, value) {\n        yield `(typeof ${value} === 'symbol')`;\n    }\n    function* FromTemplateLiteral(schema, references, value) {\n        yield `(typeof ${value} === 'string')`;\n        const variable = CreateVariable(`${new RegExp(schema.pattern)};`);\n        yield `${variable}.test(${value})`;\n    }\n    function* FromThis(schema, references, value) {\n        // Note: This types are assured to be hoisted prior to this call. Just yield the function.\n        yield `${CreateFunctionName(schema.$ref)}(${value})`;\n    }\n    function* FromTuple(schema, references, value) {\n        yield `Array.isArray(${value})`;\n        if (schema.items === undefined)\n            return yield `${value}.length === 0`;\n        yield `(${value}.length === ${schema.maxItems})`;\n        for (let i = 0; i < schema.items.length; i++) {\n            const expression = CreateExpression(schema.items[i], references, `${value}[${i}]`);\n            yield `${expression}`;\n        }\n    }\n    function* FromUndefined(schema, references, value) {\n        yield `${value} === undefined`;\n    }\n    function* FromUnion(schema, references, value) {\n        const expressions = schema.anyOf.map((schema) => CreateExpression(schema, references, value));\n        yield `(${expressions.join(' || ')})`;\n    }\n    function* FromUint8Array(schema, references, value) {\n        yield `${value} instanceof Uint8Array`;\n        if (IsNumber(schema.maxByteLength))\n            yield `(${value}.length <= ${schema.maxByteLength})`;\n        if (IsNumber(schema.minByteLength))\n            yield `(${value}.length >= ${schema.minByteLength})`;\n    }\n    function* FromUnknown(schema, references, value) {\n        yield 'true';\n    }\n    function* FromVoid(schema, references, value) {\n        yield Policy.IsVoidLike(value);\n    }\n    function* FromKind(schema, references, value) {\n        const instance = state.instances.size;\n        state.instances.set(instance, schema);\n        yield `kind('${schema[Kind]}', ${instance}, ${value})`;\n    }\n    function* Visit(schema, references, value, useHoisting = true) {\n        const references_ = IsString(schema.$id) ? [...references, schema] : references;\n        const schema_ = schema;\n        // --------------------------------------------------------------\n        // Hoisting\n        // --------------------------------------------------------------\n        if (useHoisting && IsString(schema.$id)) {\n            const functionName = CreateFunctionName(schema.$id);\n            if (state.functions.has(functionName)) {\n                return yield `${functionName}(${value})`;\n            }\n            else {\n                // Note: In the case of cyclic types, we need to create a 'functions' record\n                // to prevent infinitely re-visiting the CreateFunction. Subsequent attempts\n                // to visit will be caught by the above condition.\n                state.functions.set(functionName, '<deferred>');\n                const functionCode = CreateFunction(functionName, schema, references, 'value', false);\n                state.functions.set(functionName, functionCode);\n                return yield `${functionName}(${value})`;\n            }\n        }\n        switch (schema_[Kind]) {\n            case 'Any':\n                return yield* FromAny(schema_, references_, value);\n            case 'Argument':\n                return yield* FromArgument(schema_, references_, value);\n            case 'Array':\n                return yield* FromArray(schema_, references_, value);\n            case 'AsyncIterator':\n                return yield* FromAsyncIterator(schema_, references_, value);\n            case 'BigInt':\n                return yield* FromBigInt(schema_, references_, value);\n            case 'Boolean':\n                return yield* FromBoolean(schema_, references_, value);\n            case 'Constructor':\n                return yield* FromConstructor(schema_, references_, value);\n            case 'Date':\n                return yield* FromDate(schema_, references_, value);\n            case 'Function':\n                return yield* FromFunction(schema_, references_, value);\n            case 'Import':\n                return yield* FromImport(schema_, references_, value);\n            case 'Integer':\n                return yield* FromInteger(schema_, references_, value);\n            case 'Intersect':\n                return yield* FromIntersect(schema_, references_, value);\n            case 'Iterator':\n                return yield* FromIterator(schema_, references_, value);\n            case 'Literal':\n                return yield* FromLiteral(schema_, references_, value);\n            case 'Never':\n                return yield* FromNever(schema_, references_, value);\n            case 'Not':\n                return yield* FromNot(schema_, references_, value);\n            case 'Null':\n                return yield* FromNull(schema_, references_, value);\n            case 'Number':\n                return yield* FromNumber(schema_, references_, value);\n            case 'Object':\n                return yield* FromObject(schema_, references_, value);\n            case 'Promise':\n                return yield* FromPromise(schema_, references_, value);\n            case 'Record':\n                return yield* FromRecord(schema_, references_, value);\n            case 'Ref':\n                return yield* FromRef(schema_, references_, value);\n            case 'RegExp':\n                return yield* FromRegExp(schema_, references_, value);\n            case 'String':\n                return yield* FromString(schema_, references_, value);\n            case 'Symbol':\n                return yield* FromSymbol(schema_, references_, value);\n            case 'TemplateLiteral':\n                return yield* FromTemplateLiteral(schema_, references_, value);\n            case 'This':\n                return yield* FromThis(schema_, references_, value);\n            case 'Tuple':\n                return yield* FromTuple(schema_, references_, value);\n            case 'Undefined':\n                return yield* FromUndefined(schema_, references_, value);\n            case 'Union':\n                return yield* FromUnion(schema_, references_, value);\n            case 'Uint8Array':\n                return yield* FromUint8Array(schema_, references_, value);\n            case 'Unknown':\n                return yield* FromUnknown(schema_, references_, value);\n            case 'Void':\n                return yield* FromVoid(schema_, references_, value);\n            default:\n                if (!TypeRegistry.Has(schema_[Kind]))\n                    throw new TypeCompilerUnknownTypeError(schema);\n                return yield* FromKind(schema_, references_, value);\n        }\n    }\n    // ----------------------------------------------------------------\n    // Compiler State\n    // ----------------------------------------------------------------\n    // prettier-ignore\n    const state = {\n        language: 'javascript', // target language\n        functions: new Map(), // local functions\n        variables: new Map(), // local variables\n        instances: new Map() // exterior kind instances\n    };\n    // ----------------------------------------------------------------\n    // Compiler Factory\n    // ----------------------------------------------------------------\n    function CreateExpression(schema, references, value, useHoisting = true) {\n        return `(${[...Visit(schema, references, value, useHoisting)].join(' && ')})`;\n    }\n    function CreateFunctionName($id) {\n        return `check_${Identifier.Encode($id)}`;\n    }\n    function CreateVariable(expression) {\n        const variableName = `local_${state.variables.size}`;\n        state.variables.set(variableName, `const ${variableName} = ${expression}`);\n        return variableName;\n    }\n    function CreateFunction(name, schema, references, value, useHoisting = true) {\n        const [newline, pad] = ['\\n', (length) => ''.padStart(length, ' ')];\n        const parameter = CreateParameter('value', 'any');\n        const returns = CreateReturns('boolean');\n        const expression = [...Visit(schema, references, value, useHoisting)].map((expression) => `${pad(4)}${expression}`).join(` &&${newline}`);\n        return `function ${name}(${parameter})${returns} {${newline}${pad(2)}return (${newline}${expression}${newline}${pad(2)})\\n}`;\n    }\n    function CreateParameter(name, type) {\n        const annotation = state.language === 'typescript' ? `: ${type}` : '';\n        return `${name}${annotation}`;\n    }\n    function CreateReturns(type) {\n        return state.language === 'typescript' ? `: ${type}` : '';\n    }\n    // ----------------------------------------------------------------\n    // Compile\n    // ----------------------------------------------------------------\n    function Build(schema, references, options) {\n        const functionCode = CreateFunction('check', schema, references, 'value'); // will populate functions and variables\n        const parameter = CreateParameter('value', 'any');\n        const returns = CreateReturns('boolean');\n        const functions = [...state.functions.values()];\n        const variables = [...state.variables.values()];\n        // prettier-ignore\n        const checkFunction = IsString(schema.$id) // ensure top level schemas with $id's are hoisted\n            ? `return function check(${parameter})${returns} {\\n  return ${CreateFunctionName(schema.$id)}(value)\\n}`\n            : `return ${functionCode}`;\n        return [...variables, ...functions, checkFunction].join('\\n');\n    }\n    /** Generates the code used to assert this type and returns it as a string */\n    function Code(...args) {\n        const defaults = { language: 'javascript' };\n        // prettier-ignore\n        const [schema, references, options] = (args.length === 2 && IsArray(args[1]) ? [args[0], args[1], defaults] :\n            args.length === 2 && !IsArray(args[1]) ? [args[0], [], args[1]] :\n                args.length === 3 ? [args[0], args[1], args[2]] :\n                    args.length === 1 ? [args[0], [], defaults] :\n                        [null, [], defaults]);\n        // compiler-reset\n        state.language = options.language;\n        state.variables.clear();\n        state.functions.clear();\n        state.instances.clear();\n        if (!IsSchema(schema))\n            throw new TypeCompilerTypeGuardError(schema);\n        for (const schema of references)\n            if (!IsSchema(schema))\n                throw new TypeCompilerTypeGuardError(schema);\n        return Build(schema, references, options);\n    }\n    TypeCompiler.Code = Code;\n    /** Compiles a TypeBox type for optimal runtime type checking. Types must be valid TypeBox types of TSchema */\n    function Compile(schema, references = []) {\n        const generatedCode = Code(schema, references, { language: 'javascript' });\n        const compiledFunction = globalThis.Function('kind', 'format', 'hash', generatedCode);\n        const instances = new Map(state.instances);\n        function typeRegistryFunction(kind, instance, value) {\n            if (!TypeRegistry.Has(kind) || !instances.has(instance))\n                return false;\n            const checkFunc = TypeRegistry.Get(kind);\n            const schema = instances.get(instance);\n            return checkFunc(schema, value);\n        }\n        function formatRegistryFunction(format, value) {\n            if (!FormatRegistry.Has(format))\n                return false;\n            const checkFunc = FormatRegistry.Get(format);\n            return checkFunc(value);\n        }\n        function hashFunction(value) {\n            return Hash(value);\n        }\n        const checkFunction = compiledFunction(typeRegistryFunction, formatRegistryFunction, hashFunction);\n        return new TypeCheck(schema, references, checkFunction, generatedCode);\n    }\n    TypeCompiler.Compile = Compile;\n})(TypeCompiler || (TypeCompiler = {}));\n", "import { isBun } from \"./utils.mjs\";\nconst mime = {\n  aac: \"audio/aac\",\n  abw: \"application/x-abiword\",\n  ai: \"application/postscript\",\n  arc: \"application/octet-stream\",\n  avi: \"video/x-msvideo\",\n  azw: \"application/vnd.amazon.ebook\",\n  bin: \"application/octet-stream\",\n  bz: \"application/x-bzip\",\n  bz2: \"application/x-bzip2\",\n  csh: \"application/x-csh\",\n  css: \"text/css\",\n  csv: \"text/csv\",\n  doc: \"application/msword\",\n  dll: \"application/octet-stream\",\n  eot: \"application/vnd.ms-fontobject\",\n  epub: \"application/epub+zip\",\n  gif: \"image/gif\",\n  htm: \"text/html\",\n  html: \"text/html\",\n  ico: \"image/x-icon\",\n  ics: \"text/calendar\",\n  jar: \"application/java-archive\",\n  jpeg: \"image/jpeg\",\n  jpg: \"image/jpeg\",\n  js: \"application/javascript\",\n  json: \"application/json\",\n  mid: \"audio/midi\",\n  midi: \"audio/midi\",\n  mp2: \"audio/mpeg\",\n  mp3: \"audio/mpeg\",\n  mp4: \"video/mp4\",\n  mpa: \"video/mpeg\",\n  mpe: \"video/mpeg\",\n  mpeg: \"video/mpeg\",\n  mpkg: \"application/vnd.apple.installer+xml\",\n  odp: \"application/vnd.oasis.opendocument.presentation\",\n  ods: \"application/vnd.oasis.opendocument.spreadsheet\",\n  odt: \"application/vnd.oasis.opendocument.text\",\n  oga: \"audio/ogg\",\n  ogv: \"video/ogg\",\n  ogx: \"application/ogg\",\n  otf: \"font/otf\",\n  png: \"image/png\",\n  pdf: \"application/pdf\",\n  ppt: \"application/vnd.ms-powerpoint\",\n  rar: \"application/x-rar-compressed\",\n  rtf: \"application/rtf\",\n  sh: \"application/x-sh\",\n  svg: \"image/svg+xml\",\n  swf: \"application/x-shockwave-flash\",\n  tar: \"application/x-tar\",\n  tif: \"image/tiff\",\n  tiff: \"image/tiff\",\n  ts: \"application/typescript\",\n  ttf: \"font/ttf\",\n  txt: \"text/plain\",\n  vsd: \"application/vnd.visio\",\n  wav: \"audio/x-wav\",\n  weba: \"audio/webm\",\n  webm: \"video/webm\",\n  webp: \"image/webp\",\n  woff: \"font/woff\",\n  woff2: \"font/woff2\",\n  xhtml: \"application/xhtml+xml\",\n  xls: \"application/vnd.ms-excel\",\n  xlsx: \"application/vnd.ms-excel\",\n  xlsx_OLD: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n  xml: \"application/xml\",\n  xul: \"application/vnd.mozilla.xul+xml\",\n  zip: \"application/zip\",\n  \"3gp\": \"video/3gpp\",\n  \"3gp_DOES_NOT_CONTAIN_VIDEO\": \"audio/3gpp\",\n  \"3gp2\": \"video/3gpp2\",\n  \"3gp2_DOES_NOT_CONTAIN_VIDEO\": \"audio/3gpp2\",\n  \"7z\": \"application/x-7z-compressed\"\n}, getFileExtension = (path) => {\n  const index = path.lastIndexOf(\".\");\n  return index === -1 ? \"\" : path.slice(index + 1);\n}, file = (path) => new ElysiaFile(path);\nlet createReadStream, stat;\nclass ElysiaFile {\n  constructor(path) {\n    this.path = path;\n    if (isBun) this.value = Bun.file(path);\n    else {\n      if (!createReadStream || !stat) {\n        if (typeof window < \"u\") {\n          console.warn(\"Browser environment does not support file\");\n          return;\n        }\n        const warnMissing = (name) => console.warn(\n          new Error(\n            `[elysia] \\`file\\` require \\`fs${name ? \".\" + name : \"\"}\\` ${name?.includes(\".\") ? \"module \" : \"\"}which is not available in this environment`\n          )\n        );\n        if (typeof process > \"u\" || typeof process.getBuiltinModule != \"function\") {\n          warnMissing();\n          return;\n        }\n        const fs = process.getBuiltinModule(\"fs\");\n        if (!fs) {\n          warnMissing();\n          return;\n        }\n        if (typeof fs.createReadStream != \"function\") {\n          warnMissing();\n          return;\n        }\n        if (typeof fs.promises?.stat != \"function\") {\n          warnMissing();\n          return;\n        }\n        createReadStream = fs.createReadStream, stat = fs.promises.stat;\n      }\n      this.value = createReadStream(path), this.stats = stat(path);\n    }\n  }\n  get type() {\n    return (\n      // @ts-ignore\n      mime[getFileExtension(this.path)] || \"application/octet-stream\"\n    );\n  }\n  get length() {\n    return isBun ? this.value.size : this.stats?.then((x) => x.size) ?? 0;\n  }\n}\nexport {\n  ElysiaFile,\n  file,\n  getFileExtension,\n  mime\n};\n", "const isBun = typeof Bun < \"u\", isDeno = typeof Deno < \"u\";\nexport {\n  isBun,\n  isDeno\n};\n", "import { Value } from \"@sinclair/typebox/value\";\nimport { StatusMap, InvertedStatusMap } from \"./utils.mjs\";\nconst env = typeof Bun < \"u\" ? Bun.env : typeof process < \"u\" ? process?.env : void 0, ERROR_CODE = Symbol(\"ElysiaErrorCode\"), isProduction = (env?.NODE_ENV ?? env?.ENV) === \"production\", emptyHttpStatus = {\n  101: void 0,\n  204: void 0,\n  205: void 0,\n  304: void 0,\n  307: void 0,\n  308: void 0\n};\nclass ElysiaCustomStatusResponse {\n  constructor(code, response) {\n    const res = response ?? (code in InvertedStatusMap ? (\n      // @ts-expect-error Always correct\n      InvertedStatusMap[code]\n    ) : code);\n    this.code = StatusMap[code] ?? code, code in emptyHttpStatus ? this.response = void 0 : this.response = res;\n  }\n}\nconst status = (code, response) => new ElysiaCustomStatusResponse(code, response);\nclass InternalServerError extends Error {\n  constructor(message) {\n    super(message ?? \"INTERNAL_SERVER_ERROR\");\n    this.code = \"INTERNAL_SERVER_ERROR\";\n    this.status = 500;\n  }\n}\nclass NotFoundError extends Error {\n  constructor(message) {\n    super(message ?? \"NOT_FOUND\");\n    this.code = \"NOT_FOUND\";\n    this.status = 404;\n  }\n}\nclass ParseError extends Error {\n  constructor(cause) {\n    super(\"Bad Request\", {\n      cause\n    });\n    this.code = \"PARSE\";\n    this.status = 400;\n  }\n}\nclass InvalidCookieSignature extends Error {\n  constructor(key, message) {\n    super(message ?? `\"${key}\" has invalid cookie signature`);\n    this.key = key;\n    this.code = \"INVALID_COOKIE_SIGNATURE\";\n    this.status = 400;\n  }\n}\nconst mapValueError = (error) => {\n  if (!error)\n    return {\n      summary: void 0\n    };\n  const { message, path, value, type } = error, property = path.slice(1).replaceAll(\"/\", \".\"), isRoot = path === \"\";\n  switch (type) {\n    case 42:\n      return {\n        ...error,\n        summary: isRoot ? \"Value should not be provided\" : `Property '${property}' should not be provided`\n      };\n    case 45:\n      return {\n        ...error,\n        summary: isRoot ? \"Value is missing\" : `Property '${property}' is missing`\n      };\n    case 50:\n      const quoteIndex = message.indexOf(\"'\"), format = message.slice(\n        quoteIndex + 1,\n        message.indexOf(\"'\", quoteIndex + 1)\n      );\n      return {\n        ...error,\n        summary: isRoot ? \"Value should be an email\" : `Property '${property}' should be ${format}`\n      };\n    case 54:\n      return {\n        ...error,\n        summary: `${message.slice(0, 9).trim()} property '${property}' to be ${message.slice(8).trim()} but found: ${value}`\n      };\n    case 62:\n      const union = error.schema.anyOf.map((x) => `'${x?.format ?? x.type}'`).join(\", \");\n      return {\n        ...error,\n        summary: isRoot ? `Value should be one of ${union}` : `Property '${property}' should be one of: ${union}`\n      };\n    default:\n      return { summary: message, ...error };\n  }\n};\nclass InvalidFileType extends Error {\n  constructor(property, expected, message = `\"${property}\" has invalid file type`) {\n    super(message);\n    this.property = property;\n    this.expected = expected;\n    this.message = message;\n    this.code = \"INVALID_FILE_TYPE\";\n    this.status = 422;\n    Object.setPrototypeOf(this, InvalidFileType.prototype);\n  }\n  toResponse(headers) {\n    return isProduction ? new Response(\n      JSON.stringify({\n        type: \"validation\",\n        on: \"body\"\n      }),\n      {\n        status: 422,\n        headers: {\n          ...headers,\n          \"content-type\": \"application/json\"\n        }\n      }\n    ) : new Response(\n      JSON.stringify({\n        type: \"validation\",\n        on: \"body\",\n        summary: \"Invalid file type\",\n        message: this.message,\n        property: this.property,\n        expected: this.expected\n      }),\n      {\n        status: 422,\n        headers: {\n          ...headers,\n          \"content-type\": \"application/json\"\n        }\n      }\n    );\n  }\n}\nclass ValidationError extends Error {\n  constructor(type, validator, value, allowUnsafeValidationDetails = !1, errors) {\n    let message = \"\", error, expected, customError;\n    if (\n      // @ts-ignore\n      validator?.provider === \"standard\" || \"~standard\" in validator || // @ts-ignore\n      validator.schema && \"~standard\" in validator.schema\n    ) {\n      const standard = (\n        // @ts-ignore\n        (\"~standard\" in validator ? validator : validator.schema)[\"~standard\"]\n      );\n      error = (errors ?? standard.validate(value).issues)?.[0], isProduction ? message = JSON.stringify({\n        type: \"validation\",\n        on: type,\n        found: value\n      }) : message = JSON.stringify(\n        {\n          type: \"validation\",\n          on: type,\n          property: error.path?.[0] || \"root\",\n          message: error?.message,\n          summary: error?.problem,\n          expected,\n          found: value,\n          errors\n        },\n        null,\n        2\n      ), customError = error?.message;\n    } else {\n      value && typeof value == \"object\" && value instanceof ElysiaCustomStatusResponse && (value = value.response), error = errors?.First() ?? (\"Errors\" in validator ? validator.Errors(value).First() : Value.Errors(validator, value).First());\n      const accessor = error?.path || \"root\", schema = validator?.schema ?? validator;\n      if (!isProduction && !allowUnsafeValidationDetails)\n        try {\n          expected = Value.Create(schema);\n        } catch (error2) {\n          expected = {\n            type: \"Could not create expected value\",\n            // @ts-expect-error\n            message: error2?.message,\n            error: error2\n          };\n        }\n      customError = error?.schema?.message || error?.schema?.error !== void 0 ? typeof error.schema.error == \"function\" ? error.schema.error(\n        isProduction && !allowUnsafeValidationDetails ? {\n          type: \"validation\",\n          on: type,\n          found: value\n        } : {\n          type: \"validation\",\n          on: type,\n          value,\n          property: accessor,\n          message: error?.message,\n          summary: mapValueError(error).summary,\n          found: value,\n          expected,\n          errors: \"Errors\" in validator ? [\n            ...validator.Errors(\n              value\n            )\n          ].map(mapValueError) : [\n            ...Value.Errors(\n              validator,\n              value\n            )\n          ].map(mapValueError)\n        },\n        validator\n      ) : error.schema.error : void 0, customError !== void 0 ? message = typeof customError == \"object\" ? JSON.stringify(customError) : customError + \"\" : isProduction && !allowUnsafeValidationDetails ? message = JSON.stringify({\n        type: \"validation\",\n        on: type,\n        found: value\n      }) : message = JSON.stringify(\n        {\n          type: \"validation\",\n          on: type,\n          property: accessor,\n          message: error?.message,\n          summary: mapValueError(error).summary,\n          expected,\n          found: value,\n          errors: \"Errors\" in validator ? [...validator.Errors(value)].map(\n            mapValueError\n          ) : [...Value.Errors(validator, value)].map(\n            mapValueError\n          )\n        },\n        null,\n        2\n      );\n    }\n    super(message);\n    this.type = type;\n    this.validator = validator;\n    this.value = value;\n    this.allowUnsafeValidationDetails = allowUnsafeValidationDetails;\n    this.code = \"VALIDATION\";\n    this.status = 422;\n    this.valueError = error, this.expected = expected, this.customError = customError, Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n  get all() {\n    return (\n      // @ts-ignore\n      this.validator?.provider === \"standard\" || \"~standard\" in this.validator || // @ts-ignore\n      \"schema\" in this.validator && // @ts-ignore\n      this.validator.schema && // @ts-ignore\n      \"~standard\" in this.validator.schema ? /* @ts-ignore */ (\"~standard\" in this.validator ? this.validator : (\n        // @ts-ignore\n        this.validator.schema\n      ))[\"~standard\"].validate(this.value).issues?.map((issue) => ({\n        summary: issue.message,\n        path: issue.path?.join(\".\") || \"root\",\n        message: issue.message,\n        value: this.value\n      })) || [] : \"Errors\" in this.validator ? [...this.validator.Errors(this.value)].map(mapValueError) : (\n        // @ts-ignore\n        [...Value.Errors(this.validator, this.value)].map(mapValueError)\n      )\n    );\n  }\n  static simplifyModel(validator) {\n    const model = \"schema\" in validator ? validator.schema : validator;\n    try {\n      return Value.Create(model);\n    } catch {\n      return model;\n    }\n  }\n  get model() {\n    return \"~standard\" in this.validator ? this.validator : ValidationError.simplifyModel(this.validator);\n  }\n  toResponse(headers) {\n    return new Response(this.message, {\n      status: 400,\n      headers: {\n        ...headers,\n        \"content-type\": \"application/json\"\n      }\n    });\n  }\n  /**\n   * Utility function to inherit add custom error and keep the original Validation error\n   *\n   * @since 1.3.14\n   *\n   * @example\n   * ```ts\n   * new Elysia()\n   *\t\t.onError(({ error, code }) => {\n   *\t\t\tif (code === 'VALIDATION') return error.detail(error.message)\n   *\t\t})\n   *\t\t.post('/', () => 'Hello World!', {\n   *\t\t\tbody: t.Object({\n   *\t\t\t\tx: t.Number({\n   *\t\t\t\t\terror: 'x must be a number'\n   *\t\t\t\t})\n   *\t\t\t})\n   *\t\t})\n   * ```\n   */\n  detail(message) {\n    if (!this.customError) return this.message;\n    const validator = this.validator, value = this.value, expected = this.expected, errors = this.all;\n    return isProduction && !this.allowUnsafeValidationDetails ? {\n      type: \"validation\",\n      on: this.type,\n      found: value,\n      message\n    } : {\n      type: \"validation\",\n      on: this.type,\n      property: this.valueError?.path || \"root\",\n      message,\n      summary: mapValueError(this.valueError).summary,\n      found: value,\n      expected,\n      errors\n    };\n  }\n}\nexport {\n  ERROR_CODE,\n  ElysiaCustomStatusResponse,\n  InternalServerError,\n  InvalidCookieSignature,\n  InvalidFileType,\n  NotFoundError,\n  ParseError,\n  ValidationError,\n  isProduction,\n  mapValueError,\n  status\n};\n", "import { ElysiaFile } from \"./universal/file.mjs\";\nconst hasHeaderShorthand = \"toJSON\" in new Headers(), replaceUrlPath = (url, pathname) => {\n  const urlObject = new URL(url);\n  return urlObject.pathname = pathname, urlObject.toString();\n}, isClass = (v) => typeof v == \"function\" && /^\\s*class\\s+/.test(v.toString()) || // Handle Object.create(null)\nv.toString && // Handle import * as Sentry from '@sentry/bun'\n// This also handle [object Date], [object Array]\n// and FFI value like [object Prisma]\nv.toString().startsWith(\"[object \") && v.toString() !== \"[object Object]\" || // If object prototype is not pure, then probably a class-like object\nisNotEmpty(Object.getPrototypeOf(v)), isObject = (item) => item && typeof item == \"object\" && !Array.isArray(item), mergeDeep = (target, source, options) => {\n  const skipKeys = options?.skipKeys, override = options?.override ?? !0, mergeArray = options?.mergeArray ?? !1;\n  if (!isObject(target) || !isObject(source)) return target;\n  for (const [key, value] of Object.entries(source))\n    if (!skipKeys?.includes(key)) {\n      if (mergeArray && Array.isArray(value)) {\n        target[key] = Array.isArray(\n          target[key]\n        ) ? [...target[key], ...value] : target[key] = value;\n        continue;\n      }\n      if (!isObject(value) || !(key in target) || isClass(value)) {\n        if ((override || !(key in target)) && !Object.isFrozen(target))\n          try {\n            target[key] = value;\n          } catch {\n          }\n        continue;\n      }\n      if (!Object.isFrozen(target[key]))\n        try {\n          target[key] = mergeDeep(\n            target[key],\n            value,\n            { skipKeys, override, mergeArray }\n          );\n        } catch {\n        }\n    }\n  return target;\n}, mergeCookie = (a, b) => {\n  const v = mergeDeep(Object.assign({}, a), b, {\n    skipKeys: [\"properties\"],\n    mergeArray: !1\n  });\n  return v.properties && delete v.properties, v;\n}, mergeObjectArray = (a, b) => {\n  if (!b) return a;\n  const array = [], checksums = [];\n  if (a) {\n    Array.isArray(a) || (a = [a]);\n    for (const item of a)\n      array.push(item), item.checksum && checksums.push(item.checksum);\n  }\n  if (b) {\n    Array.isArray(b) || (b = [b]);\n    for (const item of b)\n      checksums.includes(item.checksum) || array.push(item);\n  }\n  return array;\n}, primitiveHooks = [\n  \"start\",\n  \"request\",\n  \"parse\",\n  \"transform\",\n  \"resolve\",\n  \"beforeHandle\",\n  \"afterHandle\",\n  \"mapResponse\",\n  \"afterResponse\",\n  \"trace\",\n  \"error\",\n  \"stop\",\n  \"body\",\n  \"headers\",\n  \"params\",\n  \"query\",\n  \"response\",\n  \"type\",\n  \"detail\"\n], primitiveHookMap = primitiveHooks.reduce(\n  (acc, x) => (acc[x] = !0, acc),\n  {}\n), isRecordNumber = (x) => typeof x == \"object\" && Object.keys(x).every((x2) => !isNaN(+x2)), mergeResponse = (a, b) => isRecordNumber(a) && isRecordNumber(b) ? Object.assign({}, a, b) : a && !isRecordNumber(a) && isRecordNumber(b) ? Object.assign({ 200: a }, b) : b ?? a, mergeSchemaValidator = (a, b) => !a && !b ? {\n  body: void 0,\n  headers: void 0,\n  params: void 0,\n  query: void 0,\n  cookie: void 0,\n  response: void 0\n} : {\n  body: b?.body ?? a?.body,\n  headers: b?.headers ?? a?.headers,\n  params: b?.params ?? a?.params,\n  query: b?.query ?? a?.query,\n  cookie: b?.cookie ?? a?.cookie,\n  // @ts-ignore ? This order is correct - SaltyAom\n  response: mergeResponse(\n    // @ts-ignore\n    a?.response,\n    // @ts-ignore\n    b?.response\n  )\n}, mergeHook = (a, b) => {\n  if (!b) return a ?? {};\n  if (!a) return b ?? {};\n  if (!Object.values(b).find((x) => x != null))\n    return { ...a };\n  const hook = {\n    ...a,\n    ...b,\n    // Merge local hook first\n    // @ts-ignore\n    body: b.body ?? a.body,\n    // @ts-ignore\n    headers: b.headers ?? a.headers,\n    // @ts-ignore\n    params: b.params ?? a.params,\n    // @ts-ignore\n    query: b.query ?? a.query,\n    // @ts-ignore\n    cookie: b.cookie ?? a.cookie,\n    // ? This order is correct - SaltyAom\n    response: mergeResponse(\n      // @ts-ignore\n      a.response,\n      // @ts-ignore\n      b.response\n    ),\n    type: a.type || b.type,\n    detail: mergeDeep(\n      // @ts-ignore\n      b.detail ?? {},\n      // @ts-ignore\n      a.detail ?? {}\n    ),\n    parse: mergeObjectArray(a.parse, b.parse),\n    transform: mergeObjectArray(a.transform, b.transform),\n    beforeHandle: mergeObjectArray(\n      mergeObjectArray(\n        // @ts-ignore\n        fnToContainer(a.resolve, \"resolve\"),\n        a.beforeHandle\n      ),\n      mergeObjectArray(\n        fnToContainer(b.resolve, \"resolve\"),\n        b.beforeHandle\n      )\n    ),\n    afterHandle: mergeObjectArray(a.afterHandle, b.afterHandle),\n    mapResponse: mergeObjectArray(a.mapResponse, b.mapResponse),\n    afterResponse: mergeObjectArray(\n      a.afterResponse,\n      b.afterResponse\n    ),\n    trace: mergeObjectArray(a.trace, b.trace),\n    error: mergeObjectArray(a.error, b.error),\n    // @ts-ignore\n    standaloneSchema: (\n      // @ts-ignore\n      a.standaloneSchema || b.standaloneSchema ? (\n        // @ts-ignore\n        a.standaloneSchema && !b.standaloneSchema ? (\n          // @ts-ignore\n          a.standaloneSchema\n        ) : (\n          // @ts-ignore\n          b.standaloneSchema && !a.standaloneSchema ? b.standaloneSchema : [\n            // @ts-ignore\n            ...a.standaloneSchema ?? [],\n            ...b.standaloneSchema ?? []\n          ]\n        )\n      ) : void 0\n    )\n  };\n  return hook.resolve && delete hook.resolve, hook;\n}, lifeCycleToArray = (a) => {\n  a.parse && !Array.isArray(a.parse) && (a.parse = [a.parse]), a.transform && !Array.isArray(a.transform) && (a.transform = [a.transform]), a.afterHandle && !Array.isArray(a.afterHandle) && (a.afterHandle = [a.afterHandle]), a.mapResponse && !Array.isArray(a.mapResponse) && (a.mapResponse = [a.mapResponse]), a.afterResponse && !Array.isArray(a.afterResponse) && (a.afterResponse = [a.afterResponse]), a.trace && !Array.isArray(a.trace) && (a.trace = [a.trace]), a.error && !Array.isArray(a.error) && (a.error = [a.error]);\n  let beforeHandle = [];\n  return a.resolve && (beforeHandle = fnToContainer(\n    // @ts-expect-error\n    Array.isArray(a.resolve) ? a.resolve : [a.resolve],\n    \"resolve\"\n  ), delete a.resolve), a.beforeHandle && (beforeHandle.length ? beforeHandle = beforeHandle.concat(\n    Array.isArray(a.beforeHandle) ? a.beforeHandle : [a.beforeHandle]\n  ) : beforeHandle = Array.isArray(a.beforeHandle) ? a.beforeHandle : [a.beforeHandle]), beforeHandle.length && (a.beforeHandle = beforeHandle), a;\n}, isBun = typeof Bun < \"u\", hasBunHash = isBun && typeof Bun.hash == \"function\", checksum = (s) => {\n  let h = 9;\n  for (let i = 0; i < s.length; ) h = Math.imul(h ^ s.charCodeAt(i++), 9 ** 9);\n  return h = h ^ h >>> 9;\n}, injectChecksum = (checksum2, x) => {\n  if (!x) return;\n  if (!Array.isArray(x)) {\n    const fn = x;\n    return checksum2 && !fn.checksum && (fn.checksum = checksum2), fn.scope === \"scoped\" && (fn.scope = \"local\"), fn;\n  }\n  const fns = [...x];\n  for (const fn of fns)\n    checksum2 && !fn.checksum && (fn.checksum = checksum2), fn.scope === \"scoped\" && (fn.scope = \"local\");\n  return fns;\n}, mergeLifeCycle = (a, b, checksum2) => ({\n  start: mergeObjectArray(\n    a.start,\n    injectChecksum(checksum2, b?.start)\n  ),\n  request: mergeObjectArray(\n    a.request,\n    injectChecksum(checksum2, b?.request)\n  ),\n  parse: mergeObjectArray(\n    a.parse,\n    injectChecksum(checksum2, b?.parse)\n  ),\n  transform: mergeObjectArray(\n    a.transform,\n    injectChecksum(checksum2, b?.transform)\n  ),\n  beforeHandle: mergeObjectArray(\n    mergeObjectArray(\n      // @ts-ignore\n      fnToContainer(a.resolve, \"resolve\"),\n      a.beforeHandle\n    ),\n    injectChecksum(\n      checksum2,\n      mergeObjectArray(\n        fnToContainer(b?.resolve, \"resolve\"),\n        b?.beforeHandle\n      )\n    )\n  ),\n  afterHandle: mergeObjectArray(\n    a.afterHandle,\n    injectChecksum(checksum2, b?.afterHandle)\n  ),\n  mapResponse: mergeObjectArray(\n    a.mapResponse,\n    injectChecksum(checksum2, b?.mapResponse)\n  ),\n  afterResponse: mergeObjectArray(\n    a.afterResponse,\n    injectChecksum(checksum2, b?.afterResponse)\n  ),\n  // Already merged on Elysia._use, also logic is more complicated, can't directly merge\n  trace: mergeObjectArray(\n    a.trace,\n    injectChecksum(checksum2, b?.trace)\n  ),\n  error: mergeObjectArray(\n    a.error,\n    injectChecksum(checksum2, b?.error)\n  ),\n  stop: mergeObjectArray(\n    a.stop,\n    injectChecksum(checksum2, b?.stop)\n  )\n}), asHookType = (fn, inject, { skipIfHasType = !1 }) => {\n  if (!fn) return fn;\n  if (!Array.isArray(fn))\n    return skipIfHasType ? fn.scope ??= inject : fn.scope = inject, fn;\n  for (const x of fn)\n    skipIfHasType ? x.scope ??= inject : x.scope = inject;\n  return fn;\n}, filterGlobal = (fn) => {\n  if (!fn) return fn;\n  if (!Array.isArray(fn))\n    switch (fn.scope) {\n      case \"global\":\n      case \"scoped\":\n        return { ...fn };\n      default:\n        return { fn };\n    }\n  const array = [];\n  for (const x of fn)\n    switch (x.scope) {\n      case \"global\":\n      case \"scoped\":\n        array.push({\n          ...x\n        });\n        break;\n    }\n  return array;\n}, filterGlobalHook = (hook) => ({\n  // rest is validator\n  ...hook,\n  type: hook?.type,\n  detail: hook?.detail,\n  parse: filterGlobal(hook?.parse),\n  transform: filterGlobal(hook?.transform),\n  beforeHandle: filterGlobal(hook?.beforeHandle),\n  afterHandle: filterGlobal(hook?.afterHandle),\n  mapResponse: filterGlobal(hook?.mapResponse),\n  afterResponse: filterGlobal(hook?.afterResponse),\n  error: filterGlobal(hook?.error),\n  trace: filterGlobal(hook?.trace)\n}), StatusMap = {\n  Continue: 100,\n  \"Switching Protocols\": 101,\n  Processing: 102,\n  \"Early Hints\": 103,\n  OK: 200,\n  Created: 201,\n  Accepted: 202,\n  \"Non-Authoritative Information\": 203,\n  \"No Content\": 204,\n  \"Reset Content\": 205,\n  \"Partial Content\": 206,\n  \"Multi-Status\": 207,\n  \"Already Reported\": 208,\n  \"Multiple Choices\": 300,\n  \"Moved Permanently\": 301,\n  Found: 302,\n  \"See Other\": 303,\n  \"Not Modified\": 304,\n  \"Temporary Redirect\": 307,\n  \"Permanent Redirect\": 308,\n  \"Bad Request\": 400,\n  Unauthorized: 401,\n  \"Payment Required\": 402,\n  Forbidden: 403,\n  \"Not Found\": 404,\n  \"Method Not Allowed\": 405,\n  \"Not Acceptable\": 406,\n  \"Proxy Authentication Required\": 407,\n  \"Request Timeout\": 408,\n  Conflict: 409,\n  Gone: 410,\n  \"Length Required\": 411,\n  \"Precondition Failed\": 412,\n  \"Payload Too Large\": 413,\n  \"URI Too Long\": 414,\n  \"Unsupported Media Type\": 415,\n  \"Range Not Satisfiable\": 416,\n  \"Expectation Failed\": 417,\n  \"I'm a teapot\": 418,\n  \"Enhance Your Calm\": 420,\n  \"Misdirected Request\": 421,\n  \"Unprocessable Content\": 422,\n  Locked: 423,\n  \"Failed Dependency\": 424,\n  \"Too Early\": 425,\n  \"Upgrade Required\": 426,\n  \"Precondition Required\": 428,\n  \"Too Many Requests\": 429,\n  \"Request Header Fields Too Large\": 431,\n  \"Unavailable For Legal Reasons\": 451,\n  \"Internal Server Error\": 500,\n  \"Not Implemented\": 501,\n  \"Bad Gateway\": 502,\n  \"Service Unavailable\": 503,\n  \"Gateway Timeout\": 504,\n  \"HTTP Version Not Supported\": 505,\n  \"Variant Also Negotiates\": 506,\n  \"Insufficient Storage\": 507,\n  \"Loop Detected\": 508,\n  \"Not Extended\": 510,\n  \"Network Authentication Required\": 511\n}, InvertedStatusMap = Object.fromEntries(\n  Object.entries(StatusMap).map(([k, v]) => [v, k])\n);\nfunction removeTrailingEquals(digest) {\n  let trimmedDigest = digest;\n  for (; trimmedDigest.endsWith(\"=\"); )\n    trimmedDigest = trimmedDigest.slice(0, -1);\n  return trimmedDigest;\n}\nconst encoder = new TextEncoder(), signCookie = async (val, secret) => {\n  if (typeof val == \"object\" ? val = JSON.stringify(val) : typeof val != \"string\" && (val = val + \"\"), secret === null) throw new TypeError(\"Secret key must be provided.\");\n  const secretKey = await crypto.subtle.importKey(\n    \"raw\",\n    encoder.encode(secret),\n    { name: \"HMAC\", hash: \"SHA-256\" },\n    !1,\n    [\"sign\"]\n  ), hmacBuffer = await crypto.subtle.sign(\n    \"HMAC\",\n    secretKey,\n    encoder.encode(val)\n  );\n  return val + \".\" + removeTrailingEquals(Buffer.from(hmacBuffer).toString(\"base64\"));\n}, unsignCookie = async (input, secret) => {\n  if (typeof input != \"string\")\n    throw new TypeError(\"Signed cookie string must be provided.\");\n  if (secret === null) throw new TypeError(\"Secret key must be provided.\");\n  const tentativeValue = input.slice(0, input.lastIndexOf(\".\"));\n  return await signCookie(tentativeValue, secret) === input ? tentativeValue : !1;\n}, insertStandaloneValidator = (hook, name, value) => {\n  if (!hook.standaloneValidator?.length || !Array.isArray(hook.standaloneValidator)) {\n    hook.standaloneValidator = [\n      {\n        [name]: value\n      }\n    ];\n    return;\n  }\n  const last = hook.standaloneValidator[hook.standaloneValidator.length - 1];\n  name in last ? hook.standaloneValidator.push({\n    [name]: value\n  }) : last[name] = value;\n}, parseNumericString = (message) => {\n  if (typeof message == \"number\") return message;\n  if (message.length < 16) {\n    if (message.trim().length === 0) return null;\n    const length = Number(message);\n    return Number.isNaN(length) ? null : length;\n  }\n  if (message.length === 16) {\n    if (message.trim().length === 0) return null;\n    const number = Number(message);\n    return Number.isNaN(number) || number.toString() !== message ? null : number;\n  }\n  return null;\n}, isNumericString = (message) => parseNumericString(message) !== null;\nclass PromiseGroup {\n  constructor(onError = console.error, onFinally = () => {\n  }) {\n    this.onError = onError;\n    this.onFinally = onFinally;\n    this.root = null;\n    this.promises = [];\n  }\n  /**\n   * The number of promises still being awaited.\n   */\n  get size() {\n    return this.promises.length;\n  }\n  /**\n   * Add a promise to the group.\n   * @returns The promise that was added.\n   */\n  add(promise) {\n    return this.promises.push(promise), this.root ||= this.drain(), this.promises.length === 1 && this.then(this.onFinally), promise;\n  }\n  async drain() {\n    for (; this.promises.length > 0; ) {\n      try {\n        await this.promises[0];\n      } catch (error) {\n        this.onError(error);\n      }\n      this.promises.shift();\n    }\n    this.root = null;\n  }\n  // Allow the group to be awaited.\n  then(onfulfilled, onrejected) {\n    return (this.root ?? Promise.resolve()).then(onfulfilled, onrejected);\n  }\n}\nconst fnToContainer = (fn, subType) => {\n  if (!fn) return fn;\n  if (!Array.isArray(fn)) {\n    if (typeof fn == \"function\" || typeof fn == \"string\")\n      return subType ? { fn, subType } : { fn };\n    if (\"fn\" in fn) return fn;\n  }\n  const fns = [];\n  for (const x of fn)\n    typeof x == \"function\" || typeof x == \"string\" ? fns.push(subType ? { fn: x, subType } : { fn: x }) : \"fn\" in x && fns.push(x);\n  return fns;\n}, localHookToLifeCycleStore = (a) => (a.start && (a.start = fnToContainer(a.start)), a.request && (a.request = fnToContainer(a.request)), a.parse && (a.parse = fnToContainer(a.parse)), a.transform && (a.transform = fnToContainer(a.transform)), a.beforeHandle && (a.beforeHandle = fnToContainer(a.beforeHandle)), a.afterHandle && (a.afterHandle = fnToContainer(a.afterHandle)), a.mapResponse && (a.mapResponse = fnToContainer(a.mapResponse)), a.afterResponse && (a.afterResponse = fnToContainer(a.afterResponse)), a.trace && (a.trace = fnToContainer(a.trace)), a.error && (a.error = fnToContainer(a.error)), a.stop && (a.stop = fnToContainer(a.stop)), a), lifeCycleToFn = (a) => {\n  const lifecycle = /* @__PURE__ */ Object.create(null);\n  return a.start?.map && (lifecycle.start = a.start.map((x) => x.fn)), a.request?.map && (lifecycle.request = a.request.map((x) => x.fn)), a.parse?.map && (lifecycle.parse = a.parse.map((x) => x.fn)), a.transform?.map && (lifecycle.transform = a.transform.map((x) => x.fn)), a.beforeHandle?.map && (lifecycle.beforeHandle = a.beforeHandle.map((x) => x.fn)), a.afterHandle?.map && (lifecycle.afterHandle = a.afterHandle.map((x) => x.fn)), a.mapResponse?.map && (lifecycle.mapResponse = a.mapResponse.map((x) => x.fn)), a.afterResponse?.map && (lifecycle.afterResponse = a.afterResponse.map((x) => x.fn)), a.error?.map && (lifecycle.error = a.error.map((x) => x.fn)), a.stop?.map && (lifecycle.stop = a.stop.map((x) => x.fn)), a.trace?.map ? lifecycle.trace = a.trace.map((x) => x.fn) : lifecycle.trace = [], lifecycle;\n}, cloneInference = (inference) => ({\n  body: inference.body,\n  cookie: inference.cookie,\n  headers: inference.headers,\n  query: inference.query,\n  set: inference.set,\n  server: inference.server,\n  path: inference.path,\n  route: inference.route,\n  url: inference.url\n}), redirect = (url, status = 302) => Response.redirect(url, status), ELYSIA_FORM_DATA = Symbol(\"ElysiaFormData\"), ELYSIA_REQUEST_ID = Symbol(\"ElysiaRequestId\"), form = (items) => {\n  const formData = new FormData();\n  if (formData[ELYSIA_FORM_DATA] = {}, items)\n    for (const [key, value] of Object.entries(items)) {\n      if (Array.isArray(value)) {\n        formData[ELYSIA_FORM_DATA][key] = [];\n        for (const v of value)\n          value instanceof File ? formData.append(key, value, value.name) : value instanceof ElysiaFile ? formData.append(key, value.value, value.value?.name) : formData.append(key, value), formData[ELYSIA_FORM_DATA][key].push(value);\n        continue;\n      }\n      value instanceof File ? formData.append(key, value, value.name) : value instanceof ElysiaFile ? formData.append(key, value.value, value.value?.name) : formData.append(key, value), formData[ELYSIA_FORM_DATA][key] = value;\n    }\n  return formData;\n}, randomId = typeof crypto > \"u\" ? () => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\", charactersLength = characters.length;\n  for (let i = 0; i < 16; i++)\n    result += characters.charAt(\n      Math.floor(Math.random() * charactersLength)\n    );\n  return result;\n} : () => {\n  const uuid = crypto.randomUUID();\n  return uuid.slice(0, 8) + uuid.slice(24, 32);\n}, deduplicateChecksum = (array) => {\n  if (!array.length) return [];\n  const hashes = [];\n  for (let i = 0; i < array.length; i++) {\n    const item = array[i];\n    item.checksum && (hashes.includes(item.checksum) && (array.splice(i, 1), i--), hashes.push(item.checksum));\n  }\n  return array;\n}, promoteEvent = (events, as = \"scoped\") => {\n  if (events) {\n    if (as === \"scoped\") {\n      for (const event of events)\n        \"scope\" in event && event.scope === \"local\" && (event.scope = \"scoped\");\n      return;\n    }\n    for (const event of events) \"scope\" in event && (event.scope = \"global\");\n  }\n}, getLoosePath = (path) => path.charCodeAt(path.length - 1) === 47 ? path.slice(0, path.length - 1) : path + \"/\", isNotEmpty = (obj) => {\n  if (!obj) return !1;\n  for (const _ in obj) return !0;\n  return !1;\n}, encodePath = (path, { dynamic = !1 } = {}) => {\n  let encoded = encodeURIComponent(path).replace(/%2F/g, \"/\");\n  return dynamic && (encoded = encoded.replace(/%3A/g, \":\").replace(/%3F/g, \"?\")), encoded;\n}, supportPerMethodInlineHandler = !!(typeof Bun > \"u\" || Bun.semver?.satisfies?.(Bun.version, \">=1.2.14\")), sse = (_payload) => {\n  if (_payload instanceof ReadableStream)\n    return _payload.sse = !0, _payload;\n  const payload = typeof _payload == \"string\" ? { data: _payload } : _payload;\n  return payload.sse = !0, payload.toSSE = () => {\n    let payloadString = \"\";\n    return payload.id !== void 0 && payload.id !== null && (payloadString += `id: ${payload.id}\n`), payload.event && (payloadString += `event: ${payload.event}\n`), payload.retry !== void 0 && (payloadString += `retry: ${payload.retry}\n`), payload.data === null ? payloadString += `data: null\n` : typeof payload.data == \"string\" ? payloadString += `data: ${payload.data}\n` : typeof payload.data == \"object\" && (payloadString += `data: ${JSON.stringify(payload.data)}\n`), payloadString && (payloadString += `\n`), payloadString;\n  }, payload;\n};\nasync function getResponseLength(response) {\n  if (response.bodyUsed || !response.body) return 0;\n  let length = 0;\n  const reader = response.body.getReader();\n  for (; ; ) {\n    const { done, value } = await reader.read();\n    if (done) break;\n    length += value.byteLength;\n  }\n  return length;\n}\nconst emptySchema = {\n  headers: !0,\n  cookie: !0,\n  query: !0,\n  params: !0,\n  body: !0,\n  response: !0\n};\nfunction deepClone(source, weak = /* @__PURE__ */ new WeakMap()) {\n  if (source === null || typeof source != \"object\" || typeof source == \"function\")\n    return source;\n  if (weak.has(source)) return weak.get(source);\n  if (Array.isArray(source)) {\n    const copy = new Array(source.length);\n    weak.set(source, copy);\n    for (let i = 0; i < source.length; i++)\n      copy[i] = deepClone(source[i], weak);\n    return copy;\n  }\n  if (typeof source == \"object\") {\n    const keys = Object.keys(source).concat(\n      Object.getOwnPropertySymbols(source)\n    ), cloned = {};\n    weak.set(source, cloned);\n    for (const key of keys)\n      cloned[key] = deepClone(source[key], weak);\n    return cloned;\n  }\n  return source;\n}\nexport {\n  ELYSIA_FORM_DATA,\n  ELYSIA_REQUEST_ID,\n  InvertedStatusMap,\n  PromiseGroup,\n  StatusMap,\n  asHookType,\n  checksum,\n  cloneInference,\n  deduplicateChecksum,\n  deepClone,\n  emptySchema,\n  encodePath,\n  filterGlobalHook,\n  fnToContainer,\n  form,\n  getLoosePath,\n  getResponseLength,\n  hasHeaderShorthand,\n  injectChecksum,\n  insertStandaloneValidator,\n  isClass,\n  isNotEmpty,\n  isNumericString,\n  lifeCycleToArray,\n  lifeCycleToFn,\n  localHookToLifeCycleStore,\n  mergeCookie,\n  mergeDeep,\n  mergeHook,\n  mergeLifeCycle,\n  mergeObjectArray,\n  mergeResponse,\n  mergeSchemaValidator,\n  primitiveHooks,\n  promoteEvent,\n  randomId,\n  redirect,\n  replaceUrlPath,\n  signCookie,\n  sse,\n  supportPerMethodInlineHandler,\n  unsignCookie\n};\n", "import { FormatRegistry } from \"@sinclair/typebox\";\nconst fullFormats = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: getTime(!0),\n  \"date-time\": getDateTime(!0),\n  \"iso-time\": getTime(!1),\n  \"iso-date-time\": getDateTime(!1),\n  // duration: https://tools.ietf.org/html/rfc3339#appendix-A\n  duration: /^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$/,\n  uri,\n  \"uri-reference\": /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n  // uri-template: https://tools.ietf.org/html/rfc6570\n  \"uri-template\": /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n  // For the source: https://gist.github.com/dperini/729294\n  // For test cases: https://mathiasbynens.be/demo/url-regex\n  url: /^(?:https?|ftp):\\/\\/(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)(?:\\.(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)$/,\n  ipv6: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))$/i,\n  regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  \"json-pointer\": /^(?:\\/(?:[^~/]|~0|~1)*)*$/,\n  \"json-pointer-uri-fragment\": /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  \"relative-json-pointer\": /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\n  // the following formats are used by the openapi specification: https://spec.openapis.org/oas/v3.0.0#data-types\n  // byte: https://github.com/miguelmota/is-base64\n  byte,\n  // signed 32 bit integer\n  int32: { type: \"number\", validate: validateInt32 },\n  // signed 64 bit integer\n  int64: { type: \"number\", validate: validateInt64 },\n  // C-type float\n  float: { type: \"number\", validate: validateNumber },\n  // C-type double\n  double: { type: \"number\", validate: validateNumber },\n  // hint to the UI to hide input strings\n  password: !0,\n  // unchecked string payload\n  binary: !0\n};\nfunction isLeapYear(year) {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\nconst DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/, DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction date(str) {\n  const matches = DATE.exec(str);\n  if (!matches) return !1;\n  const year = +matches[1], month = +matches[2], day = +matches[3];\n  return month >= 1 && month <= 12 && day >= 1 && day <= (month === 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\nconst TIME = /^(\\d\\d):(\\d\\d):(\\d\\d(?:\\.\\d+)?)(z|([+-])(\\d\\d)(?::?(\\d\\d))?)?$/i;\nfunction getTime(strictTimeZone) {\n  return function(str) {\n    const matches = TIME.exec(str);\n    if (!matches) return !1;\n    const hr = +matches[1], min = +matches[2], sec = +matches[3], tz = matches[4], tzSign = matches[5] === \"-\" ? -1 : 1, tzH = +(matches[6] || 0), tzM = +(matches[7] || 0);\n    if (tzH > 23 || tzM > 59 || strictTimeZone && !tz) return !1;\n    if (hr <= 23 && min <= 59 && sec < 60) return !0;\n    const utcMin = min - tzM * tzSign, utcHr = hr - tzH * tzSign - (utcMin < 0 ? 1 : 0);\n    return (utcHr === 23 || utcHr === -1) && (utcMin === 59 || utcMin === -1) && sec < 61;\n  };\n}\nconst parseDateTimeEmptySpace = (str) => str.charCodeAt(str.length - 6) === 32 ? str.slice(0, -6) + \"+\" + str.slice(-5) : str, DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction getDateTime(strictTimeZone) {\n  const time = getTime(strictTimeZone);\n  return function(str) {\n    const dateTime = str.split(DATE_TIME_SEPARATOR);\n    return dateTime.length === 2 && date(dateTime[0]) && time(dateTime[1]);\n  };\n}\nconst NOT_URI_FRAGMENT = /\\/|:/, URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nfunction uri(str) {\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\nconst BYTE = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;\nfunction byte(str) {\n  return BYTE.lastIndex = 0, BYTE.test(str);\n}\nconst MIN_INT32 = -(2 ** 31), MAX_INT32 = 2 ** 31 - 1;\nfunction validateInt32(value) {\n  return Number.isInteger(value) && value <= MAX_INT32 && value >= MIN_INT32;\n}\nfunction validateInt64(value) {\n  return Number.isInteger(value);\n}\nfunction validateNumber() {\n  return !0;\n}\nconst Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return !1;\n  try {\n    return new RegExp(str), !0;\n  } catch {\n    return !1;\n  }\n}\n/**\n * @license\n *\n * MIT License\n *\n * Copyright (c) 2020 Evgeny Poberezkin\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nconst isISO8601 = /(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/, isFormalDate = /(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s\\d{2}\\s\\d{4}\\s\\d{2}:\\d{2}:\\d{2}\\sGMT(?:\\+|-)\\d{4}\\s\\([^)]+\\)/, isShortenDate = /^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\\s-](?:0?[1-9]|1[0-2])[/\\s-](?:19|20)\\d{2})|(?:(?:19|20)\\d{2}[/\\s-](?:0?[1-9]|1[0-2])[/\\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\\s[AP]M)?)?$/, _validateDate = fullFormats.date, _validateDateTime = fullFormats[\"date-time\"];\nFormatRegistry.Has(\"date\") || FormatRegistry.Set(\"date\", (value) => {\n  const temp = parseDateTimeEmptySpace(value).replace(/\"/g, \"\");\n  if (isISO8601.test(temp) || isFormalDate.test(temp) || isShortenDate.test(temp) || _validateDate(temp)) {\n    const date2 = new Date(temp);\n    if (!Number.isNaN(date2.getTime())) return !0;\n  }\n  return !1;\n}), FormatRegistry.Has(\"date-time\") || FormatRegistry.Set(\"date-time\", (value) => {\n  const temp = value.replace(/\"/g, \"\");\n  if (isISO8601.test(temp) || isFormalDate.test(temp) || isShortenDate.test(temp) || _validateDateTime(temp)) {\n    const date2 = new Date(temp);\n    if (!Number.isNaN(date2.getTime())) return !0;\n  }\n  return !1;\n}), Object.entries(fullFormats).forEach((formatEntry) => {\n  const [formatName, formatValue] = formatEntry;\n  FormatRegistry.Has(formatName) || (formatValue instanceof RegExp ? FormatRegistry.Set(formatName, (value) => formatValue.test(value)) : typeof formatValue == \"function\" && FormatRegistry.Set(formatName, formatValue));\n}), FormatRegistry.Has(\"numeric\") || FormatRegistry.Set(\"numeric\", (value) => !!value && !isNaN(+value)), FormatRegistry.Has(\"integer\") || FormatRegistry.Set(\n  \"integer\",\n  (value) => !!value && Number.isInteger(+value)\n), FormatRegistry.Has(\"boolean\") || FormatRegistry.Set(\n  \"boolean\",\n  (value) => value === \"true\" || value === \"false\"\n), FormatRegistry.Has(\"ObjectString\") || FormatRegistry.Set(\"ObjectString\", (value) => {\n  let start = value.charCodeAt(0);\n  if ((start === 9 || start === 10 || start === 32) && (start = value.trimStart().charCodeAt(0)), start !== 123 && start !== 91) return !1;\n  try {\n    return JSON.parse(value), !0;\n  } catch {\n    return !1;\n  }\n}), FormatRegistry.Has(\"ArrayString\") || FormatRegistry.Set(\"ArrayString\", (value) => {\n  let start = value.charCodeAt(0);\n  if ((start === 9 || start === 10 || start === 32) && (start = value.trimStart().charCodeAt(0)), start !== 123 && start !== 91) return !1;\n  try {\n    return JSON.parse(value), !0;\n  } catch {\n    return !1;\n  }\n});\nexport {\n  fullFormats,\n  parseDateTimeEmptySpace\n};\n", "import { checksum } from \"./utils.mjs\";\nimport { isBun } from \"./universal/utils.mjs\";\nimport { isCloudflareWorker } from \"./adapter/cloudflare-worker/index.mjs\";\nconst separateFunction = (code) => {\n  code.startsWith(\"async\") && (code = code.slice(5)), code = code.trimStart();\n  let index = -1;\n  if (code.charCodeAt(0) === 40 && (index = code.indexOf(\"=>\", code.indexOf(\")\")), index !== -1)) {\n    let bracketEndIndex = index;\n    for (; bracketEndIndex > 0 && code.charCodeAt(--bracketEndIndex) !== 41; )\n      ;\n    let body = code.slice(index + 2);\n    return body.charCodeAt(0) === 32 && (body = body.trimStart()), [\n      code.slice(1, bracketEndIndex),\n      body,\n      {\n        isArrowReturn: body.charCodeAt(0) !== 123\n      }\n    ];\n  }\n  if (/^(\\w+)=>/g.test(code) && (index = code.indexOf(\"=>\"), index !== -1)) {\n    let body = code.slice(index + 2);\n    return body.charCodeAt(0) === 32 && (body = body.trimStart()), [\n      code.slice(0, index),\n      body,\n      {\n        isArrowReturn: body.charCodeAt(0) !== 123\n      }\n    ];\n  }\n  if (code.startsWith(\"function\")) {\n    index = code.indexOf(\"(\");\n    const end = code.indexOf(\")\");\n    return [\n      code.slice(index + 1, end),\n      code.slice(end + 2),\n      {\n        isArrowReturn: !1\n      }\n    ];\n  }\n  const start = code.indexOf(\"(\");\n  if (start !== -1) {\n    const sep = code.indexOf(`\n`, 2), parameter = code.slice(0, sep), end = parameter.lastIndexOf(\")\") + 1, body = code.slice(sep + 1);\n    return [\n      parameter.slice(start, end),\n      \"{\" + body,\n      {\n        isArrowReturn: !1\n      }\n    ];\n  }\n  const x = code.split(`\n`, 2);\n  return [x[0], x[1], { isArrowReturn: !1 }];\n}, bracketPairRange = (parameter) => {\n  const start = parameter.indexOf(\"{\");\n  if (start === -1) return [-1, 0];\n  let end = start + 1, deep = 1;\n  for (; end < parameter.length; end++) {\n    const char = parameter.charCodeAt(end);\n    if (char === 123 ? deep++ : char === 125 && deep--, deep === 0) break;\n  }\n  return deep !== 0 ? [0, parameter.length] : [start, end + 1];\n}, bracketPairRangeReverse = (parameter) => {\n  const end = parameter.lastIndexOf(\"}\");\n  if (end === -1) return [-1, 0];\n  let start = end - 1, deep = 1;\n  for (; start >= 0; start--) {\n    const char = parameter.charCodeAt(start);\n    if (char === 125 ? deep++ : char === 123 && deep--, deep === 0) break;\n  }\n  return deep !== 0 ? [-1, 0] : [start, end + 1];\n}, removeColonAlias = (parameter) => {\n  for (; ; ) {\n    const start = parameter.indexOf(\":\");\n    if (start === -1) break;\n    let end = parameter.indexOf(\",\", start);\n    end === -1 && (end = parameter.indexOf(\"}\", start) - 1), end === -2 && (end = parameter.length), parameter = parameter.slice(0, start) + parameter.slice(end);\n  }\n  return parameter;\n}, retrieveRootParamters = (parameter) => {\n  let hasParenthesis = !1;\n  parameter.charCodeAt(0) === 40 && (parameter = parameter.slice(1, -1)), parameter.charCodeAt(0) === 123 && (hasParenthesis = !0, parameter = parameter.slice(1, -1)), parameter = parameter.replace(/( |\\t|\\n)/g, \"\").trim();\n  let parameters = [];\n  for (; ; ) {\n    let [start, end] = bracketPairRange(parameter);\n    if (start === -1) break;\n    parameters.push(parameter.slice(0, start - 1)), parameter.charCodeAt(end) === 44 && end++, parameter = parameter.slice(end);\n  }\n  parameter = removeColonAlias(parameter), parameter && (parameters = parameters.concat(parameter.split(\",\")));\n  const parameterMap = /* @__PURE__ */ Object.create(null);\n  for (const p of parameters) {\n    if (p.indexOf(\",\") === -1) {\n      parameterMap[p] = !0;\n      continue;\n    }\n    for (const q of p.split(\",\")) parameterMap[q.trim()] = !0;\n  }\n  return {\n    hasParenthesis,\n    parameters: parameterMap\n  };\n}, findParameterReference = (parameter, inference) => {\n  const { parameters, hasParenthesis } = retrieveRootParamters(parameter);\n  return parameters.query && (inference.query = !0), parameters.headers && (inference.headers = !0), parameters.body && (inference.body = !0), parameters.cookie && (inference.cookie = !0), parameters.set && (inference.set = !0), parameters.server && (inference.server = !0), parameters.route && (inference.route = !0), parameters.url && (inference.url = !0), parameters.path && (inference.path = !0), hasParenthesis ? `{ ${Object.keys(parameters).join(\", \")} }` : Object.keys(parameters).join(\", \");\n}, findEndIndex = (type, content, index) => {\n  const regex = new RegExp(\n    `${type.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\")}[\\\\n\\\\t,; ]`\n  );\n  index !== void 0 && (regex.lastIndex = index);\n  const match = regex.exec(content);\n  return match ? match.index : -1;\n}, findEndQueryBracketIndex = (type, content, index) => {\n  const bracketEndIndex = content.indexOf(type + \"]\", index), singleQuoteIndex = content.indexOf(type + \"'\", index), doubleQuoteIndex = content.indexOf(type + '\"', index);\n  return [bracketEndIndex, singleQuoteIndex, doubleQuoteIndex].filter((i) => i > 0).sort((a, b) => a - b)[0] || -1;\n}, findAlias = (type, body, depth = 0) => {\n  if (depth > 5) return [];\n  const aliases = [];\n  let content = body;\n  for (; ; ) {\n    let index = findEndIndex(\" = \" + type, content);\n    if (index === -1 && (index = findEndIndex(\"=\" + type, content)), index === -1) {\n      let lastIndex = content.indexOf(\" = \" + type);\n      if (lastIndex === -1 && (lastIndex = content.indexOf(\"=\" + type)), lastIndex + 3 + type.length !== content.length) break;\n      index = lastIndex;\n    }\n    const part = content.slice(0, index), lastPart = part.lastIndexOf(\" \");\n    let variable = part.slice(lastPart !== -1 ? lastPart + 1 : -1);\n    if (variable === \"}\") {\n      const [start, end] = bracketPairRangeReverse(part);\n      aliases.push(removeColonAlias(content.slice(start, end))), content = content.slice(index + 3 + type.length);\n      continue;\n    }\n    for (; variable.charCodeAt(0) === 44; ) variable = variable.slice(1);\n    for (; variable.charCodeAt(0) === 9; ) variable = variable.slice(1);\n    variable.includes(\"(\") || aliases.push(variable), content = content.slice(index + 3 + type.length);\n  }\n  for (const alias of aliases) {\n    if (alias.charCodeAt(0) === 123) continue;\n    const deepAlias = findAlias(alias, body);\n    deepAlias.length > 0 && aliases.push(...deepAlias);\n  }\n  return aliases;\n}, extractMainParameter = (parameter) => {\n  if (!parameter) return;\n  if (parameter.charCodeAt(0) !== 123) return parameter;\n  if (parameter = parameter.slice(2, -2), !parameter.includes(\",\"))\n    return parameter.indexOf(\"...\") !== -1 ? parameter.slice(parameter.indexOf(\"...\") + 3) : void 0;\n  const spreadIndex = parameter.indexOf(\"...\");\n  if (spreadIndex !== -1)\n    return parameter.slice(spreadIndex + 3).trimEnd();\n}, inferBodyReference = (code, aliases, inference) => {\n  const access = (type, alias) => new RegExp(\n    `${alias}\\\\.(${type})|${alias}\\\\[\"${type}\"\\\\]|${alias}\\\\['${type}'\\\\]`\n  ).test(code);\n  for (const alias of aliases)\n    if (alias) {\n      if (alias.charCodeAt(0) === 123) {\n        const parameters = retrieveRootParamters(alias).parameters;\n        parameters.query && (inference.query = !0), parameters.headers && (inference.headers = !0), parameters.body && (inference.body = !0), parameters.cookie && (inference.cookie = !0), parameters.set && (inference.set = !0), parameters.server && (inference.server = !0), parameters.url && (inference.url = !0), parameters.route && (inference.route = !0), parameters.path && (inference.path = !0);\n        continue;\n      }\n      if (!inference.query && (access(\"query\", alias) || code.includes(\"return \" + alias) || code.includes(\"return \" + alias + \".query\")) && (inference.query = !0), !inference.headers && access(\"headers\", alias) && (inference.headers = !0), !inference.body && access(\"body\", alias) && (inference.body = !0), !inference.cookie && access(\"cookie\", alias) && (inference.cookie = !0), !inference.set && access(\"set\", alias) && (inference.set = !0), !inference.server && access(\"server\", alias) && (inference.server = !0), !inference.route && access(\"route\", alias) && (inference.route = !0), !inference.url && access(\"url\", alias) && (inference.url = !0), !inference.path && access(\"path\", alias) && (inference.path = !0), inference.query && inference.headers && inference.body && inference.cookie && inference.set && inference.server && inference.route && inference.url && inference.path)\n        break;\n    }\n  return aliases;\n}, removeDefaultParameter = (parameter) => {\n  for (; ; ) {\n    const index = parameter.indexOf(\"=\");\n    if (index === -1) break;\n    const commaIndex = parameter.indexOf(\",\", index), bracketIndex = parameter.indexOf(\"}\", index), end = [commaIndex, bracketIndex].filter((i) => i > 0).sort((a, b) => a - b)[0] || -1;\n    if (end === -1) {\n      parameter = parameter.slice(0, index);\n      break;\n    }\n    parameter = parameter.slice(0, index) + parameter.slice(end);\n  }\n  return parameter.split(\",\").map((i) => i.trim()).join(\", \");\n}, isContextPassToFunction = (context, body, inference) => {\n  try {\n    const captureFunction = new RegExp(`\\\\w\\\\((.*?)?${context}`, \"gs\");\n    captureFunction.test(body);\n    const nextChar = body.charCodeAt(captureFunction.lastIndex);\n    return nextChar === 41 || nextChar === 44 ? (inference.query = !0, inference.headers = !0, inference.body = !0, inference.cookie = !0, inference.set = !0, inference.server = !0, inference.url = !0, inference.route = !0, inference.path = !0, !0) : !1;\n  } catch {\n    return console.log(\n      \"[Sucrose] warning: unexpected isContextPassToFunction error, you may continue development as usual but please report the following to maintainers:\"\n    ), console.log(\"--- body ---\"), console.log(body), console.log(\"--- context ---\"), console.log(context), !0;\n  }\n};\nlet pendingGC, caches = {};\nconst clearSucroseCache = (delay) => {\n  delay === null || isCloudflareWorker() || (delay === void 0 && (delay = 4 * 60 * 1e3 + 55 * 1e3), pendingGC && clearTimeout(pendingGC), pendingGC = setTimeout(() => {\n    caches = {}, pendingGC = void 0, isBun && Bun.gc(!1);\n  }, delay));\n}, mergeInference = (a, b) => ({\n  body: a.body || b.body,\n  cookie: a.cookie || b.cookie,\n  headers: a.headers || b.headers,\n  query: a.query || b.query,\n  set: a.set || b.set,\n  server: a.server || b.server,\n  url: a.url || b.url,\n  route: a.route || b.route,\n  path: a.path || b.path\n}), sucrose = (lifeCycle, inference = {\n  query: !1,\n  headers: !1,\n  body: !1,\n  cookie: !1,\n  set: !1,\n  server: !1,\n  url: !1,\n  route: !1,\n  path: !1\n}, settings = {}) => {\n  const events = [];\n  lifeCycle.request?.length && events.push(...lifeCycle.request), lifeCycle.beforeHandle?.length && events.push(...lifeCycle.beforeHandle), lifeCycle.parse?.length && events.push(...lifeCycle.parse), lifeCycle.error?.length && events.push(...lifeCycle.error), lifeCycle.transform?.length && events.push(...lifeCycle.transform), lifeCycle.afterHandle?.length && events.push(...lifeCycle.afterHandle), lifeCycle.mapResponse?.length && events.push(...lifeCycle.mapResponse), lifeCycle.afterResponse?.length && events.push(...lifeCycle.afterResponse), lifeCycle.handler && typeof lifeCycle.handler == \"function\" && events.push(lifeCycle.handler);\n  for (let i = 0; i < events.length; i++) {\n    const e = events[i];\n    if (!e) continue;\n    const event = typeof e == \"object\" ? e.fn : e;\n    if (typeof event != \"function\") continue;\n    const content = event.toString(), key = checksum(content), cachedInference = caches[key];\n    if (cachedInference) {\n      inference = mergeInference(inference, cachedInference);\n      continue;\n    }\n    clearSucroseCache(settings.gcTime);\n    const fnInference = {\n      query: !1,\n      headers: !1,\n      body: !1,\n      cookie: !1,\n      set: !1,\n      server: !1,\n      url: !1,\n      route: !1,\n      path: !1\n    }, [parameter, body] = separateFunction(content), rootParameters = findParameterReference(parameter, fnInference), mainParameter = extractMainParameter(rootParameters);\n    if (mainParameter) {\n      const aliases = findAlias(mainParameter, body.slice(1, -1));\n      aliases.splice(0, -1, mainParameter);\n      let code = body;\n      code.charCodeAt(0) === 123 && code.charCodeAt(body.length - 1) === 125 && (code = code.slice(1, -1)), isContextPassToFunction(mainParameter, code, fnInference) || inferBodyReference(code, aliases, fnInference), !fnInference.query && code.includes(\"return \" + mainParameter + \".query\") && (fnInference.query = !0);\n    }\n    if (caches[key] || (caches[key] = fnInference), inference = mergeInference(inference, fnInference), inference.query && inference.headers && inference.body && inference.cookie && inference.set && inference.server && inference.url && inference.route && inference.path)\n      break;\n  }\n  return inference;\n};\nexport {\n  bracketPairRange,\n  bracketPairRangeReverse,\n  clearSucroseCache,\n  extractMainParameter,\n  findAlias,\n  findParameterReference,\n  inferBodyReference,\n  isContextPassToFunction,\n  mergeInference,\n  removeColonAlias,\n  removeDefaultParameter,\n  retrieveRootParamters,\n  separateFunction,\n  sucrose\n};\n", "import { WebStandardAdapter } from \"../web-standard/index.mjs\";\nfunction isCloudflareWorker() {\n  try {\n    if (\n      // @ts-ignore\n      typeof caches < \"u\" && // @ts-ignore\n      typeof caches.default < \"u\" || typeof WebSocketPair < \"u\"\n    ) return !0;\n  } catch {\n    return !1;\n  }\n  return !1;\n}\nconst CloudflareAdapter = {\n  ...WebStandardAdapter,\n  name: \"cloudflare-worker\",\n  composeGeneralHandler: {\n    ...WebStandardAdapter.composeGeneralHandler,\n    error404(hasEventHook, hasErrorHook, afterHandle) {\n      const { code } = WebStandardAdapter.composeGeneralHandler.error404(\n        hasEventHook,\n        hasErrorHook,\n        afterHandle\n      );\n      return {\n        code,\n        declare: hasErrorHook ? \"\" : (\n          // This only work because Elysia only clone the Response via .clone()\n          `const error404Message=notFound.message.toString()\nconst error404={clone:()=>new Response(error404Message,{status:404})}\n`\n        )\n      };\n    }\n  },\n  beforeCompile(app) {\n    for (const route of app.routes) route.compile();\n  },\n  listen(app) {\n    return (options, callback) => {\n      console.warn(\n        \"Cloudflare Worker does not support listen method. Please export default Elysia instance instead.\"\n      ), app.compile();\n    };\n  }\n};\nexport {\n  CloudflareAdapter,\n  isCloudflareWorker\n};\n", "import {\n  mapResponse,\n  mapEarlyResponse,\n  mapCompactResponse,\n  createStaticHandler\n} from \"./handler.mjs\";\nconst WebStandardAdapter = {\n  name: \"web-standard\",\n  isWebStandard: !0,\n  handler: {\n    mapResponse,\n    mapEarlyResponse,\n    mapCompactResponse,\n    createStaticHandler\n  },\n  composeHandler: {\n    mapResponseContext: \"c.request\",\n    preferWebstandardHeaders: !0,\n    // @ts-ignore Bun specific\n    headers: `c.headers={}\nfor(const [k,v] of c.request.headers.entries())c.headers[k]=v\n`,\n    parser: {\n      json(isOptional) {\n        return isOptional ? `try{c.body=await c.request.json()}catch{}\n` : `c.body=await c.request.json()\n`;\n      },\n      text() {\n        return `c.body=await c.request.text()\n`;\n      },\n      urlencoded() {\n        return `c.body=parseQuery(await c.request.text())\n`;\n      },\n      arrayBuffer() {\n        return `c.body=await c.request.arrayBuffer()\n`;\n      },\n      formData(isOptional) {\n        let fnLiteral = `\nc.body={}\n`;\n        return isOptional ? fnLiteral += \"let form;try{form=await c.request.formData()}catch{}\" : fnLiteral += `const form=await c.request.formData()\n`, fnLiteral + `for(const key of form.keys()){if(c.body[key]) continue\nconst value=form.getAll(key)\nif(value.length===1)c.body[key]=value[0]\nelse c.body[key]=value}`;\n      }\n    }\n  },\n  async stop(app, closeActiveConnections) {\n    if (!app.server)\n      throw new Error(\n        \"Elysia isn't running. Call `app.listen` to start the server.\"\n      );\n    if (app.server && (await app.server.stop(closeActiveConnections), app.server = null, app.event.stop?.length))\n      for (let i = 0; i < app.event.stop.length; i++)\n        app.event.stop[i].fn(app);\n  },\n  composeGeneralHandler: {\n    parameters: \"r\",\n    createContext(app) {\n      let decoratorsLiteral = \"\", fnLiteral = \"\";\n      const defaultHeaders = app.setHeaders;\n      for (const key of Object.keys(app.decorator))\n        decoratorsLiteral += `,'${key}':decorator['${key}']`;\n      const standardHostname = app.config.handler?.standardHostname ?? !0, hasTrace = !!app.event.trace?.length;\n      return fnLiteral += `const u=r.url,s=u.indexOf('/',${standardHostname ? 11 : 7}),qi=u.indexOf('?',s+1)\nlet p\nif(qi===-1)p=u.substring(s)\nelse p=u.substring(s, qi)\n`, hasTrace && (fnLiteral += `const id=randomId()\n`), fnLiteral += \"const c={request:r,store,qi,path:p,url:u,redirect,status,set:{headers:\", fnLiteral += Object.keys(defaultHeaders ?? {}).length ? \"Object.assign({},app.setHeaders)\" : \"Object.create(null)\", fnLiteral += \",status:200}\", app.inference.server && (fnLiteral += \",get server(){return app.getServer()}\"), hasTrace && (fnLiteral += \",[ELYSIA_REQUEST_ID]:id\"), fnLiteral += decoratorsLiteral, fnLiteral += `}\n`, fnLiteral;\n    },\n    error404(hasEventHook, hasErrorHook, afterHandle = \"\") {\n      let findDynamicRoute = \"if(route===null){\" + afterHandle + (hasErrorHook ? \"\" : \"c.set.status=404\") + `\nreturn `;\n      return hasErrorHook ? findDynamicRoute += `app.handleError(c,notFound,false,${this.parameters})` : findDynamicRoute += hasEventHook ? \"c.response=c.responseValue=new Response(error404Message,{status:c.set.status===200?404:c.set.status,headers:c.set.headers})\" : \"c.response=c.responseValue=error404.clone()\", findDynamicRoute += \"}\", {\n        declare: hasErrorHook ? \"\" : `const error404Message=notFound.message.toString()\nconst error404=new Response(error404Message,{status:404})\n`,\n        code: findDynamicRoute\n      };\n    }\n  },\n  composeError: {\n    mapResponseContext: \"\",\n    validationError: \"return new Response(error.message,{headers:Object.assign({'content-type':'application/json'},set.headers),status:set.status})\",\n    unknownError: \"return new Response(error.message,{headers:set.headers,status:error.status??set.status??500})\"\n  },\n  listen() {\n    return () => {\n      throw new Error(\n        \"WebStandard does not support listen, you might want to export default Elysia.fetch instead\"\n      );\n    };\n  }\n};\nexport {\n  WebStandardAdapter\n};\n", "import {\n  createResponseHandler,\n  createStreamHandler,\n  handleFile,\n  handleSet\n} from \"../utils.mjs\";\nimport { mime } from \"../../universal/file.mjs\";\nimport { isNotEmpty } from \"../../utils.mjs\";\nimport { Cookie } from \"../../cookies.mjs\";\nimport { ElysiaCustomStatusResponse } from \"../../error.mjs\";\nconst handleElysiaFile = (file, set2 = {\n  headers: {}\n}) => {\n  const path = file.path, contentType = mime[path.slice(path.lastIndexOf(\".\") + 1)];\n  return contentType && (set2.headers[\"content-type\"] = contentType), file.stats && set2.status !== 206 && set2.status !== 304 && set2.status !== 412 && set2.status !== 416 ? file.stats.then((stat) => {\n    const size = stat.size;\n    return size !== void 0 && (set2.headers[\"content-range\"] = `bytes 0-${size - 1}/${size}`, set2.headers[\"content-length\"] = size), handleFile(file.value, set2);\n  }) : handleFile(file.value, set2);\n}, mapResponse = (response, set2, request) => {\n  if (isNotEmpty(set2.headers) || set2.status !== 200 || set2.cookie)\n    switch (handleSet(set2), response?.constructor?.name) {\n      case \"String\":\n        return set2.headers[\"content-type\"] = \"text/plain\", new Response(response, set2);\n      case \"Array\":\n      case \"Object\":\n        return set2.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set2);\n      case \"ElysiaFile\":\n        return handleElysiaFile(response, set2);\n      case \"File\":\n        return handleFile(response, set2);\n      case \"Blob\":\n        return handleFile(response, set2);\n      case \"ElysiaCustomStatusResponse\":\n        return set2.status = response.code, mapResponse(\n          response.response,\n          set2,\n          request\n        );\n      case void 0:\n        return response ? new Response(JSON.stringify(response), set2) : new Response(\"\", set2);\n      case \"Response\":\n        return handleResponse(response, set2, request);\n      case \"Error\":\n        return errorToResponse(response, set2);\n      case \"Promise\":\n        return response.then(\n          (x) => mapResponse(x, set2, request)\n        );\n      case \"Function\":\n        return mapResponse(response(), set2, request);\n      case \"Number\":\n      case \"Boolean\":\n        return new Response(\n          response.toString(),\n          set2\n        );\n      case \"Cookie\":\n        return response instanceof Cookie ? new Response(response.value, set2) : new Response(response?.toString(), set2);\n      case \"FormData\":\n        return new Response(response, set2);\n      default:\n        if (response instanceof Response)\n          return handleResponse(response, set2, request);\n        if (response instanceof Promise)\n          return response.then((x) => mapResponse(x, set2));\n        if (response instanceof Error)\n          return errorToResponse(response, set2);\n        if (response instanceof ElysiaCustomStatusResponse)\n          return set2.status = response.code, mapResponse(\n            response.response,\n            set2,\n            request\n          );\n        if (\n          // @ts-expect-error\n          typeof response?.next == \"function\" || response instanceof ReadableStream\n        )\n          return handleStream(response, set2, request);\n        if (typeof response?.then == \"function\")\n          return response.then((x) => mapResponse(x, set2));\n        if (typeof response?.toResponse == \"function\")\n          return mapResponse(response.toResponse(), set2);\n        if (\"charCodeAt\" in response) {\n          const code = response.charCodeAt(0);\n          if (code === 123 || code === 91)\n            return set2.headers[\"Content-Type\"] || (set2.headers[\"Content-Type\"] = \"application/json\"), new Response(\n              JSON.stringify(response),\n              set2\n            );\n        }\n        return new Response(response, set2);\n    }\n  return (\n    // @ts-expect-error\n    typeof response?.next == \"function\" || response instanceof ReadableStream ? handleStream(response, set2, request) : mapCompactResponse(response, request)\n  );\n}, mapEarlyResponse = (response, set2, request) => {\n  if (response != null)\n    if (isNotEmpty(set2.headers) || set2.status !== 200 || set2.cookie)\n      switch (handleSet(set2), response?.constructor?.name) {\n        case \"String\":\n          return set2.headers[\"content-type\"] = \"text/plain\", new Response(response, set2);\n        case \"Array\":\n        case \"Object\":\n          return set2.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set2);\n        case \"ElysiaFile\":\n          return handleElysiaFile(response, set2);\n        case \"File\":\n          return handleFile(response, set2);\n        case \"Blob\":\n          return handleFile(response, set2);\n        case \"ElysiaCustomStatusResponse\":\n          return set2.status = response.code, mapEarlyResponse(\n            response.response,\n            set2,\n            request\n          );\n        case void 0:\n          return response ? new Response(JSON.stringify(response), set2) : void 0;\n        case \"Response\":\n          return handleResponse(response, set2, request);\n        case \"Promise\":\n          return response.then(\n            (x) => mapEarlyResponse(x, set2)\n          );\n        case \"Error\":\n          return errorToResponse(response, set2);\n        case \"Function\":\n          return mapEarlyResponse(response(), set2);\n        case \"Number\":\n        case \"Boolean\":\n          return new Response(\n            response.toString(),\n            set2\n          );\n        case \"FormData\":\n          return new Response(response);\n        case \"Cookie\":\n          return response instanceof Cookie ? new Response(response.value, set2) : new Response(response?.toString(), set2);\n        default:\n          if (response instanceof Response)\n            return handleResponse(response, set2, request);\n          if (response instanceof Promise)\n            return response.then((x) => mapEarlyResponse(x, set2));\n          if (response instanceof Error)\n            return errorToResponse(response, set2);\n          if (response instanceof ElysiaCustomStatusResponse)\n            return set2.status = response.code, mapEarlyResponse(\n              response.response,\n              set2,\n              request\n            );\n          if (\n            // @ts-expect-error\n            typeof response?.next == \"function\" || response instanceof ReadableStream\n          )\n            return handleStream(response, set2, request);\n          if (typeof response?.then == \"function\")\n            return response.then((x) => mapEarlyResponse(x, set2));\n          if (typeof response?.toResponse == \"function\")\n            return mapEarlyResponse(response.toResponse(), set2);\n          if (\"charCodeAt\" in response) {\n            const code = response.charCodeAt(0);\n            if (code === 123 || code === 91)\n              return set2.headers[\"Content-Type\"] || (set2.headers[\"Content-Type\"] = \"application/json\"), new Response(\n                JSON.stringify(response),\n                set2\n              );\n          }\n          return new Response(response, set2);\n      }\n    else\n      switch (response?.constructor?.name) {\n        case \"String\":\n          return set2.headers[\"content-type\"] = \"text/plain\", new Response(response);\n        case \"Array\":\n        case \"Object\":\n          return set2.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set2);\n        case \"ElysiaFile\":\n          return handleElysiaFile(response, set2);\n        case \"File\":\n          return handleFile(response, set2);\n        case \"Blob\":\n          return handleFile(response, set2);\n        case \"ElysiaCustomStatusResponse\":\n          return set2.status = response.code, mapEarlyResponse(\n            response.response,\n            set2,\n            request\n          );\n        case void 0:\n          return response ? new Response(JSON.stringify(response), {\n            headers: {\n              \"content-type\": \"application/json\"\n            }\n          }) : new Response(\"\");\n        case \"Response\":\n          return response;\n        case \"Promise\":\n          return response.then((x) => {\n            const r = mapEarlyResponse(x, set2);\n            if (r !== void 0) return r;\n          });\n        case \"Error\":\n          return errorToResponse(response, set2);\n        case \"Function\":\n          return mapCompactResponse(response(), request);\n        case \"Number\":\n        case \"Boolean\":\n          return new Response(response.toString());\n        case \"Cookie\":\n          return response instanceof Cookie ? new Response(response.value, set2) : new Response(response?.toString(), set2);\n        case \"FormData\":\n          return new Response(response);\n        default:\n          if (response instanceof Response) return response;\n          if (response instanceof Promise)\n            return response.then((x) => mapEarlyResponse(x, set2));\n          if (response instanceof Error)\n            return errorToResponse(response, set2);\n          if (response instanceof ElysiaCustomStatusResponse)\n            return set2.status = response.code, mapEarlyResponse(\n              response.response,\n              set2,\n              request\n            );\n          if (\n            // @ts-expect-error\n            typeof response?.next == \"function\" || response instanceof ReadableStream\n          )\n            return handleStream(response, set2, request);\n          if (typeof response?.then == \"function\")\n            return response.then((x) => mapEarlyResponse(x, set2));\n          if (typeof response?.toResponse == \"function\")\n            return mapEarlyResponse(response.toResponse(), set2);\n          if (\"charCodeAt\" in response) {\n            const code = response.charCodeAt(0);\n            if (code === 123 || code === 91)\n              return set2.headers[\"Content-Type\"] || (set2.headers[\"Content-Type\"] = \"application/json\"), new Response(\n                JSON.stringify(response),\n                set2\n              );\n          }\n          return new Response(response);\n      }\n}, mapCompactResponse = (response, request) => {\n  switch (response?.constructor?.name) {\n    case \"String\":\n      return new Response(response, {\n        headers: {\n          \"Content-Type\": \"text/plain\"\n        }\n      });\n    case \"Object\":\n    case \"Array\":\n      return new Response(JSON.stringify(response), {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    case \"ElysiaFile\":\n      return handleElysiaFile(response);\n    case \"File\":\n      return handleFile(response);\n    case \"Blob\":\n      return handleFile(response);\n    case \"ElysiaCustomStatusResponse\":\n      return mapResponse(\n        response.response,\n        {\n          status: response.code,\n          headers: {}\n        }\n      );\n    case void 0:\n      return response ? new Response(JSON.stringify(response), {\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      }) : new Response(\"\");\n    case \"Response\":\n      return response;\n    case \"Error\":\n      return errorToResponse(response);\n    case \"Promise\":\n      return response.then(\n        (x) => mapCompactResponse(x, request)\n      );\n    // ? Maybe response or Blob\n    case \"Function\":\n      return mapCompactResponse(response(), request);\n    case \"Number\":\n    case \"Boolean\":\n      return new Response(response.toString());\n    case \"FormData\":\n      return new Response(response);\n    default:\n      if (response instanceof Response) return response;\n      if (response instanceof Promise)\n        return response.then(\n          (x) => mapCompactResponse(x, request)\n        );\n      if (response instanceof Error)\n        return errorToResponse(response);\n      if (response instanceof ElysiaCustomStatusResponse)\n        return mapResponse(\n          response.response,\n          {\n            status: response.code,\n            headers: {}\n          }\n        );\n      if (\n        // @ts-expect-error\n        typeof response?.next == \"function\" || response instanceof ReadableStream\n      )\n        return handleStream(response, void 0, request);\n      if (typeof response?.then == \"function\")\n        return response.then((x) => mapResponse(x, set));\n      if (typeof response?.toResponse == \"function\")\n        return mapCompactResponse(response.toResponse());\n      if (\"charCodeAt\" in response) {\n        const code = response.charCodeAt(0);\n        if (code === 123 || code === 91)\n          return new Response(JSON.stringify(response), {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          });\n      }\n      return new Response(response);\n  }\n}, errorToResponse = (error, set2) => new Response(\n  JSON.stringify({\n    name: error?.name,\n    message: error?.message,\n    cause: error?.cause\n  }),\n  {\n    status: set2?.status !== 200 ? set2?.status ?? 500 : 500,\n    headers: set2?.headers\n  }\n), createStaticHandler = (handle, hooks, setHeaders = {}) => {\n  if (typeof handle == \"function\") return;\n  const response = mapResponse(handle, {\n    headers: setHeaders\n  });\n  if (!hooks.parse?.length && !hooks.transform?.length && !hooks.beforeHandle?.length && !hooks.afterHandle?.length)\n    return () => response.clone();\n}, handleResponse = createResponseHandler({\n  mapResponse,\n  mapCompactResponse\n}), handleStream = createStreamHandler({\n  mapResponse,\n  mapCompactResponse\n});\nexport {\n  createStaticHandler,\n  errorToResponse,\n  mapCompactResponse,\n  mapEarlyResponse,\n  mapResponse\n};\n", "import { serializeCookie } from \"../cookies.mjs\";\nimport { hasHeaderShorthand, isNotEmpty, StatusMap } from \"../utils.mjs\";\nimport { isBun } from \"../universal/utils.mjs\";\nimport { env } from \"../universal/index.mjs\";\nconst handleFile = (response, set) => {\n  if (!isBun && response instanceof Promise)\n    return response.then((res) => handleFile(res, set));\n  const size = response.size, immutable = set && (set.status === 206 || set.status === 304 || set.status === 412 || set.status === 416), defaultHeader = immutable ? {} : {\n    \"accept-ranges\": \"bytes\",\n    \"content-range\": size ? `bytes 0-${size - 1}/${size}` : void 0\n  };\n  if (!set && !size) return new Response(response);\n  if (!set)\n    return new Response(response, {\n      headers: defaultHeader\n    });\n  if (set.headers instanceof Headers) {\n    for (const key of Object.keys(defaultHeader))\n      key in set.headers && set.headers.append(key, defaultHeader[key]);\n    return immutable && (set.headers.delete(\"content-length\"), set.headers.delete(\"accept-ranges\")), new Response(response, set);\n  }\n  return isNotEmpty(set.headers) ? new Response(response, {\n    status: set.status,\n    headers: Object.assign(defaultHeader, set.headers)\n  }) : new Response(response, {\n    status: set.status,\n    headers: defaultHeader\n  });\n}, parseSetCookies = (headers, setCookie) => {\n  if (!headers) return headers;\n  headers.delete(\"set-cookie\");\n  for (let i = 0; i < setCookie.length; i++) {\n    const index = setCookie[i].indexOf(\"=\");\n    headers.append(\n      \"set-cookie\",\n      `${setCookie[i].slice(0, index)}=${setCookie[i].slice(index + 1) || \"\"}`\n    );\n  }\n  return headers;\n}, responseToSetHeaders = (response, set) => {\n  if (set?.headers) {\n    if (response)\n      if (hasHeaderShorthand)\n        Object.assign(set.headers, response.headers.toJSON());\n      else\n        for (const [key, value] of response.headers.entries())\n          key in set.headers && (set.headers[key] = value);\n    return set.status === 200 && (set.status = response.status), set.headers[\"content-encoding\"] && delete set.headers[\"content-encoding\"], set;\n  }\n  if (!response)\n    return {\n      headers: {},\n      status: set?.status ?? 200\n    };\n  if (hasHeaderShorthand)\n    return set = {\n      headers: response.headers.toJSON(),\n      status: set?.status ?? 200\n    }, set.headers[\"content-encoding\"] && delete set.headers[\"content-encoding\"], set;\n  set = {\n    headers: {},\n    status: set?.status ?? 200\n  };\n  for (const [key, value] of response.headers.entries())\n    key !== \"content-encoding\" && key in set.headers && (set.headers[key] = value);\n  return set;\n}, allowRapidStream = env.ELYSIA_RAPID_STREAM === \"true\", createStreamHandler = ({ mapResponse, mapCompactResponse }) => async (generator, set, request) => {\n  let init = generator.next?.();\n  if (set && handleSet(set), init instanceof Promise && (init = await init), init?.value instanceof ReadableStream)\n    generator = init.value;\n  else if (init && (typeof init?.done > \"u\" || init?.done))\n    return set ? mapResponse(init.value, set, request) : mapCompactResponse(init.value, request);\n  const isSSE = (\n    // @ts-ignore First SSE result is wrapped with sse()\n    init?.value?.sse ?? // @ts-ignore ReadableStream is wrapped with sse()\n    generator?.sse ?? // User explicitly set content-type to SSE\n    set?.headers[\"content-type\"]?.startsWith(\"text/event-stream\")\n  ), format = isSSE ? (data) => `data: ${data}\n\n` : (data) => data, contentType = isSSE ? \"text/event-stream\" : init?.value && typeof init?.value == \"object\" ? \"application/json\" : \"text/plain\";\n  set?.headers ? (set.headers[\"transfer-encoding\"] || (set.headers[\"transfer-encoding\"] = \"chunked\"), set.headers[\"content-type\"] || (set.headers[\"content-type\"] = contentType), set.headers[\"cache-control\"] || (set.headers[\"cache-control\"] = \"no-cache\")) : set = {\n    status: 200,\n    headers: {\n      \"content-type\": contentType,\n      \"transfer-encoding\": \"chunked\",\n      \"cache-control\": \"no-cache\",\n      connection: \"keep-alive\"\n    }\n  };\n  const isBrowser = request?.headers.has(\"Origin\");\n  return new Response(\n    new ReadableStream({\n      async start(controller) {\n        let end = !1;\n        if (request?.signal?.addEventListener(\"abort\", () => {\n          end = !0;\n          try {\n            controller.close();\n          } catch {\n          }\n        }), !(!init || init.value instanceof ReadableStream)) {\n          if (init.value !== void 0 && init.value !== null)\n            if (init.value.toSSE)\n              controller.enqueue(init.value.toSSE());\n            else if (typeof init.value == \"object\")\n              try {\n                controller.enqueue(\n                  format(JSON.stringify(init.value))\n                );\n              } catch {\n                controller.enqueue(\n                  format(init.value.toString())\n                );\n              }\n            else controller.enqueue(format(init.value.toString()));\n        }\n        try {\n          for await (const chunk of generator) {\n            if (end) break;\n            if (chunk != null)\n              if (chunk.toSSE)\n                controller.enqueue(chunk.toSSE());\n              else {\n                if (typeof chunk == \"object\")\n                  try {\n                    controller.enqueue(\n                      format(JSON.stringify(chunk))\n                    );\n                  } catch {\n                    controller.enqueue(\n                      format(chunk.toString())\n                    );\n                  }\n                else\n                  controller.enqueue(format(chunk.toString()));\n                !allowRapidStream && isBrowser && !isSSE && await new Promise(\n                  (resolve) => setTimeout(() => resolve(), 0)\n                );\n              }\n          }\n        } catch (error) {\n          console.warn(error);\n        }\n        try {\n          controller.close();\n        } catch {\n        }\n      }\n    }),\n    set\n  );\n};\nasync function* streamResponse(response) {\n  const body = response.body;\n  if (!body) return;\n  const reader = body.getReader(), decoder = new TextDecoder();\n  try {\n    for (; ; ) {\n      const { done, value } = await reader.read();\n      if (done) break;\n      typeof value == \"string\" ? yield value : yield decoder.decode(value);\n    }\n  } finally {\n    reader.releaseLock();\n  }\n}\nconst handleSet = (set) => {\n  if (typeof set.status == \"string\" && (set.status = StatusMap[set.status]), set.cookie && isNotEmpty(set.cookie)) {\n    const cookie = serializeCookie(set.cookie);\n    cookie && (set.headers[\"set-cookie\"] = cookie);\n  }\n  set.headers[\"set-cookie\"] && Array.isArray(set.headers[\"set-cookie\"]) && (set.headers = parseSetCookies(\n    new Headers(set.headers),\n    set.headers[\"set-cookie\"]\n  ));\n}, createResponseHandler = (handler) => {\n  const handleStream = createStreamHandler(handler);\n  return (response, set, request) => {\n    let isCookieSet = !1;\n    if (set.headers instanceof Headers)\n      for (const key of set.headers.keys())\n        if (key === \"set-cookie\") {\n          if (isCookieSet) continue;\n          isCookieSet = !0;\n          for (const cookie of set.headers.getSetCookie())\n            response.headers.append(\"set-cookie\", cookie);\n        } else response.headers.append(key, set.headers?.get(key) ?? \"\");\n    else\n      for (const key in set.headers)\n        response.headers.append(\n          key,\n          set.headers[key]\n        );\n    const status = set.status ?? 200;\n    if (response.status !== status && status !== 200 && (response.status <= 300 || response.status > 400)) {\n      const newResponse = new Response(response.body, {\n        headers: response.headers,\n        status: set.status\n      });\n      return !newResponse.headers.has(\"content-length\") && newResponse.headers.get(\"transfer-encoding\") === \"chunked\" ? handleStream(\n        streamResponse(newResponse),\n        responseToSetHeaders(newResponse, set),\n        request\n      ) : newResponse;\n    }\n    return !response.headers.has(\"content-length\") && response.headers.get(\"transfer-encoding\") === \"chunked\" ? handleStream(\n      streamResponse(response),\n      responseToSetHeaders(response, set),\n      request\n    ) : response;\n  };\n};\nasync function tee(source, branches = 2) {\n  const buffer = [];\n  let done = !1, waiting = [];\n  (async () => {\n    for await (const value of source)\n      buffer.push(value), waiting.forEach((w) => w.resolve()), waiting = [];\n    done = !0, waiting.forEach((w) => w.resolve());\n  })();\n  async function* makeIterator() {\n    let i = 0;\n    for (; ; )\n      if (i < buffer.length)\n        yield buffer[i++];\n      else {\n        if (done)\n          return;\n        await new Promise((resolve) => waiting.push({ resolve }));\n      }\n  }\n  return Array.from({ length: branches }, makeIterator);\n}\nexport {\n  createResponseHandler,\n  createStreamHandler,\n  handleFile,\n  handleSet,\n  parseSetCookies,\n  responseToSetHeaders,\n  streamResponse,\n  tee\n};\n", "import { parse, serialize } from \"cookie\";\nimport decode from \"fast-decode-uri-component\";\nimport { isNotEmpty, unsignCookie } from \"./utils.mjs\";\nimport { InvalidCookieSignature } from \"./error.mjs\";\nclass Cookie {\n  constructor(name, jar, initial = {}) {\n    this.name = name;\n    this.jar = jar;\n    this.initial = initial;\n  }\n  get cookie() {\n    return this.jar[this.name] ?? this.initial;\n  }\n  set cookie(jar) {\n    this.name in this.jar || (this.jar[this.name] = this.initial), this.jar[this.name] = jar;\n  }\n  get setCookie() {\n    return this.name in this.jar || (this.jar[this.name] = this.initial), this.jar[this.name];\n  }\n  set setCookie(jar) {\n    this.cookie = jar;\n  }\n  get value() {\n    return this.cookie.value;\n  }\n  set value(value) {\n    this.setCookie.value = value;\n  }\n  get expires() {\n    return this.cookie.expires;\n  }\n  set expires(expires) {\n    this.setCookie.expires = expires;\n  }\n  get maxAge() {\n    return this.cookie.maxAge;\n  }\n  set maxAge(maxAge) {\n    this.setCookie.maxAge = maxAge;\n  }\n  get domain() {\n    return this.cookie.domain;\n  }\n  set domain(domain) {\n    this.setCookie.domain = domain;\n  }\n  get path() {\n    return this.cookie.path;\n  }\n  set path(path) {\n    this.setCookie.path = path;\n  }\n  get secure() {\n    return this.cookie.secure;\n  }\n  set secure(secure) {\n    this.setCookie.secure = secure;\n  }\n  get httpOnly() {\n    return this.cookie.httpOnly;\n  }\n  set httpOnly(httpOnly) {\n    this.setCookie.httpOnly = httpOnly;\n  }\n  get sameSite() {\n    return this.cookie.sameSite;\n  }\n  set sameSite(sameSite) {\n    this.setCookie.sameSite = sameSite;\n  }\n  get priority() {\n    return this.cookie.priority;\n  }\n  set priority(priority) {\n    this.setCookie.priority = priority;\n  }\n  get partitioned() {\n    return this.cookie.partitioned;\n  }\n  set partitioned(partitioned) {\n    this.setCookie.partitioned = partitioned;\n  }\n  get secrets() {\n    return this.cookie.secrets;\n  }\n  set secrets(secrets) {\n    this.setCookie.secrets = secrets;\n  }\n  update(config) {\n    return this.setCookie = Object.assign(\n      this.cookie,\n      typeof config == \"function\" ? config(this.cookie) : config\n    ), this;\n  }\n  set(config) {\n    return this.setCookie = Object.assign(\n      {\n        ...this.initial,\n        value: this.value\n      },\n      typeof config == \"function\" ? config(this.cookie) : config\n    ), this;\n  }\n  remove() {\n    if (this.value !== void 0)\n      return this.set({\n        expires: /* @__PURE__ */ new Date(0),\n        maxAge: 0,\n        value: \"\"\n      }), this;\n  }\n  toString() {\n    return typeof this.value == \"object\" ? JSON.stringify(this.value) : this.value?.toString() ?? \"\";\n  }\n}\nconst createCookieJar = (set, store, initial) => (set.cookie || (set.cookie = {}), new Proxy(store, {\n  get(_, key) {\n    return key in store ? new Cookie(\n      key,\n      set.cookie,\n      Object.assign({}, initial ?? {}, store[key])\n    ) : new Cookie(\n      key,\n      set.cookie,\n      Object.assign({}, initial)\n    );\n  }\n})), parseCookie = async (set, cookieString, {\n  secrets,\n  sign,\n  ...initial\n} = {}) => {\n  if (!cookieString) return createCookieJar(set, {}, initial);\n  const isStringKey = typeof secrets == \"string\";\n  sign && sign !== !0 && !Array.isArray(sign) && (sign = [sign]);\n  const jar = {}, cookies = parse(cookieString);\n  for (const [name, v] of Object.entries(cookies)) {\n    if (v === void 0) continue;\n    let value = decode(v);\n    if (value) {\n      const starts = value.charCodeAt(0), ends = value.charCodeAt(value.length - 1);\n      if (starts === 123 && ends === 125 || starts === 91 && ends === 93)\n        try {\n          value = JSON.parse(value);\n        } catch {\n        }\n    }\n    if (sign === !0 || sign?.includes(name)) {\n      if (!secrets)\n        throw new Error(\"No secret is provided to cookie plugin\");\n      if (isStringKey) {\n        const temp = await unsignCookie(value, secrets);\n        if (temp === !1) throw new InvalidCookieSignature(name);\n        value = temp;\n      } else {\n        let decoded = !0;\n        for (let i = 0; i < secrets.length; i++) {\n          const temp = await unsignCookie(value, secrets[i]);\n          if (temp !== !1) {\n            decoded = !0, value = temp;\n            break;\n          }\n        }\n        if (!decoded) throw new InvalidCookieSignature(name);\n      }\n    }\n    jar[name] = {\n      value\n    };\n  }\n  return createCookieJar(set, jar, initial);\n}, serializeCookie = (cookies) => {\n  if (!cookies || !isNotEmpty(cookies)) return;\n  const set = [];\n  for (const [key, property] of Object.entries(cookies)) {\n    if (!key || !property) continue;\n    const value = property.value;\n    value != null && set.push(\n      serialize(\n        key,\n        typeof value == \"object\" ? JSON.stringify(value) : value + \"\",\n        property\n      )\n    );\n  }\n  if (set.length !== 0)\n    return set.length === 1 ? set[0] : set;\n};\nexport {\n  Cookie,\n  createCookieJar,\n  parseCookie,\n  serializeCookie\n};\n", "import { env } from \"./env.mjs\";\nimport { file } from \"./file.mjs\";\nexport {\n  env,\n  file\n};\n", "import { isBun } from \"./utils.mjs\";\nconst env = isBun ? Bun.env : typeof process < \"u\" && process?.env ? process.env : {};\nexport {\n  env\n};\n", "import { WebStandardAdapter } from \"../web-standard/index.mjs\";\nimport { parseSetCookies } from \"../utils.mjs\";\nimport { createBunRouteHandler } from \"./compose.mjs\";\nimport { createNativeStaticHandler } from \"./handler-native.mjs\";\nimport { serializeCookie } from \"../../cookies.mjs\";\nimport { isProduction, ValidationError } from \"../../error.mjs\";\nimport { getSchemaValidator } from \"../../schema.mjs\";\nimport {\n  hasHeaderShorthand,\n  isNotEmpty,\n  isNumericString,\n  randomId,\n  supportPerMethodInlineHandler\n} from \"../../utils.mjs\";\nimport {\n  mapResponse,\n  mapEarlyResponse,\n  mapCompactResponse,\n  createStaticHandler\n} from \"./handler.mjs\";\nimport {\n  createHandleWSResponse,\n  createWSMessageParser,\n  ElysiaWS,\n  websocket\n} from \"../../ws/index.mjs\";\nconst optionalParam = /:.+?\\?(?=\\/|$)/, getPossibleParams = (path) => {\n  const match = optionalParam.exec(path);\n  if (!match) return [path];\n  const routes = [], head = path.slice(0, match.index), param = match[0].slice(0, -1), tail = path.slice(match.index + match[0].length);\n  routes.push(head.slice(0, -1)), routes.push(head + param);\n  for (const fragment of getPossibleParams(tail))\n    fragment && (fragment.startsWith(\"/:\") || routes.push(head.slice(0, -1) + fragment), routes.push(head + param + fragment));\n  return routes;\n}, isHTMLBundle = (handle) => typeof handle == \"object\" && handle !== null && (handle.toString() === \"[object HTMLBundle]\" || typeof handle.index == \"string\"), supportedMethods = {\n  GET: !0,\n  HEAD: !0,\n  OPTIONS: !0,\n  DELETE: !0,\n  PATCH: !0,\n  POST: !0,\n  PUT: !0\n}, mapRoutes = (app) => {\n  if (!app.config.aot || !app.config.systemRouter) return;\n  const routes = {}, add = (route, handler) => {\n    const path = encodeURI(route.path);\n    routes[path] ? routes[path][route.method] || (routes[path][route.method] = handler) : routes[path] = {\n      [route.method]: handler\n    };\n  }, tree = app.routeTree;\n  for (const route of app.router.history) {\n    if (typeof route.handler != \"function\") continue;\n    const method = route.method;\n    if (method === \"GET\" && `WS_${route.path}` in tree || method === \"WS\" || route.path.charCodeAt(route.path.length - 1) === 42 || !(method in supportedMethods))\n      continue;\n    if (method === \"ALL\") {\n      `WS_${route.path}` in tree || (routes[route.path] = route.hooks?.config?.mount ? route.hooks.trace || app.event.trace || // @ts-expect-error private property\n      app.extender.higherOrderFunctions ? createBunRouteHandler(app, route) : route.hooks.mount || route.handler : route.handler);\n      continue;\n    }\n    let compiled;\n    const handler = app.config.precompile ? createBunRouteHandler(app, route) : (request) => compiled ? compiled(request) : (compiled = createBunRouteHandler(app, route))(\n      request\n    );\n    for (const path of getPossibleParams(route.path))\n      add(\n        {\n          method,\n          path\n        },\n        handler\n      );\n  }\n  return routes;\n}, mergeRoutes = (r1, r2) => {\n  if (!r2) return r1;\n  for (const key of Object.keys(r2))\n    if (r1[key] !== r2[key]) {\n      if (!r1[key]) {\n        r1[key] = r2[key];\n        continue;\n      }\n      if (r1[key] && r2[key]) {\n        if (typeof r1[key] == \"function\" || r1[key] instanceof Response) {\n          r1[key] = r2[key];\n          continue;\n        }\n        r1[key] = {\n          ...r1[key],\n          ...r2[key]\n        };\n      }\n    }\n  return r1;\n}, BunAdapter = {\n  ...WebStandardAdapter,\n  name: \"bun\",\n  handler: {\n    mapResponse,\n    mapEarlyResponse,\n    mapCompactResponse,\n    createStaticHandler,\n    createNativeStaticHandler\n  },\n  composeHandler: {\n    ...WebStandardAdapter.composeHandler,\n    headers: hasHeaderShorthand ? `c.headers=c.request.headers.toJSON()\n` : `c.headers={}\nfor(const [k,v] of c.request.headers.entries())c.headers[k]=v\n`\n  },\n  listen(app) {\n    return (options, callback) => {\n      if (typeof Bun > \"u\")\n        throw new Error(\n          \".listen() is designed to run on Bun only. If you are running Elysia in other environment please use a dedicated plugin or export the handler via Elysia.fetch\"\n        );\n      if (app.compile(), typeof options == \"string\") {\n        if (!isNumericString(options))\n          throw new Error(\"Port must be a numeric value\");\n        options = parseInt(options);\n      }\n      const createStaticRoute = (iterator, { withAsync = !1 } = {}) => {\n        const staticRoutes = {}, ops = [];\n        for (let [path, route] of Object.entries(iterator))\n          if (path = encodeURI(path), supportPerMethodInlineHandler) {\n            if (!route) continue;\n            for (const [method, value] of Object.entries(route))\n              if (!(!value || !(method in supportedMethods))) {\n                if (value instanceof Promise) {\n                  withAsync && (staticRoutes[path] || (staticRoutes[path] = {}), ops.push(\n                    value.then((awaited) => {\n                      awaited instanceof Response && (staticRoutes[path][method] = awaited), isHTMLBundle(awaited) && (staticRoutes[path][method] = awaited);\n                    })\n                  ));\n                  continue;\n                }\n                !(value instanceof Response) && !isHTMLBundle(value) || (staticRoutes[path] || (staticRoutes[path] = {}), staticRoutes[path][method] = value);\n              }\n          } else {\n            if (!route) continue;\n            if (route instanceof Promise) {\n              withAsync && (staticRoutes[path] || (staticRoutes[path] = {}), ops.push(\n                route.then((awaited) => {\n                  awaited instanceof Response && (staticRoutes[path] = awaited);\n                })\n              ));\n              continue;\n            }\n            if (!(route instanceof Response)) continue;\n            staticRoutes[path] = route;\n          }\n        return withAsync ? Promise.all(ops).then(() => staticRoutes) : staticRoutes;\n      }, serve = typeof options == \"object\" ? {\n        development: !isProduction,\n        reusePort: !0,\n        idleTimeout: 30,\n        ...app.config.serve || {},\n        ...options || {},\n        // @ts-ignore\n        routes: mergeRoutes(\n          mergeRoutes(\n            createStaticRoute(app.router.response),\n            mapRoutes(app)\n          ),\n          app.config.serve?.routes\n        ),\n        websocket: {\n          ...app.config.websocket || {},\n          ...websocket || {},\n          ...options.websocket || {}\n        },\n        fetch: app.fetch\n      } : {\n        development: !isProduction,\n        reusePort: !0,\n        idleTimeout: 30,\n        ...app.config.serve || {},\n        // @ts-ignore\n        routes: mergeRoutes(\n          mergeRoutes(\n            createStaticRoute(app.router.response),\n            mapRoutes(app)\n          ),\n          app.config.serve?.routes\n        ),\n        websocket: {\n          ...app.config.websocket || {},\n          ...websocket || {}\n        },\n        port: options,\n        fetch: app.fetch\n      };\n      if (app.server = Bun.serve(serve), app.event.start)\n        for (let i = 0; i < app.event.start.length; i++)\n          app.event.start[i].fn(app);\n      callback && callback(app.server), process.on(\"beforeExit\", async () => {\n        if (app.server && (await app.server.stop?.(), app.server = null, app.event.stop))\n          for (let i = 0; i < app.event.stop.length; i++)\n            app.event.stop[i].fn(app);\n      }), app.promisedModules.then(async () => {\n        app.server?.reload({\n          ...serve,\n          fetch: app.fetch,\n          // @ts-ignore\n          routes: mergeRoutes(\n            mergeRoutes(\n              await createStaticRoute(app.router.response, {\n                withAsync: !0\n              }),\n              mapRoutes(app)\n            ),\n            app.config.serve?.routes\n          )\n        }), Bun?.gc(!1);\n      });\n    };\n  },\n  async stop(app, closeActiveConnections) {\n    if (app.server) {\n      if (await app.server.stop(closeActiveConnections), app.server = null, app.event.stop?.length)\n        for (let i = 0; i < app.event.stop.length; i++)\n          app.event.stop[i].fn(app);\n    } else\n      console.log(\n        \"Elysia isn't running. Call `app.listen` to start the server.\",\n        new Error().stack\n      );\n  },\n  ws(app, path, options) {\n    const { parse, body, response, ...rest } = options, validateMessage = getSchemaValidator(body, {\n      // @ts-expect-error private property\n      modules: app.definitions.typebox,\n      // @ts-expect-error private property\n      models: app.definitions.type,\n      normalize: app.config.normalize\n    }), validateResponse = getSchemaValidator(response, {\n      // @ts-expect-error private property\n      modules: app.definitions.typebox,\n      // @ts-expect-error private property\n      models: app.definitions.type,\n      normalize: app.config.normalize\n    });\n    app.route(\n      \"WS\",\n      path,\n      async (context) => {\n        const server = context.server ?? app.server, { set, path: path2, qi, headers, query, params } = context;\n        if (context.validator = validateResponse, options.upgrade)\n          if (typeof options.upgrade == \"function\") {\n            const temp = options.upgrade(context);\n            temp instanceof Promise && await temp;\n          } else options.upgrade && Object.assign(\n            set.headers,\n            options.upgrade\n          );\n        if (set.cookie && isNotEmpty(set.cookie)) {\n          const cookie = serializeCookie(set.cookie);\n          cookie && (set.headers[\"set-cookie\"] = cookie);\n        }\n        set.headers[\"set-cookie\"] && Array.isArray(set.headers[\"set-cookie\"]) && (set.headers = parseSetCookies(\n          new Headers(set.headers),\n          set.headers[\"set-cookie\"]\n        ));\n        const handleResponse = createHandleWSResponse(validateResponse), parseMessage = createWSMessageParser(parse);\n        let _id;\n        if (typeof options.beforeHandle == \"function\") {\n          const result = options.beforeHandle(context);\n          result instanceof Promise && await result;\n        }\n        const errorHandlers = [\n          ...options.error ? Array.isArray(options.error) ? options.error : [options.error] : [],\n          ...(app.event.error ?? []).map(\n            (x) => typeof x == \"function\" ? x : x.fn\n          )\n        ].filter((x) => x), hasCustomErrorHandlers = errorHandlers.length > 0, handleErrors = hasCustomErrorHandlers ? async (ws, error) => {\n          for (const handleError of errorHandlers) {\n            let response2 = handleError(\n              Object.assign(context, { error })\n            );\n            if (response2 instanceof Promise && (response2 = await response2), await handleResponse(ws, response2), response2) break;\n          }\n        } : () => {\n        };\n        if (!server?.upgrade(context.request, {\n          headers: isNotEmpty(set.headers) ? set.headers : void 0,\n          data: {\n            ...context,\n            get id() {\n              return _id || (_id = randomId());\n            },\n            validator: validateResponse,\n            ping(ws, data) {\n              options.ping?.(ws, data);\n            },\n            pong(ws, data) {\n              options.pong?.(ws, data);\n            },\n            open: async (ws) => {\n              try {\n                await handleResponse(\n                  ws,\n                  options.open?.(\n                    new ElysiaWS(ws, context)\n                  )\n                );\n              } catch (error) {\n                handleErrors(ws, error);\n              }\n            },\n            message: async (ws, _message) => {\n              const message = await parseMessage(ws, _message);\n              if (validateMessage?.Check(message) === !1) {\n                const validationError = new ValidationError(\n                  \"message\",\n                  validateMessage,\n                  message\n                );\n                return hasCustomErrorHandlers ? handleErrors(ws, validationError) : void ws.send(\n                  validationError.message\n                );\n              }\n              try {\n                await handleResponse(\n                  ws,\n                  options.message?.(\n                    new ElysiaWS(\n                      ws,\n                      context,\n                      message\n                    ),\n                    message\n                  )\n                );\n              } catch (error) {\n                handleErrors(ws, error);\n              }\n            },\n            drain: async (ws) => {\n              try {\n                await handleResponse(\n                  ws,\n                  options.drain?.(\n                    new ElysiaWS(ws, context)\n                  )\n                );\n              } catch (error) {\n                handleErrors(ws, error);\n              }\n            },\n            close: async (ws, code, reason) => {\n              try {\n                await handleResponse(\n                  ws,\n                  options.close?.(\n                    new ElysiaWS(ws, context),\n                    code,\n                    reason\n                  )\n                );\n              } catch (error) {\n                handleErrors(ws, error);\n              }\n            }\n          }\n        }))\n          return set.status = 400, \"Expected a websocket connection\";\n      },\n      {\n        ...rest,\n        websocket: options\n      }\n    );\n  }\n};\nexport {\n  BunAdapter,\n  isHTMLBundle\n};\n", "import { mapEarlyResponse } from \"./handler.mjs\";\nimport { sucrose } from \"../../sucrose.mjs\";\nimport { createHoc, createOnRequestHandler, isAsync } from \"../../compose.mjs\";\nimport { randomId, ELYSIA_REQUEST_ID, redirect, isNotEmpty } from \"../../utils.mjs\";\nimport { status } from \"../../error.mjs\";\nimport { ELYSIA_TRACE } from \"../../trace.mjs\";\nconst allocateIf = (value, condition) => condition ? value : \"\", createContext = (app, route, inference, isInline = !1) => {\n  let fnLiteral = \"\";\n  const defaultHeaders = app.setHeaders, hasTrace = !!app.event.trace?.length;\n  hasTrace && (fnLiteral += `const id=randomId()\n`);\n  const isDynamic = /[:*]/.test(route.path), getQi = `const u=request.url,s=u.indexOf('/',${app.config.handler?.standardHostname ?? !0 ? 11 : 7}),qi=u.indexOf('?', s + 1)\n`, needsQuery = inference.query || !!route.hooks.query || !!route.hooks.standaloneValidator?.find(\n    (x) => x.query\n  ) || app.event.request?.length;\n  needsQuery && (fnLiteral += getQi);\n  const getPath = inference.path ? isDynamic ? \"get path(){\" + (needsQuery ? \"\" : getQi) + `if(qi===-1)return u.substring(s)\nreturn u.substring(s,qi)\n},` : `path:'${route.path}',` : \"\";\n  fnLiteral += allocateIf(\"const c=\", !isInline) + \"{request,store,\" + allocateIf(\"qi,\", needsQuery) + allocateIf(\"params:request.params,\", isDynamic) + getPath + allocateIf(\n    \"url:request.url,\",\n    hasTrace || inference.url || needsQuery\n  ) + \"redirect,status,set:{headers:\" + (isNotEmpty(defaultHeaders) ? \"Object.assign({},app.setHeaders)\" : \"Object.create(null)\") + \",status:200}\", inference.server && (fnLiteral += \",get server(){return app.getServer()}\"), hasTrace && (fnLiteral += \",[ELYSIA_REQUEST_ID]:id\");\n  {\n    let decoratorsLiteral = \"\";\n    for (const key of Object.keys(app.singleton.decorator))\n      decoratorsLiteral += `,'${key}':decorator['${key}']`;\n    fnLiteral += decoratorsLiteral;\n  }\n  return fnLiteral += `}\n`, fnLiteral;\n}, createBunRouteHandler = (app, route) => {\n  const hasTrace = !!app.event.trace?.length, hasHoc = !!app.extender.higherOrderFunctions.length;\n  let inference = sucrose(\n    route.hooks,\n    // @ts-expect-error\n    app.inference\n  );\n  inference = sucrose(\n    {\n      handler: route.handler\n    },\n    inference\n  );\n  let fnLiteral = \"const handler=data.handler,app=data.app,store=data.store,decorator=data.decorator,redirect=data.redirect,route=data.route,mapEarlyResponse=data.mapEarlyResponse,\" + allocateIf(\"randomId=data.randomId,\", hasTrace) + allocateIf(\"ELYSIA_REQUEST_ID=data.ELYSIA_REQUEST_ID,\", hasTrace) + allocateIf(\"ELYSIA_TRACE=data.ELYSIA_TRACE,\", hasTrace) + allocateIf(\"trace=data.trace,\", hasTrace) + allocateIf(\"hoc=data.hoc,\", hasHoc) + `status=data.status\n`;\n  app.event.request?.length && (fnLiteral += `const onRequest=app.event.request.map(x=>x.fn)\n`), fnLiteral += `${app.event.request?.find(isAsync) ? \"async\" : \"\"} function map(request){`;\n  const needsQuery = inference.query || !!route.hooks.query || !!route.hooks.standaloneValidator?.find(\n    (x) => x.query\n  );\n  return hasTrace || needsQuery || app.event.request?.length ? (fnLiteral += createContext(app, route, inference), fnLiteral += createOnRequestHandler(app), fnLiteral += \"return handler(c)}\") : fnLiteral += `return handler(${createContext(app, route, inference, !0)})}`, fnLiteral += createHoc(app), Function(\n    \"data\",\n    fnLiteral\n  )({\n    app,\n    handler: route.compile?.() ?? route.composed,\n    redirect,\n    status,\n    // @ts-expect-error private property\n    hoc: app.extender.higherOrderFunctions.map((x) => x.fn),\n    store: app.store,\n    decorator: app.decorator,\n    route: route.path,\n    randomId: hasTrace ? randomId : void 0,\n    ELYSIA_TRACE: hasTrace ? ELYSIA_TRACE : void 0,\n    ELYSIA_REQUEST_ID: hasTrace ? ELYSIA_REQUEST_ID : void 0,\n    trace: hasTrace ? app.event.trace?.map((x) => x?.fn ?? x) : void 0,\n    mapEarlyResponse\n  });\n};\nexport {\n  createBunRouteHandler\n};\n", "import {\n  createResponseHandler,\n  createStreamHandler,\n  handleFile,\n  handleSet\n} from \"../utils.mjs\";\nimport { isNotEmpty } from \"../../utils.mjs\";\nimport { Cookie } from \"../../cookies.mjs\";\nimport { ElysiaCustomStatusResponse } from \"../../error.mjs\";\nconst mapResponse = (response, set2, request) => {\n  if (isNotEmpty(set2.headers) || set2.status !== 200 || set2.cookie)\n    switch (handleSet(set2), response?.constructor?.name) {\n      case \"String\":\n        return new Response(response, set2);\n      case \"Array\":\n      case \"Object\":\n        return set2.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set2);\n      case \"ElysiaFile\":\n        return handleFile(\n          response.value,\n          set2\n        );\n      case \"File\":\n        return handleFile(response, set2);\n      case \"Blob\":\n        return handleFile(response, set2);\n      case \"ElysiaCustomStatusResponse\":\n        return set2.status = response.code, mapResponse(\n          response.response,\n          set2,\n          request\n        );\n      case void 0:\n        return response ? new Response(JSON.stringify(response), set2) : new Response(\"\", set2);\n      case \"Response\":\n        return handleResponse(response, set2, request);\n      case \"Error\":\n        return errorToResponse(response, set2);\n      case \"Promise\":\n        return response.then(\n          (x) => mapResponse(x, set2, request)\n        );\n      case \"Function\":\n        return mapResponse(response(), set2, request);\n      case \"Number\":\n      case \"Boolean\":\n        return new Response(\n          response.toString(),\n          set2\n        );\n      case \"Cookie\":\n        return response instanceof Cookie ? new Response(response.value, set2) : new Response(response?.toString(), set2);\n      case \"FormData\":\n        return new Response(response, set2);\n      default:\n        if (response instanceof Response)\n          return handleResponse(response, set2, request);\n        if (response instanceof Promise)\n          return response.then((x) => mapResponse(x, set2));\n        if (response instanceof Error)\n          return errorToResponse(response, set2);\n        if (response instanceof ElysiaCustomStatusResponse)\n          return set2.status = response.code, mapResponse(\n            response.response,\n            set2,\n            request\n          );\n        if (\n          // @ts-expect-error\n          typeof response?.next == \"function\" || response instanceof ReadableStream\n        )\n          return handleStream(response, set2, request);\n        if (typeof response?.then == \"function\")\n          return response.then((x) => mapResponse(x, set2));\n        if (typeof response?.toResponse == \"function\")\n          return mapResponse(response.toResponse(), set2);\n        if (\"charCodeAt\" in response) {\n          const code = response.charCodeAt(0);\n          if (code === 123 || code === 91)\n            return set2.headers[\"Content-Type\"] || (set2.headers[\"Content-Type\"] = \"application/json\"), new Response(\n              JSON.stringify(response),\n              set2\n            );\n        }\n        return new Response(response, set2);\n    }\n  return (\n    // @ts-expect-error\n    typeof response?.next == \"function\" || response instanceof ReadableStream ? handleStream(response, set2, request) : mapCompactResponse(response, request)\n  );\n}, mapEarlyResponse = (response, set2, request) => {\n  if (response != null)\n    if (isNotEmpty(set2.headers) || set2.status !== 200 || set2.cookie)\n      switch (handleSet(set2), response?.constructor?.name) {\n        case \"String\":\n          return new Response(response, set2);\n        case \"Array\":\n        case \"Object\":\n          return set2.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set2);\n        case \"ElysiaFile\":\n          return handleFile(response.value, set2);\n        case \"File\":\n          return handleFile(response, set2);\n        case \"Blob\":\n          return handleFile(response, set2);\n        case \"ElysiaCustomStatusResponse\":\n          return set2.status = response.code, mapEarlyResponse(\n            response.response,\n            set2,\n            request\n          );\n        case void 0:\n          return response ? new Response(JSON.stringify(response), set2) : void 0;\n        case \"Response\":\n          return handleResponse(response, set2, request);\n        case \"Promise\":\n          return response.then(\n            (x) => mapEarlyResponse(x, set2)\n          );\n        case \"Error\":\n          return errorToResponse(response, set2);\n        case \"Function\":\n          return mapEarlyResponse(response(), set2);\n        case \"Number\":\n        case \"Boolean\":\n          return new Response(\n            response.toString(),\n            set2\n          );\n        case \"FormData\":\n          return new Response(response);\n        case \"Cookie\":\n          return response instanceof Cookie ? new Response(response.value, set2) : new Response(response?.toString(), set2);\n        default:\n          if (response instanceof Response)\n            return handleResponse(response, set2, request);\n          if (response instanceof Promise)\n            return response.then((x) => mapEarlyResponse(x, set2));\n          if (response instanceof Error)\n            return errorToResponse(response, set2);\n          if (response instanceof ElysiaCustomStatusResponse)\n            return set2.status = response.code, mapEarlyResponse(\n              response.response,\n              set2,\n              request\n            );\n          if (\n            // @ts-expect-error\n            typeof response?.next == \"function\" || response instanceof ReadableStream\n          )\n            return handleStream(response, set2, request);\n          if (typeof response?.then == \"function\")\n            return response.then((x) => mapEarlyResponse(x, set2));\n          if (typeof response?.toResponse == \"function\")\n            return mapEarlyResponse(response.toResponse(), set2);\n          if (\"charCodeAt\" in response) {\n            const code = response.charCodeAt(0);\n            if (code === 123 || code === 91)\n              return set2.headers[\"Content-Type\"] || (set2.headers[\"Content-Type\"] = \"application/json\"), new Response(\n                JSON.stringify(response),\n                set2\n              );\n          }\n          return new Response(response, set2);\n      }\n    else\n      switch (response?.constructor?.name) {\n        case \"String\":\n          return new Response(response);\n        case \"Array\":\n        case \"Object\":\n          return set2.headers[\"content-type\"] = \"application/json\", new Response(JSON.stringify(response), set2);\n        case \"ElysiaFile\":\n          return handleFile(response.value, set2);\n        case \"File\":\n          return handleFile(response, set2);\n        case \"Blob\":\n          return handleFile(response, set2);\n        case \"ElysiaCustomStatusResponse\":\n          return set2.status = response.code, mapEarlyResponse(\n            response.response,\n            set2,\n            request\n          );\n        case void 0:\n          return response ? new Response(JSON.stringify(response), {\n            headers: {\n              \"content-type\": \"application/json\"\n            }\n          }) : new Response(\"\");\n        case \"Response\":\n          return response;\n        case \"Promise\":\n          return response.then((x) => {\n            const r = mapEarlyResponse(x, set2);\n            if (r !== void 0) return r;\n          });\n        case \"Error\":\n          return errorToResponse(response, set2);\n        case \"Function\":\n          return mapCompactResponse(response(), request);\n        case \"Number\":\n        case \"Boolean\":\n          return new Response(response.toString());\n        case \"Cookie\":\n          return response instanceof Cookie ? new Response(response.value, set2) : new Response(response?.toString(), set2);\n        case \"FormData\":\n          return new Response(response);\n        default:\n          if (response instanceof Response) return response;\n          if (response instanceof Promise)\n            return response.then((x) => mapEarlyResponse(x, set2));\n          if (response instanceof Error)\n            return errorToResponse(response, set2);\n          if (response instanceof ElysiaCustomStatusResponse)\n            return set2.status = response.code, mapEarlyResponse(\n              response.response,\n              set2,\n              request\n            );\n          if (\n            // @ts-expect-error\n            typeof response?.next == \"function\" || response instanceof ReadableStream\n          )\n            return handleStream(response, set2, request);\n          if (typeof response?.then == \"function\")\n            return response.then((x) => mapEarlyResponse(x, set2));\n          if (typeof response?.toResponse == \"function\")\n            return mapEarlyResponse(response.toResponse(), set2);\n          if (\"charCodeAt\" in response) {\n            const code = response.charCodeAt(0);\n            if (code === 123 || code === 91)\n              return set2.headers[\"Content-Type\"] || (set2.headers[\"Content-Type\"] = \"application/json\"), new Response(\n                JSON.stringify(response),\n                set2\n              );\n          }\n          return new Response(response);\n      }\n}, mapCompactResponse = (response, request) => {\n  switch (response?.constructor?.name) {\n    case \"String\":\n      return new Response(response);\n    case \"Object\":\n    case \"Array\":\n      return new Response(JSON.stringify(response), {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    case \"ElysiaFile\":\n      return handleFile(response.value);\n    case \"File\":\n      return handleFile(response);\n    case \"Blob\":\n      return handleFile(response);\n    case \"ElysiaCustomStatusResponse\":\n      return mapResponse(\n        response.response,\n        {\n          status: response.code,\n          headers: {}\n        }\n      );\n    case void 0:\n      return response ? new Response(JSON.stringify(response), {\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      }) : new Response(\"\");\n    case \"Response\":\n      return response;\n    case \"Error\":\n      return errorToResponse(response);\n    case \"Promise\":\n      return response.then(\n        (x) => mapCompactResponse(x, request)\n      );\n    // ? Maybe response or Blob\n    case \"Function\":\n      return mapCompactResponse(response(), request);\n    case \"Number\":\n    case \"Boolean\":\n      return new Response(response.toString());\n    case \"FormData\":\n      return new Response(response);\n    default:\n      if (response instanceof Response) return response;\n      if (response instanceof Promise)\n        return response.then(\n          (x) => mapCompactResponse(x, request)\n        );\n      if (response instanceof Error)\n        return errorToResponse(response);\n      if (response instanceof ElysiaCustomStatusResponse)\n        return mapResponse(\n          response.response,\n          {\n            status: response.code,\n            headers: {}\n          }\n        );\n      if (\n        // @ts-expect-error\n        typeof response?.next == \"function\" || response instanceof ReadableStream\n      )\n        return handleStream(response, void 0, request);\n      if (typeof response?.then == \"function\")\n        return response.then((x) => mapResponse(x, set));\n      if (typeof response?.toResponse == \"function\")\n        return mapCompactResponse(response.toResponse());\n      if (\"charCodeAt\" in response) {\n        const code = response.charCodeAt(0);\n        if (code === 123 || code === 91)\n          return new Response(JSON.stringify(response), {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          });\n      }\n      return new Response(response);\n  }\n}, errorToResponse = (error, set2) => new Response(\n  JSON.stringify({\n    name: error?.name,\n    message: error?.message,\n    cause: error?.cause\n  }),\n  {\n    status: set2?.status !== 200 ? set2?.status ?? 500 : 500,\n    headers: set2?.headers\n  }\n), createStaticHandler = (handle, hooks, setHeaders = {}) => {\n  if (typeof handle == \"function\") return;\n  const response = mapResponse(handle, {\n    headers: setHeaders\n  });\n  if (!hooks.parse?.length && !hooks.transform?.length && !hooks.beforeHandle?.length && !hooks.afterHandle?.length)\n    return () => response.clone();\n}, handleResponse = createResponseHandler({\n  mapResponse,\n  mapCompactResponse\n}), handleStream = createStreamHandler({\n  mapResponse,\n  mapCompactResponse\n});\nexport {\n  createStaticHandler,\n  errorToResponse,\n  mapCompactResponse,\n  mapEarlyResponse,\n  mapResponse\n};\n", "import { Value } from \"@sinclair/typebox/value\";\nimport {\n  Kind,\n  TypeBoxError\n} from \"@sinclair/typebox\";\nimport decode from \"fast-decode-uri-component\";\nimport {\n  parseQuery,\n  parseQueryFromURL,\n  parseQueryStandardSchema\n} from \"./parse-query.mjs\";\nimport {\n  ELYSIA_REQUEST_ID,\n  getLoosePath,\n  lifeCycleToFn,\n  randomId,\n  redirect,\n  signCookie,\n  isNotEmpty,\n  encodePath,\n  mergeCookie,\n  getResponseLength\n} from \"./utils.mjs\";\nimport { isBun } from \"./universal/utils.mjs\";\nimport { ParseError, status } from \"./error.mjs\";\nimport {\n  NotFoundError,\n  ValidationError,\n  ERROR_CODE,\n  ElysiaCustomStatusResponse\n} from \"./error.mjs\";\nimport { ELYSIA_TRACE } from \"./trace.mjs\";\nimport {\n  coercePrimitiveRoot,\n  getSchemaValidator,\n  hasElysiaMeta,\n  hasType,\n  isUnion,\n  unwrapImportSchema\n} from \"./schema.mjs\";\nimport { sucrose } from \"./sucrose.mjs\";\nimport { parseCookie } from \"./cookies.mjs\";\nimport { fileType } from \"./type-system/utils.mjs\";\nimport { tee } from \"./adapter/utils.mjs\";\nconst allocateIf = (value, condition) => condition ? value : \"\", defaultParsers = [\n  \"json\",\n  \"text\",\n  \"urlencoded\",\n  \"arrayBuffer\",\n  \"formdata\",\n  \"application/json\",\n  // eslint-disable-next-line sonarjs/no-duplicate-string\n  \"text/plain\",\n  // eslint-disable-next-line sonarjs/no-duplicate-string\n  \"application/x-www-form-urlencoded\",\n  // eslint-disable-next-line sonarjs/no-duplicate-string\n  \"application/octet-stream\",\n  // eslint-disable-next-line sonarjs/no-duplicate-string\n  \"multipart/form-data\"\n], createReport = ({\n  context = \"c\",\n  trace = [],\n  addFn\n}) => {\n  if (!trace.length)\n    return () => ({\n      resolveChild() {\n        return () => {\n        };\n      },\n      resolve() {\n      }\n    });\n  for (let i = 0; i < trace.length; i++)\n    addFn(\n      `let report${i},reportChild${i},reportErr${i},reportErrChild${i};let trace${i}=${context}[ELYSIA_TRACE]?.[${i}]??trace[${i}](${context});\n`\n    );\n  return (event, {\n    name,\n    total = 0,\n    alias\n  } = {}) => {\n    name || (name = \"anonymous\");\n    const reporter = event === \"error\" ? \"reportErr\" : \"report\";\n    for (let i = 0; i < trace.length; i++)\n      addFn(\n        `${alias ? \"const \" : \"\"}${alias ?? reporter}${i}=trace${i}.${event}({id,event:'${event}',name:'${name}',begin:performance.now(),total:${total}})\n`\n      ), alias && addFn(`${reporter}${i}=${alias}${i}\n`);\n    return {\n      resolve() {\n        for (let i = 0; i < trace.length; i++)\n          addFn(`${alias ?? reporter}${i}.resolve()\n`);\n      },\n      resolveChild(name2) {\n        for (let i = 0; i < trace.length; i++)\n          addFn(\n            `${reporter}Child${i}=${reporter}${i}.resolveChild?.shift()?.({id,event:'${event}',name:'${name2}',begin:performance.now()})\n`\n          );\n        return (binding) => {\n          for (let i = 0; i < trace.length; i++)\n            addFn(\n              binding ? `if(${binding} instanceof Error){${reporter}Child${i}?.(${binding}) }else{${reporter}Child${i}?.()}` : `${reporter}Child${i}?.()\n`\n            );\n        };\n      }\n    };\n  };\n}, composeCleaner = ({\n  schema,\n  name,\n  type,\n  typeAlias = type,\n  normalize,\n  ignoreTryCatch = !1\n}) => !normalize || !schema.Clean ? \"\" : normalize === !0 || normalize === \"exactMirror\" ? ignoreTryCatch ? `${name}=validator.${typeAlias}.Clean(${name})\n` : `try{${name}=validator.${typeAlias}.Clean(${name})\n}catch{}` : normalize === \"typebox\" ? `${name}=validator.${typeAlias}.Clean(${name})\n` : \"\", composeValidationFactory = ({\n  injectResponse = \"\",\n  normalize = !1,\n  validator,\n  encodeSchema = !1,\n  isStaticResponse = !1,\n  hasSanitize = !1,\n  allowUnsafeValidationDetails = !1\n}) => ({\n  validate: (type, value = `c.${type}`, error) => `c.set.status=422;throw new ValidationError('${type}',validator.${type},${value},${allowUnsafeValidationDetails}${error ? \",\" + error : \"\"})`,\n  response: (name = \"r\") => {\n    if (isStaticResponse || !validator.response) return \"\";\n    let code = injectResponse + `\n`;\n    code += `if(${name} instanceof ElysiaCustomStatusResponse){c.set.status=${name}.code\n${name}=${name}.response}if(${name} instanceof Response === false)switch(c.set.status){`;\n    for (const [status2, value] of Object.entries(validator.response)) {\n      if (code += `\ncase ${status2}:\n`, value.provider === \"standard\") {\n        code += `let vare${status2}=validator.response[${status2}].Check(${name})\nif(vare${status2} instanceof Promise)vare${status2}=await vare${status2}\nif(vare${status2}.issues)throw new ValidationError('response',validator.response[${status2}],${name},${allowUnsafeValidationDetails},vare${status2}.issues)\n${name}=vare${status2}.value\nc.set.status=${status2}\nbreak\n`;\n        continue;\n      }\n      let noValidate = value.schema?.noValidate === !0;\n      if (!noValidate && value.schema?.$ref && value.schema?.$defs) {\n        const refKey = value.schema.$ref, defKey = typeof refKey == \"string\" && refKey.includes(\"/\") ? refKey.split(\"/\").pop() : refKey;\n        value.schema.$defs[defKey]?.noValidate === !0 && (noValidate = !0);\n      }\n      const appliedCleaner = noValidate || hasSanitize, clean = ({ ignoreTryCatch = !1 } = {}) => composeCleaner({\n        name,\n        schema: value,\n        type: \"response\",\n        typeAlias: `response[${status2}]`,\n        normalize,\n        ignoreTryCatch\n      });\n      appliedCleaner && (code += clean());\n      const applyErrorCleaner = !appliedCleaner && normalize && !noValidate;\n      encodeSchema && value.hasTransform && !noValidate ? (code += `try{${name}=validator.response[${status2}].Encode(${name})\n`, appliedCleaner || (code += clean({ ignoreTryCatch: !0 })), code += `c.set.status=${status2}}catch{` + (applyErrorCleaner ? `try{\n` + clean({ ignoreTryCatch: !0 }) + `${name}=validator.response[${status2}].Encode(${name})\n}catch{throw new ValidationError('response',validator.response[${status2}],${name},${allowUnsafeValidationDetails})}` : `throw new ValidationError('response',validator.response[${status2}],${name}),${allowUnsafeValidationDetails}`) + \"}\") : (appliedCleaner || (code += clean()), noValidate || (code += `if(validator.response[${status2}].Check(${name})===false)throw new ValidationError('response',validator.response[${status2}],${name},${allowUnsafeValidationDetails})\nc.set.status=${status2}\n`)), code += `break\n`;\n    }\n    return code + \"}\";\n  }\n}), isAsyncName = (v) => (v?.fn ?? v).constructor.name === \"AsyncFunction\", matchResponseClone = /=>\\s?response\\.clone\\(/, matchFnReturn = /(?:return|=>)\\s?\\S+\\(|a(?:sync|wait)/, isAsync = (v) => {\n  const isObject = typeof v == \"object\";\n  if (isObject && v.isAsync !== void 0) return v.isAsync;\n  const fn = isObject ? v.fn : v;\n  if (fn.constructor.name === \"AsyncFunction\") return !0;\n  const literal = fn.toString();\n  if (matchResponseClone.test(literal))\n    return isObject && (v.isAsync = !1), !1;\n  const result = matchFnReturn.test(literal);\n  return isObject && (v.isAsync = result), result;\n}, hasReturn = (v) => {\n  const isObject = typeof v == \"object\";\n  if (isObject && v.hasReturn !== void 0) return v.hasReturn;\n  const fnLiteral = isObject ? v.fn.toString() : typeof v == \"string\" ? v.toString() : v, parenthesisEnd = fnLiteral.indexOf(\")\");\n  if (fnLiteral.charCodeAt(parenthesisEnd + 2) === 61 && fnLiteral.charCodeAt(parenthesisEnd + 5) !== 123)\n    return isObject && (v.hasReturn = !0), !0;\n  const result = fnLiteral.includes(\"return\");\n  return isObject && (v.hasReturn = result), result;\n}, isGenerator = (v) => {\n  const fn = v?.fn ?? v;\n  return fn.constructor.name === \"AsyncGeneratorFunction\" || fn.constructor.name === \"GeneratorFunction\";\n}, coerceTransformDecodeError = (fnLiteral, type, allowUnsafeValidationDetails = !1, value = `c.${type}`) => `try{${fnLiteral}}catch(error){if(error.constructor.name === 'TransformDecodeError'){c.set.status=422\nthrow error.error ?? new ValidationError('${type}',validator.${type},${value},${allowUnsafeValidationDetails})}}`, composeHandler = ({\n  app,\n  path,\n  method,\n  hooks,\n  validator,\n  handler,\n  allowMeta = !1,\n  inference\n}) => {\n  const adapter = app[\"~adapter\"].composeHandler, adapterHandler = app[\"~adapter\"].handler, isHandleFn = typeof handler == \"function\";\n  if (!isHandleFn) {\n    handler = adapterHandler.mapResponse(handler, {\n      // @ts-expect-error private property\n      headers: app.setHeaders ?? {}\n    });\n    const isResponse = handler instanceof Response || // @ts-ignore If it's not instanceof Response, it might be a polyfill (only on Node)\n    handler?.constructor?.name === \"Response\" && typeof handler?.clone == \"function\";\n    if (hooks.parse?.length && hooks.transform?.length && hooks.beforeHandle?.length && hooks.afterHandle?.length)\n      return isResponse ? Function(\n        \"a\",\n        `\"use strict\";\nreturn function(){return a.clone()}`\n      )(handler) : Function(\n        \"a\",\n        `\"use strict\";\nreturn function(){return a}`\n      )(handler);\n    if (isResponse) {\n      const response = handler;\n      handler = () => response.clone();\n    }\n  }\n  const handle = isHandleFn ? \"handler(c)\" : \"handler\", hasTrace = !!hooks.trace?.length;\n  let fnLiteral = \"\";\n  if (inference = sucrose(\n    Object.assign({ handler }, hooks),\n    inference,\n    app.config.sucrose\n  ), adapter.declare) {\n    const literal = adapter.declare(inference);\n    literal && (fnLiteral += literal);\n  }\n  inference.server && (fnLiteral += `Object.defineProperty(c,'server',{get:function(){return getServer()}})\n`), validator.createBody?.(), validator.createQuery?.(), validator.createHeaders?.(), validator.createParams?.(), validator.createCookie?.(), validator.createResponse?.();\n  const hasValidation = !!validator.body || !!validator.headers || !!validator.params || !!validator.query || !!validator.cookie || !!validator.response, hasQuery = inference.query || !!validator.query, requestNoBody = hooks.parse?.length === 1 && // @ts-expect-error\n  hooks.parse[0].fn === \"none\", hasBody = method !== \"\" && method !== \"GET\" && method !== \"HEAD\" && (inference.body || !!validator.body || !!hooks.parse?.length) && !requestNoBody, defaultHeaders = app.setHeaders, hasDefaultHeaders = defaultHeaders && !!Object.keys(defaultHeaders).length, hasHeaders = inference.headers || !!validator.headers || adapter.preferWebstandardHeaders !== !0 && inference.body, hasCookie = inference.cookie || !!validator.cookie, cookieMeta = validator.cookie?.config ? mergeCookie(validator?.cookie?.config, app.config.cookie) : app.config.cookie;\n  let _encodeCookie = \"\";\n  const encodeCookie = () => {\n    if (_encodeCookie) return _encodeCookie;\n    if (cookieMeta?.sign) {\n      if (!cookieMeta.secrets)\n        throw new Error(\n          `t.Cookie required secret which is not set in (${method}) ${path}.`\n        );\n      const secret = cookieMeta.secrets ? typeof cookieMeta.secrets == \"string\" ? cookieMeta.secrets : cookieMeta.secrets[0] : void 0;\n      if (_encodeCookie += `const _setCookie = c.set.cookie\nif(_setCookie){`, cookieMeta.sign === !0)\n        _encodeCookie += `for(const [key, cookie] of Object.entries(_setCookie)){c.set.cookie[key].value=await signCookie(cookie.value,'${secret}')}`;\n      else\n        for (const name of cookieMeta.sign)\n          _encodeCookie += `if(_setCookie['${name}']?.value)c.set.cookie['${name}'].value=await signCookie(_setCookie['${name}'].value,'${secret}')\n`;\n      _encodeCookie += `}\n`;\n    }\n    return _encodeCookie;\n  }, normalize = app.config.normalize, encodeSchema = app.config.encodeSchema, allowUnsafeValidationDetails = app.config.allowUnsafeValidationDetails, validation = composeValidationFactory({\n    normalize,\n    validator,\n    encodeSchema,\n    isStaticResponse: handler instanceof Response,\n    hasSanitize: !!app.config.sanitize,\n    allowUnsafeValidationDetails\n  });\n  hasHeaders && (fnLiteral += adapter.headers), hasTrace && (fnLiteral += `const id=c[ELYSIA_REQUEST_ID]\n`);\n  const report = createReport({\n    trace: hooks.trace,\n    addFn: (word) => {\n      fnLiteral += word;\n    }\n  });\n  if (fnLiteral += \"try{\", hasCookie) {\n    const get = (name, defaultValue) => {\n      const value = cookieMeta?.[name] ?? defaultValue;\n      return value ? typeof value == \"string\" ? `${name}:'${value}',` : value instanceof Date ? `${name}: new Date(${value.getTime()}),` : `${name}:${value},` : typeof defaultValue == \"string\" ? `${name}:\"${defaultValue}\",` : `${name}:${defaultValue},`;\n    }, options = cookieMeta ? `{secrets:${cookieMeta.secrets !== void 0 ? typeof cookieMeta.secrets == \"string\" ? `'${cookieMeta.secrets}'` : \"[\" + cookieMeta.secrets.reduce(\n      (a, b) => a + `'${b}',`,\n      \"\"\n    ) + \"]\" : \"undefined\"},sign:${cookieMeta.sign === !0 ? !0 : cookieMeta.sign !== void 0 ? \"[\" + cookieMeta.sign.reduce(\n      (a, b) => a + `'${b}',`,\n      \"\"\n    ) + \"]\" : \"undefined\"},` + get(\"domain\") + get(\"expires\") + get(\"httpOnly\") + get(\"maxAge\") + get(\"path\", \"/\") + get(\"priority\") + get(\"sameSite\") + get(\"secure\") + \"}\" : \"undefined\";\n    hasHeaders ? fnLiteral += `\nc.cookie=await parseCookie(c.set,c.headers.cookie,${options})\n` : fnLiteral += `\nc.cookie=await parseCookie(c.set,c.request.headers.get('cookie'),${options})\n`;\n  }\n  if (hasQuery) {\n    let arrayProperties = {}, objectProperties = {}, hasArrayProperty = !1, hasObjectProperty = !1;\n    if (validator.query?.schema) {\n      const schema = unwrapImportSchema(validator.query?.schema);\n      if (Kind in schema && schema.properties)\n        for (const [key, value] of Object.entries(schema.properties))\n          hasElysiaMeta(\"ArrayQuery\", value) && (arrayProperties[key] = 1, hasArrayProperty = !0), hasElysiaMeta(\"ObjectString\", value) && (objectProperties[key] = 1, hasObjectProperty = !0);\n    }\n    fnLiteral += `if(c.qi===-1){c.query=Object.create(null)}else{c.query=parseQueryFromURL(c.url,c.qi+1,${//\n    hasArrayProperty ? JSON.stringify(arrayProperties) : void 0},${//\n    hasObjectProperty ? JSON.stringify(objectProperties) : void 0})}`;\n  }\n  const isAsyncHandler = typeof handler == \"function\" && isAsync(handler), saveResponse = hasTrace || hooks.afterResponse?.length ? \"c.response=c.responseValue= \" : \"\", responseKeys = Object.keys(validator.response ?? {}), hasMultipleResponses = responseKeys.length > 1, hasSingle200 = responseKeys.length === 0 || responseKeys.length === 1 && responseKeys[0] === \"200\", maybeAsync = hasCookie || hasBody || isAsyncHandler || !!hooks.parse?.length || !!hooks.afterHandle?.some(isAsync) || !!hooks.beforeHandle?.some(isAsync) || !!hooks.transform?.some(isAsync) || !!hooks.mapResponse?.some(isAsync) || validator.body?.provider === \"standard\" || validator.headers?.provider === \"standard\" || validator.query?.provider === \"standard\" || validator.params?.provider === \"standard\" || validator.cookie?.provider === \"standard\" || Object.values(validator.response ?? {}).find(\n    (x) => x.provider === \"standard\"\n  ), maybeStream = (typeof handler == \"function\" ? isGenerator(handler) : !1) || !!hooks.beforeHandle?.some(isGenerator) || !!hooks.afterHandle?.some(isGenerator) || !!hooks.transform?.some(isGenerator), hasSet = inference.cookie || inference.set || hasHeaders || hasTrace || hasMultipleResponses || !hasSingle200 || isHandleFn && hasDefaultHeaders || maybeStream;\n  let _afterResponse;\n  const afterResponse = () => {\n    if (_afterResponse !== void 0) return _afterResponse;\n    if (!hooks.afterResponse?.length && !hasTrace) return \"\";\n    let afterResponse2 = \"\";\n    afterResponse2 += `\nsetImmediate(async()=>{if(c.responseValue){if(c.responseValue instanceof ElysiaCustomStatusResponse) c.set.status=c.responseValue.code\nif(afterHandlerStreamListener)for await(const v of afterHandlerStreamListener){}\n}\n`;\n    const reporter = createReport({\n      trace: hooks.trace,\n      addFn: (word) => {\n        afterResponse2 += word;\n      }\n    })(\"afterResponse\", {\n      total: hooks.afterResponse?.length\n    });\n    if (hooks.afterResponse?.length && hooks.afterResponse)\n      for (let i = 0; i < hooks.afterResponse.length; i++) {\n        const endUnit = reporter.resolveChild(\n          hooks.afterResponse[i].fn.name\n        ), prefix = isAsync(hooks.afterResponse[i]) ? \"await \" : \"\";\n        afterResponse2 += `\n${prefix}e.afterResponse[${i}](c)\n`, endUnit();\n      }\n    return reporter.resolve(), afterResponse2 += `})\n`, _afterResponse = afterResponse2;\n  }, mapResponse = (r = \"r\") => {\n    const after = afterResponse(), response = `${hasSet ? \"mapResponse\" : \"mapCompactResponse\"}(${saveResponse}${r}${hasSet ? \",c.set\" : \"\"}${mapResponseContext})\n`;\n    return after ? `const _res=${response}` + after + \"return _res\" : `return ${response}`;\n  }, mapResponseContext = maybeStream || adapter.mapResponseContext ? `,${adapter.mapResponseContext}` : \"\";\n  (hasTrace || inference.route) && (fnLiteral += `c.route=\\`${path}\\`\n`), (hasTrace || hooks.afterResponse?.length) && (fnLiteral += `let afterHandlerStreamListener\n`);\n  const parseReporter = report(\"parse\", {\n    total: hooks.parse?.length\n  });\n  if (hasBody) {\n    const hasBodyInference = !!hooks.parse?.length || inference.body || validator.body;\n    adapter.parser.declare && (fnLiteral += adapter.parser.declare), fnLiteral += `\ntry{`;\n    let parser = typeof hooks.parse == \"string\" ? hooks.parse : Array.isArray(hooks.parse) && hooks.parse.length === 1 ? typeof hooks.parse[0] == \"string\" ? hooks.parse[0] : typeof hooks.parse[0].fn == \"string\" ? hooks.parse[0].fn : void 0 : void 0;\n    if (!parser && validator.body && !hooks.parse?.length) {\n      const schema = validator.body.schema;\n      schema && schema.anyOf && schema[Kind] === \"Union\" && schema.anyOf?.length === 2 && schema.anyOf?.find((x) => x[Kind] === \"ElysiaForm\") && (parser = \"formdata\");\n    }\n    if (parser && defaultParsers.includes(parser)) {\n      const reporter = report(\"parse\", {\n        total: hooks.parse?.length\n      }), isOptionalBody = !!validator.body?.isOptional;\n      switch (parser) {\n        case \"json\":\n        case \"application/json\":\n          fnLiteral += adapter.parser.json(isOptionalBody);\n          break;\n        case \"text\":\n        case \"text/plain\":\n          fnLiteral += adapter.parser.text(isOptionalBody);\n          break;\n        case \"urlencoded\":\n        case \"application/x-www-form-urlencoded\":\n          fnLiteral += adapter.parser.urlencoded(isOptionalBody);\n          break;\n        case \"arrayBuffer\":\n        case \"application/octet-stream\":\n          fnLiteral += adapter.parser.arrayBuffer(isOptionalBody);\n          break;\n        case \"formdata\":\n        case \"multipart/form-data\":\n          fnLiteral += adapter.parser.formData(isOptionalBody);\n          break;\n        default:\n          parser[0] in app[\"~parser\"] && (fnLiteral += hasHeaders ? \"let contentType = c.headers['content-type']\" : \"let contentType = c.request.headers.get('content-type')\", fnLiteral += `\nif(contentType){const index=contentType.indexOf(';')\nif(index!==-1)contentType=contentType.substring(0,index)}\nelse{contentType=''}c.contentType=contentType\nlet result=parser['${parser}'](c, contentType)\nif(result instanceof Promise)result=await result\nif(result instanceof ElysiaCustomStatusResponse)throw result\nif(result!==undefined)c.body=result\ndelete c.contentType\n`);\n          break;\n      }\n      reporter.resolve();\n    } else if (hasBodyInference) {\n      fnLiteral += `\n`, fnLiteral += `let contentType\nif(c.request.body)`, fnLiteral += hasHeaders ? `contentType=c.headers['content-type']\n` : `contentType=c.request.headers.get('content-type')\n`;\n      let hasDefaultParser = !1;\n      if (hooks.parse?.length)\n        fnLiteral += `if(contentType){\nconst index=contentType.indexOf(';')\n\nif(index!==-1)contentType=contentType.substring(0,index)}else{contentType=''}let used=false\nc.contentType=contentType\n`;\n      else {\n        hasDefaultParser = !0;\n        const isOptionalBody = !!validator.body?.isOptional;\n        fnLiteral += `if(contentType)switch(contentType.charCodeAt(12)){\ncase 106:` + adapter.parser.json(isOptionalBody) + `break\ncase 120:` + adapter.parser.urlencoded(isOptionalBody) + `break\ncase 111:` + adapter.parser.arrayBuffer(isOptionalBody) + `break\ncase 114:` + adapter.parser.formData(isOptionalBody) + `break\ndefault:if(contentType.charCodeAt(0)===116){` + adapter.parser.text(isOptionalBody) + `}break\n}`;\n      }\n      const reporter = report(\"parse\", {\n        total: hooks.parse?.length\n      });\n      if (hooks.parse)\n        for (let i = 0; i < hooks.parse.length; i++) {\n          const name = `bo${i}`;\n          if (i !== 0 && (fnLiteral += `\nif(!used){`), typeof hooks.parse[i].fn == \"string\") {\n            const endUnit = reporter.resolveChild(\n              hooks.parse[i].fn\n            ), isOptionalBody = !!validator.body?.isOptional;\n            switch (hooks.parse[i].fn) {\n              case \"json\":\n              case \"application/json\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.json(isOptionalBody);\n                break;\n              case \"text\":\n              case \"text/plain\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.text(isOptionalBody);\n                break;\n              case \"urlencoded\":\n              case \"application/x-www-form-urlencoded\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.urlencoded(isOptionalBody);\n                break;\n              case \"arrayBuffer\":\n              case \"application/octet-stream\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.arrayBuffer(isOptionalBody);\n                break;\n              case \"formdata\":\n              case \"multipart/form-data\":\n                hasDefaultParser = !0, fnLiteral += adapter.parser.formData(isOptionalBody);\n                break;\n              default:\n                fnLiteral += `let ${name}=parser['${hooks.parse[i].fn}'](c,contentType)\nif(${name} instanceof Promise)${name}=await ${name}\nif(${name}!==undefined){c.body=${name};used=true;}\n`;\n            }\n            endUnit();\n          } else {\n            const endUnit = reporter.resolveChild(\n              hooks.parse[i].fn.name\n            );\n            fnLiteral += `let ${name}=e.parse[${i}]\n${name}=${name}(c,contentType)\nif(${name} instanceof Promise)${name}=await ${name}\nif(${name}!==undefined){c.body=${name};used=true}`, endUnit();\n          }\n          if (i !== 0 && (fnLiteral += \"}\"), hasDefaultParser) break;\n        }\n      if (reporter.resolve(), !hasDefaultParser) {\n        const isOptionalBody = !!validator.body?.isOptional;\n        hooks.parse?.length && (fnLiteral += `\nif(!used){\n`), fnLiteral += `switch(contentType){case 'application/json':\n` + adapter.parser.json(isOptionalBody) + `break\ncase 'text/plain':` + adapter.parser.text(isOptionalBody) + `break\ncase 'application/x-www-form-urlencoded':` + adapter.parser.urlencoded(isOptionalBody) + `break\ncase 'application/octet-stream':` + adapter.parser.arrayBuffer(isOptionalBody) + `break\ncase 'multipart/form-data':` + adapter.parser.formData(isOptionalBody) + `break\n`;\n        for (const key of Object.keys(app[\"~parser\"]))\n          fnLiteral += `case '${key}':let bo${key}=parser['${key}'](c,contentType)\nif(bo${key} instanceof Promise)bo${key}=await bo${key}\nif(bo${key} instanceof ElysiaCustomStatusResponse){` + mapResponse(`bo${key}`) + `}if(bo${key}!==undefined)c.body=bo${key}\nbreak\n`;\n        hooks.parse?.length && (fnLiteral += \"}\"), fnLiteral += \"}\";\n      }\n      hooks.parse?.length && (fnLiteral += `\ndelete c.contentType`);\n    }\n    fnLiteral += \"}catch(error){throw new ParseError(error)}\";\n  }\n  if (parseReporter.resolve(), hooks?.transform || hasTrace) {\n    const reporter = report(\"transform\", {\n      total: hooks.transform?.length\n    });\n    if (hooks.transform?.length) {\n      fnLiteral += `let transformed\n`;\n      for (let i = 0; i < hooks.transform.length; i++) {\n        const transform = hooks.transform[i], endUnit = reporter.resolveChild(transform.fn.name);\n        fnLiteral += isAsync(transform) ? `transformed=await e.transform[${i}](c)\n` : `transformed=e.transform[${i}](c)\n`, transform.subType === \"mapDerive\" ? fnLiteral += \"if(transformed instanceof ElysiaCustomStatusResponse){\" + mapResponse(\"transformed\") + `}else{transformed.request=c.request\ntransformed.store=c.store\ntransformed.qi=c.qi\ntransformed.path=c.path\ntransformed.url=c.url\ntransformed.redirect=c.redirect\ntransformed.set=c.set\ntransformed.error=c.error\nc=transformed}` : fnLiteral += \"if(transformed instanceof ElysiaCustomStatusResponse){\" + mapResponse(\"transformed\") + `}else Object.assign(c,transformed)\n`, endUnit();\n      }\n    }\n    reporter.resolve();\n  }\n  const fileUnions = [];\n  if (validator) {\n    if (validator.headers) {\n      if (validator.headers.hasDefault)\n        for (const [key, value] of Object.entries(\n          Value.Default(\n            // @ts-ignore\n            validator.headers.schema,\n            {}\n          )\n        )) {\n          const parsed = typeof value == \"object\" ? JSON.stringify(value) : typeof value == \"string\" ? `'${value}'` : value;\n          parsed !== void 0 && (fnLiteral += `c.headers['${key}']??=${parsed}\n`);\n        }\n      fnLiteral += composeCleaner({\n        name: \"c.headers\",\n        schema: validator.headers,\n        type: \"headers\",\n        normalize\n      }), validator.headers.isOptional && (fnLiteral += \"if(isNotEmpty(c.headers)){\"), validator.headers?.provider === \"standard\" ? fnLiteral += `let vah=validator.headers.Check(c.headers)\nif(vah instanceof Promise)vah=await vah\nif(vah.issues){` + validation.validate(\"headers\", void 0, \"vah.issues\") + `}else{c.headers=vah.value}\n` : validator.headers?.schema?.noValidate !== !0 && (fnLiteral += \"if(validator.headers.Check(c.headers) === false){\" + validation.validate(\"headers\") + \"}\"), validator.headers.hasTransform && (fnLiteral += coerceTransformDecodeError(\n        `c.headers=validator.headers.Decode(c.headers)\n`,\n        \"headers\",\n        allowUnsafeValidationDetails\n      )), validator.headers.isOptional && (fnLiteral += \"}\");\n    }\n    if (validator.params) {\n      if (validator.params.hasDefault)\n        for (const [key, value] of Object.entries(\n          Value.Default(\n            // @ts-ignore\n            validator.params.schema,\n            {}\n          )\n        )) {\n          const parsed = typeof value == \"object\" ? JSON.stringify(value) : typeof value == \"string\" ? `'${value}'` : value;\n          parsed !== void 0 && (fnLiteral += `c.params['${key}']??=${parsed}\n`);\n        }\n      validator.params.provider === \"standard\" ? fnLiteral += `let vap=validator.params.Check(c.params)\nif(vap instanceof Promise)vap=await vap\nif(vap.issues){` + validation.validate(\"params\", void 0, \"vap.issues\") + `}else{c.params=vap.value}\n` : validator.params?.schema?.noValidate !== !0 && (fnLiteral += \"if(validator.params.Check(c.params)===false){\" + validation.validate(\"params\") + \"}\"), validator.params.hasTransform && (fnLiteral += coerceTransformDecodeError(\n        `c.params=validator.params.Decode(c.params)\n`,\n        \"params\",\n        allowUnsafeValidationDetails\n      ));\n    }\n    if (validator.query) {\n      if (Kind in validator.query?.schema && validator.query.hasDefault)\n        for (const [key, value] of Object.entries(\n          Value.Default(\n            // @ts-ignore\n            validator.query.schema,\n            {}\n          )\n        )) {\n          const parsed = typeof value == \"object\" ? JSON.stringify(value) : typeof value == \"string\" ? `'${value}'` : value;\n          parsed !== void 0 && (fnLiteral += `if(c.query['${key}']===undefined)c.query['${key}']=${parsed}\n`);\n        }\n      fnLiteral += composeCleaner({\n        name: \"c.query\",\n        schema: validator.query,\n        type: \"query\",\n        normalize\n      }), validator.query.isOptional && (fnLiteral += \"if(isNotEmpty(c.query)){\"), validator.query.provider === \"standard\" ? fnLiteral += `let vaq=validator.query.Check(c.query)\nif(vaq instanceof Promise)vaq=await vaq\nif(vaq.issues){` + validation.validate(\"query\", void 0, \"vaq.issues\") + `}else{c.query=vaq.value}\n` : validator.query?.schema?.noValidate !== !0 && (fnLiteral += \"if(validator.query.Check(c.query)===false){\" + validation.validate(\"query\") + \"}\"), validator.query.hasTransform && (fnLiteral += coerceTransformDecodeError(\n        `c.query=validator.query.Decode(c.query)\n`,\n        \"query\",\n        allowUnsafeValidationDetails\n      ), fnLiteral += coerceTransformDecodeError(\n        `c.query=validator.query.Decode(c.query)\n`,\n        \"query\",\n        allowUnsafeValidationDetails\n      )), validator.query.isOptional && (fnLiteral += \"}\");\n    }\n    if (hasBody && validator.body) {\n      (validator.body.hasTransform || validator.body.isOptional) && (fnLiteral += `const isNotEmptyObject=c.body&&(typeof c.body===\"object\"&&(isNotEmpty(c.body)||c.body instanceof ArrayBuffer))\n`);\n      const hasUnion = isUnion(validator.body.schema);\n      let hasNonUnionFileWithDefault = !1;\n      if (validator.body.hasDefault) {\n        let value = Value.Default(\n          validator.body.schema,\n          validator.body.schema.type === \"object\" || unwrapImportSchema(validator.body.schema)[Kind] === \"Object\" ? {} : void 0\n        );\n        const schema = unwrapImportSchema(validator.body.schema);\n        if (!hasUnion && value && typeof value == \"object\" && (hasType(\"File\", schema) || hasType(\"Files\", schema))) {\n          hasNonUnionFileWithDefault = !0;\n          for (const [k, v] of Object.entries(value))\n            (v === \"File\" || v === \"Files\") && delete value[k];\n          isNotEmpty(value) || (value = void 0);\n        }\n        const parsed = typeof value == \"object\" ? JSON.stringify(value) : typeof value == \"string\" ? `'${value}'` : value;\n        value != null && (Array.isArray(value) ? fnLiteral += `if(!c.body)c.body=${parsed}\n` : typeof value == \"object\" ? fnLiteral += `c.body=Object.assign(${parsed},c.body)\n` : fnLiteral += `c.body=${parsed}\n`), fnLiteral += composeCleaner({\n          name: \"c.body\",\n          schema: validator.body,\n          type: \"body\",\n          normalize\n        }), validator.body.provider === \"standard\" ? fnLiteral += `let vab=validator.body.Check(c.body)\nif(vab instanceof Promise)vab=await vab\nif(vab.issues){` + validation.validate(\"body\", void 0, \"vab.issues\") + `}else{c.body=vab.value}\n` : validator.body?.schema?.noValidate !== !0 && (validator.body.isOptional ? fnLiteral += \"if(isNotEmptyObject&&validator.body.Check(c.body)===false){\" + validation.validate(\"body\") + \"}\" : fnLiteral += \"if(validator.body.Check(c.body)===false){\" + validation.validate(\"body\") + \"}\");\n      } else\n        fnLiteral += composeCleaner({\n          name: \"c.body\",\n          schema: validator.body,\n          type: \"body\",\n          normalize\n        }), validator.body.provider === \"standard\" ? fnLiteral += `let vab=validator.body.Check(c.body)\nif(vab instanceof Promise)vab=await vab\nif(vab.issues){` + validation.validate(\"body\", void 0, \"vab.issues\") + `}else{c.body=vab.value}\n` : validator.body?.schema?.noValidate !== !0 && (validator.body.isOptional ? fnLiteral += \"if(isNotEmptyObject&&validator.body.Check(c.body)===false){\" + validation.validate(\"body\") + \"}\" : fnLiteral += \"if(validator.body.Check(c.body)===false){\" + validation.validate(\"body\") + \"}\");\n      if (validator.body.hasTransform && (fnLiteral += coerceTransformDecodeError(\n        `if(isNotEmptyObject)c.body=validator.body.Decode(c.body)\n`,\n        \"body\",\n        allowUnsafeValidationDetails\n      )), hasUnion && validator.body.schema.anyOf?.length) {\n        const iterator = Object.values(\n          validator.body.schema.anyOf\n        );\n        for (let i = 0; i < iterator.length; i++) {\n          const type = iterator[i];\n          if (hasType(\"File\", type) || hasType(\"Files\", type)) {\n            const candidate = getSchemaValidator(type, {\n              // @ts-expect-error private property\n              modules: app.definitions.typebox,\n              dynamic: !app.config.aot,\n              // @ts-expect-error private property\n              models: app.definitions.type,\n              normalize: app.config.normalize,\n              additionalCoerce: coercePrimitiveRoot(),\n              sanitize: () => app.config.sanitize\n            });\n            if (candidate) {\n              const isFirst = fileUnions.length === 0, iterator2 = Object.entries(\n                type.properties\n              );\n              let validator2 = isFirst ? `\n` : \" else \";\n              validator2 += `if(fileUnions[${fileUnions.length}].Check(c.body)){`;\n              let validateFile = \"\", validatorLength = 0;\n              for (let i2 = 0; i2 < iterator2.length; i2++) {\n                const [k, v] = iterator2[i2];\n                !v.extension || v[Kind] !== \"File\" && v[Kind] !== \"Files\" || (validatorLength && (validateFile += \",\"), validateFile += `fileType(c.body.${k},${JSON.stringify(v.extension)},'body.${k}')`, validatorLength++);\n              }\n              validateFile && (validatorLength === 1 ? validator2 += `await ${validateFile}\n` : validatorLength > 1 && (validator2 += `await Promise.all([${validateFile}])\n`), validator2 += \"}\", fnLiteral += validator2, fileUnions.push(candidate));\n            }\n          }\n        }\n      } else if (hasNonUnionFileWithDefault || !hasUnion && (hasType(\n        \"File\",\n        unwrapImportSchema(validator.body.schema)\n      ) || hasType(\n        \"Files\",\n        unwrapImportSchema(validator.body.schema)\n      ))) {\n        let validateFile = \"\", i = 0;\n        for (const [k, v] of Object.entries(\n          unwrapImportSchema(validator.body.schema).properties\n        ))\n          !v.extension || v[Kind] !== \"File\" && v[Kind] !== \"Files\" || (i && (validateFile += \",\"), validateFile += `fileType(c.body.${k},${JSON.stringify(v.extension)},'body.${k}')`, i++);\n        i && (fnLiteral += `\n`), i === 1 ? fnLiteral += `await ${validateFile}\n` : i > 1 && (fnLiteral += `await Promise.all([${validateFile}])\n`);\n      }\n    }\n    validator.cookie && (validator.cookie.config = mergeCookie(\n      validator.cookie.config,\n      validator.cookie?.config ?? {}\n    ), fnLiteral += `let cookieValue={}\nfor(const [key,value] of Object.entries(c.cookie))cookieValue[key]=value.value\n`, validator.cookie.isOptional && (fnLiteral += \"if(isNotEmpty(c.cookie)){\"), validator.cookie.provider === \"standard\" ? (fnLiteral += `let vac=validator.cookie.Check(cookieValue)\nif(vac instanceof Promise)vac=await vac\nif(vac.issues){` + validation.validate(\"cookie\", void 0, \"vac.issues\") + `}else{cookieValue=vac.value}\n`, fnLiteral += `for(const k of Object.keys(cookieValue))c.cookie[k].value=cookieValue[k]\n`) : validator.body?.schema?.noValidate !== !0 && (fnLiteral += \"if(validator.cookie.Check(cookieValue)===false){\" + validation.validate(\"cookie\", \"cookieValue\") + \"}\", validator.cookie.hasTransform && (fnLiteral += coerceTransformDecodeError(\n      \"for(const [key,value] of Object.entries(validator.cookie.Decode(cookieValue))){c.cookie[key].value=value}\",\n      \"cookie\",\n      allowUnsafeValidationDetails\n    ))), validator.cookie.isOptional && (fnLiteral += \"}\"));\n  }\n  if (hooks?.beforeHandle || hasTrace) {\n    const reporter = report(\"beforeHandle\", {\n      total: hooks.beforeHandle?.length\n    });\n    let hasResolve = !1;\n    if (hooks.beforeHandle?.length)\n      for (let i = 0; i < hooks.beforeHandle.length; i++) {\n        const beforeHandle = hooks.beforeHandle[i], endUnit = reporter.resolveChild(beforeHandle.fn.name), returning = hasReturn(beforeHandle);\n        if (beforeHandle.subType === \"resolve\" || beforeHandle.subType === \"mapResolve\")\n          hasResolve || (hasResolve = !0, fnLiteral += `\nlet resolved\n`), fnLiteral += isAsync(beforeHandle) ? `resolved=await e.beforeHandle[${i}](c);\n` : `resolved=e.beforeHandle[${i}](c);\n`, beforeHandle.subType === \"mapResolve\" ? fnLiteral += \"if(resolved instanceof ElysiaCustomStatusResponse){\" + mapResponse(\"resolved\") + `}else{resolved.request=c.request\nresolved.store=c.store\nresolved.qi=c.qi\nresolved.path=c.path\nresolved.url=c.url\nresolved.redirect=c.redirect\nresolved.set=c.set\nresolved.error=c.error\nc=resolved}` : fnLiteral += \"if(resolved instanceof ElysiaCustomStatusResponse){\" + mapResponse(\"resolved\") + `}else Object.assign(c, resolved)\n`, endUnit();\n        else if (!returning)\n          fnLiteral += isAsync(beforeHandle) ? `await e.beforeHandle[${i}](c)\n` : `e.beforeHandle[${i}](c)\n`, endUnit();\n        else {\n          if (fnLiteral += isAsync(beforeHandle) ? `be=await e.beforeHandle[${i}](c)\n` : `be=e.beforeHandle[${i}](c)\n`, endUnit(\"be\"), fnLiteral += \"if(be!==undefined){\", reporter.resolve(), hooks.afterHandle?.length || hasTrace) {\n            report(\"handle\", {\n              name: isHandleFn ? handler.name : void 0\n            }).resolve();\n            const reporter2 = report(\"afterHandle\", {\n              total: hooks.afterHandle?.length\n            });\n            if (hooks.afterHandle?.length)\n              for (let i2 = 0; i2 < hooks.afterHandle.length; i2++) {\n                const hook = hooks.afterHandle[i2], returning2 = hasReturn(hook), endUnit2 = reporter2.resolveChild(\n                  hook.fn.name\n                );\n                fnLiteral += `c.response=c.responseValue=be\n`, returning2 ? (fnLiteral += isAsync(hook.fn) ? `af=await e.afterHandle[${i2}](c)\n` : `af=e.afterHandle[${i2}](c)\n`, fnLiteral += `if(af!==undefined) c.response=c.responseValue=be=af\n`) : fnLiteral += isAsync(hook.fn) ? `await e.afterHandle[${i2}](c, be)\n` : `e.afterHandle[${i2}](c, be)\n`, endUnit2(\"af\");\n              }\n            reporter2.resolve();\n          }\n          validator.response && (fnLiteral += validation.response(\"be\"));\n          const mapResponseReporter = report(\"mapResponse\", {\n            total: hooks.mapResponse?.length\n          });\n          if (hooks.mapResponse?.length) {\n            fnLiteral += `c.response=c.responseValue=be\n`;\n            for (let i2 = 0; i2 < hooks.mapResponse.length; i2++) {\n              const mapResponse2 = hooks.mapResponse[i2], endUnit2 = mapResponseReporter.resolveChild(\n                mapResponse2.fn.name\n              );\n              fnLiteral += `if(mr===undefined){mr=${isAsyncName(mapResponse2) ? \"await \" : \"\"}e.mapResponse[${i2}](c)\nif(mr!==undefined)be=c.response=c.responseValue=mr}`, endUnit2();\n            }\n          }\n          mapResponseReporter.resolve(), fnLiteral += afterResponse(), fnLiteral += encodeCookie(), fnLiteral += `return mapEarlyResponse(${saveResponse}be,c.set${mapResponseContext})}\n`;\n        }\n      }\n    reporter.resolve();\n  }\n  function reportHandler(name) {\n    const handleReporter = report(\"handle\", {\n      name,\n      alias: \"reportHandler\"\n    });\n    return () => {\n      hasTrace && (fnLiteral += 'if(r&&(r[Symbol.iterator]||r[Symbol.asyncIterator])&&typeof r.next===\"function\"){' + (maybeAsync ? \"\" : \"(async()=>{\") + `const stream=await tee(r,3)\nr=stream[0]\nconst listener=stream[1]\n` + (hasTrace || hooks.afterResponse?.length ? `afterHandlerStreamListener=stream[2]\n` : \"\") + `setImmediate(async ()=>{if(listener)for await(const v of listener){}\n`, handleReporter.resolve(), fnLiteral += \"})\" + (maybeAsync ? \"\" : \"})()\") + \"}else{\", handleReporter.resolve(), fnLiteral += `}\n`);\n    };\n  }\n  if (hooks.afterHandle?.length || hasTrace) {\n    const resolveHandler = reportHandler(\n      isHandleFn ? handler.name : void 0\n    );\n    hooks.afterHandle?.length ? fnLiteral += isAsyncHandler ? `let r=c.response=c.responseValue=await ${handle}\n` : `let r=c.response=c.responseValue=${handle}\n` : fnLiteral += isAsyncHandler ? `let r=await ${handle}\n` : `let r=${handle}\n`, resolveHandler();\n    const reporter = report(\"afterHandle\", {\n      total: hooks.afterHandle?.length\n    });\n    if (hooks.afterHandle?.length)\n      for (let i = 0; i < hooks.afterHandle.length; i++) {\n        const hook = hooks.afterHandle[i], returning = hasReturn(hook), endUnit = reporter.resolveChild(hook.fn.name);\n        returning ? (fnLiteral += isAsync(hook.fn) ? `af=await e.afterHandle[${i}](c)\n` : `af=e.afterHandle[${i}](c)\n`, endUnit(\"af\"), validator.response ? (fnLiteral += \"if(af!==undefined){\", reporter.resolve(), fnLiteral += validation.response(\"af\"), fnLiteral += \"c.response=c.responseValue=af}\") : (fnLiteral += \"if(af!==undefined){\", reporter.resolve(), fnLiteral += \"c.response=c.responseValue=af}\")) : (fnLiteral += isAsync(hook.fn) ? `await e.afterHandle[${i}](c)\n` : `e.afterHandle[${i}](c)\n`, endUnit());\n      }\n    reporter.resolve(), hooks.afterHandle?.length && (fnLiteral += `r=c.response\n`), validator.response && (fnLiteral += validation.response()), fnLiteral += encodeCookie();\n    const mapResponseReporter = report(\"mapResponse\", {\n      total: hooks.mapResponse?.length\n    });\n    if (hooks.mapResponse?.length)\n      for (let i = 0; i < hooks.mapResponse.length; i++) {\n        const mapResponse2 = hooks.mapResponse[i], endUnit = mapResponseReporter.resolveChild(\n          mapResponse2.fn.name\n        );\n        fnLiteral += `mr=${isAsyncName(mapResponse2) ? \"await \" : \"\"}e.mapResponse[${i}](c)\nif(mr!==undefined)r=c.response=c.responseValue=mr\n`, endUnit();\n      }\n    mapResponseReporter.resolve(), fnLiteral += mapResponse();\n  } else {\n    const resolveHandler = reportHandler(\n      isHandleFn ? handler.name : void 0\n    );\n    if (validator.response || hooks.mapResponse?.length || hasTrace) {\n      fnLiteral += isAsyncHandler ? `let r=await ${handle}\n` : `let r=${handle}\n`, resolveHandler(), validator.response && (fnLiteral += validation.response());\n      const mapResponseReporter = report(\"mapResponse\", {\n        total: hooks.mapResponse?.length\n      });\n      if (hooks.mapResponse?.length) {\n        fnLiteral += `\nc.response=c.responseValue=r\n`;\n        for (let i = 0; i < hooks.mapResponse.length; i++) {\n          const mapResponse2 = hooks.mapResponse[i], endUnit = mapResponseReporter.resolveChild(\n            mapResponse2.fn.name\n          );\n          fnLiteral += `\nif(mr===undefined){mr=${isAsyncName(mapResponse2) ? \"await \" : \"\"}e.mapResponse[${i}](c)\nif(mr!==undefined)r=c.response=c.responseValue=mr}\n`, endUnit();\n        }\n      }\n      mapResponseReporter.resolve(), fnLiteral += encodeCookie(), handler instanceof Response ? (fnLiteral += afterResponse(), fnLiteral += inference.set ? `if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${saveResponse}${handle}.clone(),c.set${mapResponseContext})\nelse return ${handle}.clone()` : `return ${handle}.clone()`, fnLiteral += `\n`) : fnLiteral += mapResponse();\n    } else if (hasCookie || hasTrace) {\n      fnLiteral += isAsyncHandler ? `let r=await ${handle}\n` : `let r=${handle}\n`, resolveHandler();\n      const mapResponseReporter = report(\"mapResponse\", {\n        total: hooks.mapResponse?.length\n      });\n      if (hooks.mapResponse?.length) {\n        fnLiteral += `c.response=c.responseValue= r\n`;\n        for (let i = 0; i < hooks.mapResponse.length; i++) {\n          const mapResponse2 = hooks.mapResponse[i], endUnit = mapResponseReporter.resolveChild(\n            mapResponse2.fn.name\n          );\n          fnLiteral += `if(mr===undefined){mr=${isAsyncName(mapResponse2) ? \"await \" : \"\"}e.mapResponse[${i}](c)\nif(mr!==undefined)r=c.response=c.responseValue=mr}`, endUnit();\n        }\n      }\n      mapResponseReporter.resolve(), fnLiteral += encodeCookie() + mapResponse();\n    } else {\n      resolveHandler();\n      const handled = isAsyncHandler ? `await ${handle}` : handle;\n      handler instanceof Response ? (fnLiteral += afterResponse(), fnLiteral += inference.set ? `if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${saveResponse}${handle}.clone(),c.set${mapResponseContext})\nelse return ${handle}.clone()\n` : `return ${handle}.clone()\n`) : fnLiteral += mapResponse(handled);\n    }\n  }\n  if (fnLiteral += `\n}catch(error){`, !maybeAsync && hooks.error?.length && (fnLiteral += \"return(async()=>{\"), fnLiteral += `const set=c.set\nif(!set.status||set.status<300)set.status=error?.status||500\n`, hasCookie && (fnLiteral += encodeCookie()), hasTrace && hooks.trace)\n    for (let i = 0; i < hooks.trace.length; i++)\n      fnLiteral += `report${i}?.resolve(error);reportChild${i}?.(error)\n`;\n  const errorReporter = report(\"error\", {\n    total: hooks.error?.length\n  });\n  if (hooks.error?.length) {\n    fnLiteral += `c.error=error\n`, hasValidation ? fnLiteral += `if(error instanceof TypeBoxError){c.code=\"VALIDATION\"\nc.set.status=422}else{c.code=error.code??error[ERROR_CODE]??\"UNKNOWN\"}` : fnLiteral += `c.code=error.code??error[ERROR_CODE]??\"UNKNOWN\"\n`, fnLiteral += `let er\n`, hooks.mapResponse?.length && (fnLiteral += `let mep\n`);\n    for (let i = 0; i < hooks.error.length; i++) {\n      const endUnit = errorReporter.resolveChild(hooks.error[i].fn.name);\n      if (isAsync(hooks.error[i]) ? fnLiteral += `er=await e.error[${i}](c)\n` : fnLiteral += `er=e.error[${i}](c)\nif(er instanceof Promise)er=await er\n`, endUnit(), hooks.mapResponse?.length) {\n        const mapResponseReporter = report(\"mapResponse\", {\n          total: hooks.mapResponse?.length\n        });\n        for (let i2 = 0; i2 < hooks.mapResponse.length; i2++) {\n          const mapResponse2 = hooks.mapResponse[i2], endUnit2 = mapResponseReporter.resolveChild(\n            mapResponse2.fn.name\n          );\n          fnLiteral += `c.response=c.responseValue=er\nmep=e.mapResponse[${i2}](c)\nif(mep instanceof Promise)er=await er\nif(mep!==undefined)er=mep\n`, endUnit2();\n        }\n        mapResponseReporter.resolve();\n      }\n      if (fnLiteral += `er=mapEarlyResponse(er,set${mapResponseContext})\n`, fnLiteral += \"if(er){\", hasTrace && hooks.trace) {\n        for (let i2 = 0; i2 < hooks.trace.length; i2++)\n          fnLiteral += `report${i2}.resolve()\n`;\n        errorReporter.resolve();\n      }\n      fnLiteral += \"return er}\";\n    }\n  }\n  errorReporter.resolve(), fnLiteral += \"return handleError(c,error,true)\", !maybeAsync && hooks.error?.length && (fnLiteral += \"})()\"), fnLiteral += \"}\";\n  const adapterVariables = adapter.inject ? Object.keys(adapter.inject).join(\",\") + \",\" : \"\";\n  let init = \"const {handler,handleError,hooks:e, \" + allocateIf(\"validator,\", hasValidation) + \"mapResponse,mapCompactResponse,mapEarlyResponse,isNotEmpty,utils:{\" + allocateIf(\"parseQuery,\", hasBody) + allocateIf(\"parseQueryFromURL,\", hasQuery) + \"},error:{\" + allocateIf(\"ValidationError,\", hasValidation) + allocateIf(\"ParseError\", hasBody) + \"},fileType,schema,definitions,tee,ERROR_CODE,\" + allocateIf(\"parseCookie,\", hasCookie) + allocateIf(\"signCookie,\", hasCookie) + allocateIf(\"decodeURIComponent,\", hasQuery) + \"ElysiaCustomStatusResponse,\" + allocateIf(\"ELYSIA_TRACE,\", hasTrace) + allocateIf(\"ELYSIA_REQUEST_ID,\", hasTrace) + allocateIf(\"parser,\", hooks.parse?.length) + allocateIf(\"getServer,\", inference.server) + allocateIf(\"fileUnions,\", fileUnions.length) + adapterVariables + allocateIf(\"TypeBoxError\", hasValidation) + `}=hooks\nconst trace=e.trace\nreturn ${maybeAsync ? \"async \" : \"\"}function handle(c){`;\n  hooks.beforeHandle?.length && (init += `let be\n`), hooks.afterHandle?.length && (init += `let af\n`), hooks.mapResponse?.length && (init += `let mr\n`), allowMeta && (init += `c.schema=schema\nc.defs=definitions\n`), fnLiteral = init + fnLiteral + \"}\", init = \"\";\n  try {\n    return Function(\n      \"hooks\",\n      `\"use strict\";\n` + fnLiteral\n    )({\n      handler,\n      hooks: lifeCycleToFn(hooks),\n      validator: hasValidation ? validator : void 0,\n      // @ts-expect-error\n      handleError: app.handleError,\n      mapResponse: adapterHandler.mapResponse,\n      mapCompactResponse: adapterHandler.mapCompactResponse,\n      mapEarlyResponse: adapterHandler.mapEarlyResponse,\n      isNotEmpty,\n      utils: {\n        parseQuery: hasBody ? parseQuery : void 0,\n        parseQueryFromURL: hasQuery ? validator.query?.provider === \"standard\" ? parseQueryStandardSchema : parseQueryFromURL : void 0\n      },\n      error: {\n        ValidationError: hasValidation ? ValidationError : void 0,\n        ParseError: hasBody ? ParseError : void 0\n      },\n      fileType,\n      schema: app.router.history,\n      // @ts-expect-error\n      definitions: app.definitions.type,\n      tee,\n      ERROR_CODE,\n      parseCookie: hasCookie ? parseCookie : void 0,\n      signCookie: hasCookie ? signCookie : void 0,\n      decodeURIComponent: hasQuery ? decode : void 0,\n      ElysiaCustomStatusResponse,\n      ELYSIA_TRACE: hasTrace ? ELYSIA_TRACE : void 0,\n      ELYSIA_REQUEST_ID: hasTrace ? ELYSIA_REQUEST_ID : void 0,\n      // @ts-expect-error private property\n      getServer: inference.server ? () => app.getServer() : void 0,\n      fileUnions: fileUnions.length ? fileUnions : void 0,\n      TypeBoxError: hasValidation ? TypeBoxError : void 0,\n      parser: app[\"~parser\"],\n      ...adapter.inject\n    });\n  } catch (error) {\n    const debugHooks = lifeCycleToFn(hooks);\n    console.log(\"[Composer] failed to generate optimized handler\"), console.log(\"---\"), console.log({\n      handler: typeof handler == \"function\" ? handler.toString() : handler,\n      instruction: fnLiteral,\n      hooks: {\n        ...debugHooks,\n        // @ts-ignore\n        transform: debugHooks?.transform?.map?.((x) => x.toString()),\n        // @ts-ignore\n        resolve: debugHooks?.resolve?.map?.((x) => x.toString()),\n        // @ts-ignore\n        beforeHandle: debugHooks?.beforeHandle?.map?.(\n          (x) => x.toString()\n        ),\n        // @ts-ignore\n        afterHandle: debugHooks?.afterHandle?.map?.(\n          (x) => x.toString()\n        ),\n        // @ts-ignore\n        mapResponse: debugHooks?.mapResponse?.map?.(\n          (x) => x.toString()\n        ),\n        // @ts-ignore\n        parse: debugHooks?.parse?.map?.((x) => x.toString()),\n        // @ts-ignore\n        error: debugHooks?.error?.map?.((x) => x.toString()),\n        // @ts-ignore\n        afterResponse: debugHooks?.afterResponse?.map?.(\n          (x) => x.toString()\n        ),\n        // @ts-ignore\n        stop: debugHooks?.stop?.map?.((x) => x.toString())\n      },\n      validator,\n      // @ts-expect-error\n      definitions: app.definitions.type,\n      error\n    }), console.log(\"---\"), process.exit(1);\n  }\n}, createOnRequestHandler = (app, addFn) => {\n  let fnLiteral = \"\";\n  const reporter = createReport({\n    trace: app.event.trace,\n    addFn: addFn ?? ((word) => {\n      fnLiteral += word;\n    })\n  })(\"request\", {\n    total: app.event.request?.length\n  });\n  if (app.event.request?.length) {\n    fnLiteral += \"try{\";\n    for (let i = 0; i < app.event.request.length; i++) {\n      const hook = app.event.request[i], withReturn = hasReturn(hook), maybeAsync = isAsync(hook), endUnit = reporter.resolveChild(app.event.request[i].fn.name);\n      withReturn ? (fnLiteral += `re=mapEarlyResponse(${maybeAsync ? \"await \" : \"\"}onRequest[${i}](c),c.set)\n`, endUnit(\"re\"), fnLiteral += `if(re!==undefined)return re\n`) : (fnLiteral += `${maybeAsync ? \"await \" : \"\"}onRequest[${i}](c)\n`, endUnit());\n    }\n    fnLiteral += \"}catch(error){return app.handleError(c,error,false)}\";\n  }\n  return reporter.resolve(), fnLiteral;\n}, createHoc = (app, fnName = \"map\") => {\n  const hoc = app.extender.higherOrderFunctions;\n  if (!hoc.length) return \"return \" + fnName;\n  const adapter = app[\"~adapter\"].composeGeneralHandler;\n  let handler = fnName;\n  for (let i = 0; i < hoc.length; i++)\n    handler = `hoc[${i}](${handler},${adapter.parameters})`;\n  return `return function hocMap(${adapter.parameters}){return ${handler}(${adapter.parameters})}`;\n}, composeGeneralHandler = (app) => {\n  const adapter = app[\"~adapter\"].composeGeneralHandler;\n  app.router.http.build();\n  const isWebstandard = app[\"~adapter\"].isWebStandard, hasTrace = app.event.trace?.length;\n  let fnLiteral = \"\";\n  const router = app.router;\n  let findDynamicRoute = router.http.root.WS ? \"const route=router.find(r.method==='GET'&&r.headers.get('upgrade')==='websocket'?'WS':r.method,p)\" : \"const route=router.find(r.method,p)\";\n  findDynamicRoute += router.http.root.ALL ? `??router.find('ALL',p)\n` : `\n`, isWebstandard && (findDynamicRoute += `if(r.method==='HEAD'){const route=router.find('GET',p)\nif(route){c.params=route.params\nconst _res=route.store.handler?route.store.handler(c):route.store.compile()(c)\nif(_res)return getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)\nreturn new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})\n})}}`);\n  let afterResponse = `c.error=notFound\n`;\n  if (app.event.afterResponse?.length && !app.event.error) {\n    afterResponse = `\nc.error=notFound\n`;\n    const prefix = app.event.afterResponse.some(isAsync) ? \"async\" : \"\";\n    afterResponse += `\nsetImmediate(${prefix}()=>{if(c.responseValue instanceof ElysiaCustomStatusResponse) c.set.status=c.responseValue.code\n`;\n    for (let i = 0; i < app.event.afterResponse.length; i++) {\n      const fn2 = app.event.afterResponse[i].fn;\n      afterResponse += `\n${isAsyncName(fn2) ? \"await \" : \"\"}afterResponse[${i}](c)\n`;\n    }\n    afterResponse += `})\n`;\n  }\n  app.inference.query && (afterResponse += `\nif(c.qi===-1){c.query={}}else{c.query=parseQueryFromURL(c.url,c.qi+1)}`);\n  const error404 = adapter.error404(\n    !!app.event.request?.length,\n    !!app.event.error?.length,\n    afterResponse\n  );\n  findDynamicRoute += error404.code, findDynamicRoute += `\nc.params=route.params\nif(route.store.handler)return route.store.handler(c)\nreturn route.store.compile()(c)\n`;\n  let switchMap = \"\";\n  for (const [path, methods] of Object.entries(router.static)) {\n    switchMap += `case'${path}':`, app.config.strictPath !== !0 && (switchMap += `case'${getLoosePath(path)}':`);\n    const encoded = encodePath(path);\n    path !== encoded && (switchMap += `case'${encoded}':`), switchMap += \"switch(r.method){\", (\"GET\" in methods || \"WS\" in methods) && (switchMap += \"case 'GET':\", \"WS\" in methods && (switchMap += `if(r.headers.get('upgrade')==='websocket')return ht[${methods.WS}].composed(c)\n`, \"GET\" in methods || (\"ALL\" in methods ? switchMap += `return ht[${methods.ALL}].composed(c)\n` : switchMap += `break map\n`)), \"GET\" in methods && (switchMap += `return ht[${methods.GET}].composed(c)\n`)), isWebstandard && (\"GET\" in methods || \"ALL\" in methods) && !(\"HEAD\" in methods) && (switchMap += `case 'HEAD':const _res=ht[${methods.GET ?? methods.ALL}].composed(c)\nreturn getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)\nreturn new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})\n})\n`);\n    for (const [method, index] of Object.entries(methods))\n      method === \"ALL\" || method === \"GET\" || method === \"WS\" || (switchMap += `case '${method}':return ht[${index}].composed(c)\n`);\n    \"ALL\" in methods ? switchMap += `default:return ht[${methods.ALL}].composed(c)\n` : switchMap += `default:break map\n`, switchMap += \"}\";\n  }\n  const maybeAsync = !!app.event.request?.some(isAsync), adapterVariables = adapter.inject ? Object.keys(adapter.inject).join(\",\") + \",\" : \"\";\n  fnLiteral += `\nconst {app,mapEarlyResponse,NotFoundError,randomId,handleError,status,redirect,getResponseLength,ElysiaCustomStatusResponse,` + // @ts-ignore\n  allocateIf(\"parseQueryFromURL,\", app.inference.query) + allocateIf(\"ELYSIA_TRACE,\", hasTrace) + allocateIf(\"ELYSIA_REQUEST_ID,\", hasTrace) + adapterVariables + `}=data\nconst store=app.singleton.store\nconst decorator=app.singleton.decorator\nconst staticRouter=app.router.static.http\nconst ht=app.router.history\nconst router=app.router.http\nconst trace=app.event.trace?.map(x=>typeof x==='function'?x:x.fn)??[]\nconst notFound=new NotFoundError()\nconst hoc=app.extender.higherOrderFunctions.map(x=>x.fn)\n`, app.event.request?.length && (fnLiteral += `const onRequest=app.event.request.map(x=>x.fn)\n`), app.event.afterResponse?.length && (fnLiteral += `const afterResponse=app.event.afterResponse.map(x=>x.fn)\n`), fnLiteral += error404.declare, app.event.trace?.length && (fnLiteral += \"const \" + app.event.trace.map((_, i) => `tr${i}=app.event.trace[${i}].fn`).join(\",\") + `\n`), fnLiteral += `${maybeAsync ? \"async \" : \"\"}function map(${adapter.parameters}){`, app.event.request?.length && (fnLiteral += `let re\n`), fnLiteral += adapter.createContext(app), app.event.trace?.length && (fnLiteral += \"c[ELYSIA_TRACE]=[\" + app.event.trace.map((_, i) => `tr${i}(c)`).join(\",\") + `]\n`), fnLiteral += createOnRequestHandler(app), switchMap && (fnLiteral += `\nmap: switch(p){\n` + switchMap + \"}\"), fnLiteral += findDynamicRoute + `}\n` + createHoc(app);\n  const handleError = composeErrorHandler(app);\n  app.handleError = handleError;\n  const fn = Function(\n    \"data\",\n    `\"use strict\";\n` + fnLiteral\n  )({\n    app,\n    mapEarlyResponse: app[\"~adapter\"].handler.mapEarlyResponse,\n    NotFoundError,\n    randomId,\n    handleError,\n    status,\n    redirect,\n    getResponseLength,\n    ElysiaCustomStatusResponse,\n    // @ts-ignore\n    parseQueryFromURL: app.inference.query ? parseQueryFromURL : void 0,\n    ELYSIA_TRACE: hasTrace ? ELYSIA_TRACE : void 0,\n    ELYSIA_REQUEST_ID: hasTrace ? ELYSIA_REQUEST_ID : void 0,\n    ...adapter.inject\n  });\n  return isBun && Bun.gc(!1), fn;\n}, composeErrorHandler = (app) => {\n  const hooks = app.event;\n  let fnLiteral = \"\";\n  const adapter = app[\"~adapter\"].composeError, adapterVariables = adapter.inject ? Object.keys(adapter.inject).join(\",\") + \",\" : \"\", hasTrace = !!app.event.trace?.length;\n  fnLiteral += \"const {mapResponse,ERROR_CODE,ElysiaCustomStatusResponse,\" + allocateIf(\"onError,\", app.event.error) + allocateIf(\"afterResponse,\", app.event.afterResponse) + allocateIf(\"trace,\", app.event.trace) + allocateIf(\"onMapResponse,\", app.event.mapResponse) + allocateIf(\"ELYSIA_TRACE,\", hasTrace) + allocateIf(\"ELYSIA_REQUEST_ID,\", hasTrace) + adapterVariables + `}=inject\n`, fnLiteral += `return ${app.event.error?.find(isAsync) || app.event.mapResponse?.find(isAsync) ? \"async \" : \"\"}function(context,error,skipGlobal){`, fnLiteral += \"\", hasTrace && (fnLiteral += `const id=context[ELYSIA_REQUEST_ID]\n`);\n  const report = createReport({\n    context: \"context\",\n    trace: hooks.trace,\n    addFn: (word) => {\n      fnLiteral += word;\n    }\n  }), afterResponse = () => {\n    if (!hooks.afterResponse?.length && !hasTrace) return \"\";\n    let afterResponse2 = \"\";\n    const prefix = hooks.afterResponse?.some(isAsync) ? \"async\" : \"\";\n    afterResponse2 += `\nsetImmediate(${prefix}()=>{`;\n    const reporter = createReport({\n      context: \"context\",\n      trace: hooks.trace,\n      addFn: (word) => {\n        afterResponse2 += word;\n      }\n    })(\"afterResponse\", {\n      total: hooks.afterResponse?.length,\n      name: \"context\"\n    });\n    if (hooks.afterResponse?.length && hooks.afterResponse)\n      for (let i = 0; i < hooks.afterResponse.length; i++) {\n        const fn = hooks.afterResponse[i].fn, endUnit = reporter.resolveChild(fn.name);\n        afterResponse2 += `\n${isAsyncName(fn) ? \"await \" : \"\"}afterResponse[${i}](context)\n`, endUnit();\n      }\n    return reporter.resolve(), afterResponse2 += `})\n`, afterResponse2;\n  };\n  fnLiteral += `const set=context.set\nlet _r\nif(!context.code)context.code=error.code??error[ERROR_CODE]\nif(!(context.error instanceof Error))context.error=error\nif(error instanceof ElysiaCustomStatusResponse){set.status=error.status=error.code\nerror.message=error.response}`, adapter.declare && (fnLiteral += adapter.declare);\n  const saveResponse = hasTrace || hooks.afterResponse?.length ? \"context.response = \" : \"\";\n  if (app.event.error)\n    for (let i = 0; i < app.event.error.length; i++) {\n      const handler = app.event.error[i], response = `${isAsync(handler) ? \"await \" : \"\"}onError[${i}](context)\n`;\n      if (fnLiteral += \"if(skipGlobal!==true){\", hasReturn(handler)) {\n        fnLiteral += `_r=${response}\nif(_r!==undefined){if(_r instanceof Response){` + afterResponse() + `return mapResponse(_r,set${adapter.mapResponseContext})}if(_r instanceof ElysiaCustomStatusResponse){error.status=error.code\nerror.message = error.response}if(set.status===200||!set.status)set.status=error.status\n`;\n        const mapResponseReporter2 = report(\"mapResponse\", {\n          total: hooks.mapResponse?.length,\n          name: \"context\"\n        });\n        if (hooks.mapResponse?.length)\n          for (let i2 = 0; i2 < hooks.mapResponse.length; i2++) {\n            const mapResponse = hooks.mapResponse[i2], endUnit = mapResponseReporter2.resolveChild(\n              mapResponse.fn.name\n            );\n            fnLiteral += `context.response=context.responseValue=_r_r=${isAsyncName(mapResponse) ? \"await \" : \"\"}onMapResponse[${i2}](context)\n`, endUnit();\n          }\n        mapResponseReporter2.resolve(), fnLiteral += afterResponse() + `return mapResponse(${saveResponse}_r,set${adapter.mapResponseContext})}`;\n      } else fnLiteral += response;\n      fnLiteral += \"}\";\n    }\n  fnLiteral += `if(error.constructor.name===\"ValidationError\"||error.constructor.name===\"TransformDecodeError\"){\nif(error.error)error=error.error\nset.status=error.status??422\n` + afterResponse() + adapter.validationError + `\n}\n`, fnLiteral += \"if(error instanceof Error){\" + afterResponse() + `\nif(typeof error.toResponse==='function')return context.response=context.responseValue=error.toResponse()\n` + adapter.unknownError + `\n}`;\n  const mapResponseReporter = report(\"mapResponse\", {\n    total: hooks.mapResponse?.length,\n    name: \"context\"\n  });\n  if (fnLiteral += `\nif(!context.response)context.response=context.responseValue=error.message??error\n`, hooks.mapResponse?.length) {\n    fnLiteral += `let mr\n`;\n    for (let i = 0; i < hooks.mapResponse.length; i++) {\n      const mapResponse = hooks.mapResponse[i], endUnit = mapResponseReporter.resolveChild(\n        mapResponse.fn.name\n      );\n      fnLiteral += `if(mr===undefined){mr=${isAsyncName(mapResponse) ? \"await \" : \"\"}onMapResponse[${i}](context)\nif(mr!==undefined)error=context.response=context.responseValue=mr}`, endUnit();\n    }\n  }\n  mapResponseReporter.resolve(), fnLiteral += afterResponse() + `\nreturn mapResponse(${saveResponse}error,set${adapter.mapResponseContext})}`;\n  const mapFn = (x) => typeof x == \"function\" ? x : x.fn;\n  return Function(\n    \"inject\",\n    `\"use strict\";\n` + fnLiteral\n  )({\n    mapResponse: app[\"~adapter\"].handler.mapResponse,\n    ERROR_CODE,\n    ElysiaCustomStatusResponse,\n    onError: app.event.error?.map(mapFn),\n    afterResponse: app.event.afterResponse?.map(mapFn),\n    trace: app.event.trace?.map(mapFn),\n    onMapResponse: app.event.mapResponse?.map(mapFn),\n    ELYSIA_TRACE: hasTrace ? ELYSIA_TRACE : void 0,\n    ELYSIA_REQUEST_ID: hasTrace ? ELYSIA_REQUEST_ID : void 0,\n    ...adapter.inject\n  });\n};\nexport {\n  composeErrorHandler,\n  composeGeneralHandler,\n  composeHandler,\n  createHoc,\n  createOnRequestHandler,\n  isAsync\n};\n", "import decode from \"fast-decode-uri-component\";\nconst KEY_HAS_PLUS = 1, KEY_NEEDS_DECODE = 2, VALUE_HAS_PLUS = 4, VALUE_NEEDS_DECODE = 8;\nfunction parseQueryFromURL(input, startIndex = 0, array, object) {\n  const result = /* @__PURE__ */ Object.create(null);\n  let flags = 0;\n  const inputLength = input.length;\n  let startingIndex = startIndex - 1, equalityIndex = startingIndex;\n  for (let i = 0; i < inputLength; i++)\n    switch (input.charCodeAt(i)) {\n      // '&'\n      case 38:\n        processKeyValuePair(input, i), startingIndex = i, equalityIndex = i, flags = 0;\n        break;\n      // '='\n      case 61:\n        equalityIndex <= startingIndex ? equalityIndex = i : flags |= VALUE_NEEDS_DECODE;\n        break;\n      // '+'\n      case 43:\n        equalityIndex > startingIndex ? flags |= VALUE_HAS_PLUS : flags |= KEY_HAS_PLUS;\n        break;\n      // '%'\n      case 37:\n        equalityIndex > startingIndex ? flags |= VALUE_NEEDS_DECODE : flags |= KEY_NEEDS_DECODE;\n        break;\n    }\n  return startingIndex < inputLength && processKeyValuePair(input, inputLength), result;\n  function processKeyValuePair(input2, endIndex) {\n    const hasBothKeyValuePair = equalityIndex > startingIndex, effectiveEqualityIndex = hasBothKeyValuePair ? equalityIndex : endIndex, keySlice = input2.slice(startingIndex + 1, effectiveEqualityIndex);\n    if (!hasBothKeyValuePair && keySlice.length === 0) return;\n    let finalKey = keySlice;\n    flags & KEY_HAS_PLUS && (finalKey = finalKey.replace(/\\+/g, \" \")), flags & KEY_NEEDS_DECODE && (finalKey = decode(finalKey) || finalKey);\n    let finalValue = \"\";\n    if (hasBothKeyValuePair) {\n      let valueSlice = input2.slice(equalityIndex + 1, endIndex);\n      flags & VALUE_HAS_PLUS && (valueSlice = valueSlice.replace(/\\+/g, \" \")), flags & VALUE_NEEDS_DECODE && (valueSlice = decode(valueSlice) || valueSlice), finalValue = valueSlice;\n    }\n    const currentValue = result[finalKey];\n    array?.[finalKey] ? finalValue.charCodeAt(0) === 91 ? (object?.[finalKey] ? finalValue = JSON.parse(finalValue) : finalValue = finalValue.slice(1, -1).split(\",\"), currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(...finalValue) : (result[finalKey] = finalValue, result[finalKey].unshift(currentValue))) : currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue] : result[finalKey] = finalValue;\n  }\n}\nfunction parseQueryStandardSchema(input, startIndex = 0) {\n  const result = /* @__PURE__ */ Object.create(null);\n  let flags = 0;\n  const inputLength = input.length;\n  let startingIndex = startIndex - 1, equalityIndex = startingIndex;\n  for (let i = 0; i < inputLength; i++)\n    switch (input.charCodeAt(i)) {\n      // '&'\n      case 38:\n        processKeyValuePair(input, i), startingIndex = i, equalityIndex = i, flags = 0;\n        break;\n      // '='\n      case 61:\n        equalityIndex <= startingIndex ? equalityIndex = i : flags |= VALUE_NEEDS_DECODE;\n        break;\n      // '+'\n      case 43:\n        equalityIndex > startingIndex ? flags |= VALUE_HAS_PLUS : flags |= KEY_HAS_PLUS;\n        break;\n      // '%'\n      case 37:\n        equalityIndex > startingIndex ? flags |= VALUE_NEEDS_DECODE : flags |= KEY_NEEDS_DECODE;\n        break;\n    }\n  return startingIndex < inputLength && processKeyValuePair(input, inputLength), result;\n  function processKeyValuePair(input2, endIndex) {\n    const hasBothKeyValuePair = equalityIndex > startingIndex, effectiveEqualityIndex = hasBothKeyValuePair ? equalityIndex : endIndex, keySlice = input2.slice(startingIndex + 1, effectiveEqualityIndex);\n    if (!hasBothKeyValuePair && keySlice.length === 0) return;\n    let finalKey = keySlice;\n    flags & KEY_HAS_PLUS && (finalKey = finalKey.replace(/\\+/g, \" \")), flags & KEY_NEEDS_DECODE && (finalKey = decode(finalKey) || finalKey);\n    let finalValue = \"\";\n    if (hasBothKeyValuePair) {\n      let valueSlice = input2.slice(equalityIndex + 1, endIndex);\n      flags & VALUE_HAS_PLUS && (valueSlice = valueSlice.replace(/\\+/g, \" \")), flags & VALUE_NEEDS_DECODE && (valueSlice = decode(valueSlice) || valueSlice), finalValue = valueSlice;\n    }\n    const currentValue = result[finalKey];\n    if (finalValue.charCodeAt(0) === 91 && finalValue.charCodeAt(finalValue.length - 1) === 93) {\n      try {\n        finalValue = JSON.parse(finalValue);\n      } catch {\n      }\n      currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue];\n    } else if (finalValue.charCodeAt(0) === 123 && finalValue.charCodeAt(finalValue.length - 1) === 125) {\n      try {\n        finalValue = JSON.parse(finalValue);\n      } catch {\n      }\n      currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue];\n    } else\n      finalValue.includes(\",\") && (finalValue = finalValue.split(\",\")), currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue];\n  }\n}\nfunction parseQuery(input) {\n  const result = /* @__PURE__ */ Object.create(null);\n  let flags = 0;\n  const inputLength = input.length;\n  let startingIndex = -1, equalityIndex = -1;\n  for (let i = 0; i < inputLength; i++)\n    switch (input.charCodeAt(i)) {\n      // '&'\n      case 38:\n        processKeyValuePair(input, i), startingIndex = i, equalityIndex = i, flags = 0;\n        break;\n      // '='\n      case 61:\n        equalityIndex <= startingIndex ? equalityIndex = i : flags |= VALUE_NEEDS_DECODE;\n        break;\n      // '+'\n      case 43:\n        equalityIndex > startingIndex ? flags |= VALUE_HAS_PLUS : flags |= KEY_HAS_PLUS;\n        break;\n      // '%'\n      case 37:\n        equalityIndex > startingIndex ? flags |= VALUE_NEEDS_DECODE : flags |= KEY_NEEDS_DECODE;\n        break;\n    }\n  return startingIndex < inputLength && processKeyValuePair(input, inputLength), result;\n  function processKeyValuePair(input2, endIndex) {\n    const hasBothKeyValuePair = equalityIndex > startingIndex, effectiveEqualityIndex = hasBothKeyValuePair ? equalityIndex : endIndex, keySlice = input2.slice(startingIndex + 1, effectiveEqualityIndex);\n    if (!hasBothKeyValuePair && keySlice.length === 0) return;\n    let finalKey = keySlice;\n    flags & KEY_HAS_PLUS && (finalKey = finalKey.replace(/\\+/g, \" \")), flags & KEY_NEEDS_DECODE && (finalKey = decode(finalKey) || finalKey);\n    let finalValue = \"\";\n    if (hasBothKeyValuePair) {\n      let valueSlice = input2.slice(equalityIndex + 1, endIndex);\n      flags & VALUE_HAS_PLUS && (valueSlice = valueSlice.replace(/\\+/g, \" \")), flags & VALUE_NEEDS_DECODE && (valueSlice = decode(valueSlice) || valueSlice), finalValue = valueSlice;\n    }\n    const currentValue = result[finalKey];\n    currentValue === void 0 ? result[finalKey] = finalValue : Array.isArray(currentValue) ? currentValue.push(finalValue) : result[finalKey] = [currentValue, finalValue];\n  }\n}\nexport {\n  parseQuery,\n  parseQueryFromURL,\n  parseQueryStandardSchema\n};\n", "import { ELYSIA_REQUEST_ID } from \"./utils.mjs\";\nconst ELYSIA_TRACE = Symbol(\"ElysiaTrace\"), createProcess = () => {\n  const { promise, resolve } = Promise.withResolvers(), { promise: end, resolve: resolveEnd } = Promise.withResolvers(), { promise: error, resolve: resolveError } = Promise.withResolvers(), callbacks = [], callbacksEnd = [];\n  return [\n    (callback) => (callback && callbacks.push(callback), promise),\n    (process) => {\n      const processes = [], resolvers = [];\n      let groupError = null;\n      for (let i = 0; i < (process.total ?? 0); i++) {\n        const { promise: promise2, resolve: resolve2 } = Promise.withResolvers(), { promise: end2, resolve: resolveEnd2 } = Promise.withResolvers(), { promise: error2, resolve: resolveError2 } = Promise.withResolvers(), callbacks2 = [], callbacksEnd2 = [];\n        processes.push((callback) => (callback && callbacks2.push(callback), promise2)), resolvers.push((process2) => {\n          const result2 = {\n            ...process2,\n            end: end2,\n            error: error2,\n            index: i,\n            onStop(callback) {\n              return callback && callbacksEnd2.push(callback), end2;\n            }\n          };\n          resolve2(result2);\n          for (let i2 = 0; i2 < callbacks2.length; i2++)\n            callbacks2[i2](result2);\n          return (error3 = null) => {\n            const end3 = performance.now();\n            error3 && (groupError = error3);\n            const detail = {\n              end: end3,\n              error: error3,\n              get elapsed() {\n                return end3 - process2.begin;\n              }\n            };\n            for (let i2 = 0; i2 < callbacksEnd2.length; i2++)\n              callbacksEnd2[i2](detail);\n            resolveEnd2(end3), resolveError2(error3);\n          };\n        });\n      }\n      const result = {\n        ...process,\n        end,\n        error,\n        onEvent(callback) {\n          for (let i = 0; i < processes.length; i++)\n            processes[i](callback);\n        },\n        onStop(callback) {\n          return callback && callbacksEnd.push(callback), end;\n        }\n      };\n      resolve(result);\n      for (let i = 0; i < callbacks.length; i++) callbacks[i](result);\n      return {\n        resolveChild: resolvers,\n        resolve(error2 = null) {\n          const end2 = performance.now();\n          !error2 && groupError && (error2 = groupError);\n          const detail = {\n            end: end2,\n            error: error2,\n            get elapsed() {\n              return end2 - process.begin;\n            }\n          };\n          for (let i = 0; i < callbacksEnd.length; i++)\n            callbacksEnd[i](detail);\n          resolveEnd(end2), resolveError(error2);\n        }\n      };\n    }\n  ];\n}, createTracer = (traceListener) => (context) => {\n  const [onRequest, resolveRequest] = createProcess(), [onParse, resolveParse] = createProcess(), [onTransform, resolveTransform] = createProcess(), [onBeforeHandle, resolveBeforeHandle] = createProcess(), [onHandle, resolveHandle] = createProcess(), [onAfterHandle, resolveAfterHandle] = createProcess(), [onError, resolveError] = createProcess(), [onMapResponse, resolveMapResponse] = createProcess(), [onAfterResponse, resolveAfterResponse] = createProcess();\n  return traceListener({\n    // @ts-ignore\n    id: context[ELYSIA_REQUEST_ID],\n    context,\n    set: context.set,\n    // @ts-ignore\n    onRequest,\n    // @ts-ignore\n    onParse,\n    // @ts-ignore\n    onTransform,\n    // @ts-ignore\n    onBeforeHandle,\n    // @ts-ignore\n    onHandle,\n    // @ts-ignore\n    onAfterHandle,\n    // @ts-ignore\n    onMapResponse,\n    // @ts-ignore\n    onAfterResponse,\n    // @ts-ignore\n    onError,\n    time: Date.now(),\n    store: context.store\n  }), {\n    request: resolveRequest,\n    parse: resolveParse,\n    transform: resolveTransform,\n    beforeHandle: resolveBeforeHandle,\n    handle: resolveHandle,\n    afterHandle: resolveAfterHandle,\n    error: resolveError,\n    mapResponse: resolveMapResponse,\n    afterResponse: resolveAfterResponse\n  };\n};\nexport {\n  ELYSIA_TRACE,\n  createTracer\n};\n", "import {\n  Kind,\n  OptionalKind,\n  TransformKind\n} from \"@sinclair/typebox\";\nimport { Value } from \"@sinclair/typebox/value\";\nimport { TypeCompiler } from \"@sinclair/typebox/compiler\";\nimport {\n  createMirror\n} from \"exact-mirror\";\nimport { t } from \"./type-system/index.mjs\";\nimport { mergeCookie, mergeDeep, randomId } from \"./utils.mjs\";\nimport { mapValueError } from \"./error.mjs\";\nconst isOptional = (schema) => schema ? schema?.[Kind] === \"Import\" && schema.References ? schema.References().some(isOptional) : (schema.schema && (schema = schema.schema), !!schema && OptionalKind in schema) : !1, hasAdditionalProperties = (_schema) => {\n  if (!_schema) return !1;\n  const schema = _schema?.schema ?? _schema;\n  if (schema[Kind] === \"Import\" && _schema.References)\n    return _schema.References().some(hasAdditionalProperties);\n  if (schema.anyOf) return schema.anyOf.some(hasAdditionalProperties);\n  if (schema.someOf) return schema.someOf.some(hasAdditionalProperties);\n  if (schema.allOf) return schema.allOf.some(hasAdditionalProperties);\n  if (schema.not) return schema.not.some(hasAdditionalProperties);\n  if (schema.type === \"object\") {\n    const properties = schema.properties;\n    if (\"additionalProperties\" in schema) return schema.additionalProperties;\n    if (\"patternProperties\" in schema) return !1;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (property.type === \"object\") {\n        if (hasAdditionalProperties(property)) return !0;\n      } else if (property.anyOf) {\n        for (let i = 0; i < property.anyOf.length; i++)\n          if (hasAdditionalProperties(property.anyOf[i])) return !0;\n      }\n      return property.additionalProperties;\n    }\n    return !1;\n  }\n  return schema.type === \"array\" && schema.items && !Array.isArray(schema.items) ? hasAdditionalProperties(schema.items) : !1;\n}, hasType = (type, schema) => {\n  if (!schema) return !1;\n  if (Kind in schema && schema[Kind] === type) return !0;\n  if (schema.type === \"object\") {\n    const properties = schema.properties;\n    if (!properties) return !1;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (property.type === \"object\") {\n        if (hasType(type, property)) return !0;\n      } else if (property.anyOf) {\n        for (let i = 0; i < property.anyOf.length; i++)\n          if (hasType(type, property.anyOf[i])) return !0;\n      }\n      if (Kind in property && property[Kind] === type) return !0;\n    }\n    return !1;\n  }\n  return !!schema.properties && Kind in schema.properties && schema.properties[Kind] === type;\n}, hasElysiaMeta = (meta, _schema) => {\n  if (!_schema) return !1;\n  const schema = _schema?.schema ?? _schema;\n  if (schema.elysiaMeta === meta) return !0;\n  if (schema[Kind] === \"Import\" && _schema.References)\n    return _schema.References().some((schema2) => hasElysiaMeta(meta, schema2));\n  if (schema.anyOf)\n    return schema.anyOf.some(\n      (schema2) => hasElysiaMeta(meta, schema2)\n    );\n  if (schema.someOf)\n    return schema.someOf.some(\n      (schema2) => hasElysiaMeta(meta, schema2)\n    );\n  if (schema.allOf)\n    return schema.allOf.some(\n      (schema2) => hasElysiaMeta(meta, schema2)\n    );\n  if (schema.not)\n    return schema.not.some((schema2) => hasElysiaMeta(meta, schema2));\n  if (schema.type === \"object\") {\n    const properties = schema.properties;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (property.type === \"object\") {\n        if (hasElysiaMeta(meta, property)) return !0;\n      } else if (property.anyOf) {\n        for (let i = 0; i < property.anyOf.length; i++)\n          if (hasElysiaMeta(meta, property.anyOf[i])) return !0;\n      }\n      return schema.elysiaMeta === meta;\n    }\n    return !1;\n  }\n  return schema.type === \"array\" && schema.items && !Array.isArray(schema.items) ? hasElysiaMeta(meta, schema.items) : !1;\n}, hasProperty = (expectedProperty, _schema) => {\n  if (!_schema) return;\n  const schema = _schema.schema ?? _schema;\n  if (schema[Kind] === \"Import\" && _schema.References)\n    return _schema.References().some((schema2) => hasProperty(expectedProperty, schema2));\n  if (schema.type === \"object\") {\n    const properties = schema.properties;\n    if (!properties) return !1;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (expectedProperty in property) return !0;\n      if (property.type === \"object\") {\n        if (hasProperty(expectedProperty, property)) return !0;\n      } else if (property.anyOf) {\n        for (let i = 0; i < property.anyOf.length; i++)\n          if (hasProperty(expectedProperty, property.anyOf[i]))\n            return !0;\n      }\n    }\n    return !1;\n  }\n  return expectedProperty in schema;\n}, hasRef = (schema) => {\n  if (!schema) return !1;\n  if (schema.oneOf) {\n    for (let i = 0; i < schema.oneOf.length; i++)\n      if (hasRef(schema.oneOf[i])) return !0;\n  }\n  if (schema.anyOf) {\n    for (let i = 0; i < schema.anyOf.length; i++)\n      if (hasRef(schema.anyOf[i])) return !0;\n  }\n  if (schema.oneOf) {\n    for (let i = 0; i < schema.oneOf.length; i++)\n      if (hasRef(schema.oneOf[i])) return !0;\n  }\n  if (schema.allOf) {\n    for (let i = 0; i < schema.allOf.length; i++)\n      if (hasRef(schema.allOf[i])) return !0;\n  }\n  if (schema.not && hasRef(schema.not)) return !0;\n  if (schema.type === \"object\" && schema.properties) {\n    const properties = schema.properties;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (hasRef(property) || property.type === \"array\" && property.items && hasRef(property.items))\n        return !0;\n    }\n  }\n  return schema.type === \"array\" && schema.items && hasRef(schema.items) ? !0 : schema[Kind] === \"Ref\" && \"$ref\" in schema;\n}, hasTransform = (schema) => {\n  if (!schema) return !1;\n  if (schema.$ref && schema.$defs && schema.$ref in schema.$defs && hasTransform(schema.$defs[schema.$ref]))\n    return !0;\n  if (schema.oneOf) {\n    for (let i = 0; i < schema.oneOf.length; i++)\n      if (hasTransform(schema.oneOf[i])) return !0;\n  }\n  if (schema.anyOf) {\n    for (let i = 0; i < schema.anyOf.length; i++)\n      if (hasTransform(schema.anyOf[i])) return !0;\n  }\n  if (schema.allOf) {\n    for (let i = 0; i < schema.allOf.length; i++)\n      if (hasTransform(schema.allOf[i])) return !0;\n  }\n  if (schema.not && hasTransform(schema.not)) return !0;\n  if (schema.type === \"object\" && schema.properties) {\n    const properties = schema.properties;\n    for (const key of Object.keys(properties)) {\n      const property = properties[key];\n      if (hasTransform(property) || property.type === \"array\" && property.items && hasTransform(property.items))\n        return !0;\n    }\n  }\n  return schema.type === \"array\" && schema.items && hasTransform(schema.items) ? !0 : TransformKind in schema;\n}, replaceSchemaType = (schema, options, _config = {}) => {\n  const config = _config;\n  if (config.root = !0, !Array.isArray(options))\n    return options.original = schema, _replaceSchemaType(schema, options, config);\n  for (const option of options)\n    option.original = schema, schema = _replaceSchemaType(schema, option, config);\n  return schema;\n}, _replaceSchemaType = (schema, options, config) => {\n  if (!schema) return schema;\n  const root = config.root;\n  if (options.onlyFirst && schema.type === options.onlyFirst)\n    return options.to(schema) ?? schema;\n  if (options.untilObjectFound && !root && schema.type === \"object\")\n    return schema;\n  const fromSymbol = options.from[Kind];\n  if (schema.oneOf) {\n    for (let i = 0; i < schema.oneOf.length; i++)\n      schema.oneOf[i] = _replaceSchemaType(\n        schema.oneOf[i],\n        options,\n        config\n      );\n    return schema;\n  }\n  if (schema.anyOf) {\n    for (let i = 0; i < schema.anyOf.length; i++)\n      schema.anyOf[i] = _replaceSchemaType(\n        schema.anyOf[i],\n        options,\n        config\n      );\n    return schema;\n  }\n  if (schema.allOf) {\n    for (let i = 0; i < schema.allOf.length; i++)\n      schema.allOf[i] = _replaceSchemaType(\n        schema.allOf[i],\n        options,\n        config\n      );\n    return schema;\n  }\n  if (schema.not) return _replaceSchemaType(schema.not, options, config);\n  const isRoot = root && !!options.excludeRoot;\n  if (schema[Kind] === fromSymbol) {\n    const { anyOf, oneOf, allOf, not, properties: properties2, items, ...rest } = schema, to = options.to(rest);\n    if (!to) return schema;\n    let transform;\n    const composeProperties = (schema2) => {\n      const v = _composeProperties(schema2);\n      return v.$id && delete v.$id, v;\n    }, _composeProperties = (v) => {\n      if (properties2 && v.type === \"object\") {\n        const newProperties = {};\n        for (const [key, value2] of Object.entries(properties2))\n          newProperties[key] = _replaceSchemaType(\n            value2,\n            options,\n            {\n              ...config,\n              root: !1\n            }\n          );\n        return {\n          ...rest,\n          ...v,\n          properties: newProperties\n        };\n      }\n      if (items && v.type === \"array\")\n        return {\n          ...rest,\n          ...v,\n          items: _replaceSchemaType(items, options, {\n            ...config,\n            root: !1\n          })\n        };\n      const value = {\n        ...rest,\n        ...v\n      };\n      return delete value.required, properties2 && v.type === \"string\" && v.format === \"ObjectString\" && v.default === \"{}\" ? (transform = t.ObjectString(properties2, rest), value.properties = properties2) : items && v.type === \"string\" && v.format === \"ArrayString\" && v.default === \"[]\" && (transform = t.ArrayString(items, rest), value.items = items), value;\n    };\n    if (isRoot) {\n      if (properties2) {\n        const newProperties = {};\n        for (const [key, value] of Object.entries(properties2))\n          newProperties[key] = _replaceSchemaType(\n            value,\n            options,\n            {\n              ...config,\n              root: !1\n            }\n          );\n        return {\n          ...rest,\n          properties: newProperties\n        };\n      } else if (items?.map)\n        return {\n          ...rest,\n          items: items.map(\n            (v) => _replaceSchemaType(v, options, {\n              ...config,\n              root: !1\n            })\n          )\n        };\n      return rest;\n    }\n    if (to.anyOf)\n      for (let i = 0; i < to.anyOf.length; i++)\n        to.anyOf[i] = composeProperties(to.anyOf[i]);\n    else if (to.oneOf)\n      for (let i = 0; i < to.oneOf.length; i++)\n        to.oneOf[i] = composeProperties(to.oneOf[i]);\n    else if (to.allOf)\n      for (let i = 0; i < to.allOf.length; i++)\n        to.allOf[i] = composeProperties(to.allOf[i]);\n    else to.not && (to.not = composeProperties(to.not));\n    if (transform && (to[TransformKind] = transform[TransformKind]), to.anyOf || to.oneOf || to.allOf || to.not) return to;\n    if (properties2) {\n      const newProperties = {};\n      for (const [key, value] of Object.entries(properties2))\n        newProperties[key] = _replaceSchemaType(\n          value,\n          options,\n          {\n            ...config,\n            root: !1\n          }\n        );\n      return {\n        ...rest,\n        ...to,\n        properties: newProperties\n      };\n    } else if (items?.map)\n      return {\n        ...rest,\n        ...to,\n        items: items.map(\n          (v) => _replaceSchemaType(v, options, {\n            ...config,\n            root: !1\n          })\n        )\n      };\n    return {\n      ...rest,\n      ...to\n    };\n  }\n  const properties = schema?.properties;\n  if (properties && root && options.rootOnly !== !0)\n    for (const [key, value] of Object.entries(properties))\n      switch (value[Kind]) {\n        case fromSymbol:\n          const { anyOf, oneOf, allOf, not, type, ...rest } = value, to = options.to(rest);\n          if (!to) return schema;\n          if (to.anyOf)\n            for (let i = 0; i < to.anyOf.length; i++)\n              to.anyOf[i] = { ...rest, ...to.anyOf[i] };\n          else if (to.oneOf)\n            for (let i = 0; i < to.oneOf.length; i++)\n              to.oneOf[i] = { ...rest, ...to.oneOf[i] };\n          else if (to.allOf)\n            for (let i = 0; i < to.allOf.length; i++)\n              to.allOf[i] = { ...rest, ...to.allOf[i] };\n          else to.not && (to.not = { ...rest, ...to.not });\n          properties[key] = {\n            ...rest,\n            ..._replaceSchemaType(rest, options, {\n              ...config,\n              root: !1\n            })\n          };\n          break;\n        case \"Object\":\n        case \"Union\":\n          properties[key] = _replaceSchemaType(value, options, {\n            ...config,\n            root: !1\n          });\n          break;\n        default:\n          if (Array.isArray(value.items))\n            for (let i = 0; i < value.items.length; i++)\n              value.items[i] = _replaceSchemaType(\n                value.items[i],\n                options,\n                {\n                  ...config,\n                  root: !1\n                }\n              );\n          else value.anyOf || value.oneOf || value.allOf || value.not ? properties[key] = _replaceSchemaType(value, options, {\n            ...config,\n            root: !1\n          }) : value.type === \"array\" && (value.items = _replaceSchemaType(value.items, options, {\n            ...config,\n            root: !1\n          }));\n          break;\n      }\n  return schema.type === \"array\" && schema.items && (Array.isArray(schema.items) ? schema.items = schema.items.map(\n    (item) => _replaceSchemaType(item, options, {\n      ...config,\n      root: !1\n    })\n  ) : schema.items = _replaceSchemaType(schema.items, options, {\n    ...config,\n    root: !1\n  })), schema;\n}, createCleaner = (schema) => (value) => {\n  if (typeof value == \"object\")\n    try {\n      return Value.Clean(schema, value);\n    } catch {\n    }\n  return value;\n}, getSchemaValidator = (s, {\n  models = {},\n  dynamic = !1,\n  modules,\n  normalize = !1,\n  additionalProperties = !1,\n  forceAdditionalProperties = !1,\n  coerce = !1,\n  additionalCoerce = [],\n  validators,\n  sanitize\n} = {}) => {\n  if (validators = validators?.filter((x) => x), !s) {\n    if (!validators?.length) return;\n    s = validators[0], validators = validators.slice(1);\n  }\n  let doesHaveRef;\n  const replaceSchema = (schema2) => coerce ? replaceSchemaType(schema2, [\n    {\n      from: t.Number(),\n      to: (options) => t.Numeric(options),\n      untilObjectFound: !0\n    },\n    {\n      from: t.Boolean(),\n      to: (options) => t.BooleanString(options),\n      untilObjectFound: !0\n    },\n    ...Array.isArray(additionalCoerce) ? additionalCoerce : [additionalCoerce]\n  ]) : replaceSchemaType(schema2, additionalCoerce), mapSchema = (s2) => {\n    if (s2 && typeof s2 != \"string\" && \"~standard\" in s2)\n      return s2;\n    if (!s2) return;\n    let schema2;\n    if (typeof s2 != \"string\") schema2 = s2;\n    else if (schema2 = // @ts-expect-error private property\n    modules && s2 in modules.$defs ? modules.Import(s2) : models[s2], !schema2) return;\n    if (Kind in schema2)\n      if (schema2[Kind] === \"Import\")\n        hasRef(schema2.$defs[schema2.$ref]) || (schema2 = schema2.$defs[schema2.$ref], (coerce || additionalCoerce) && (schema2 = replaceSchema(schema2)));\n      else if (hasRef(schema2)) {\n        const id = randomId();\n        schema2 = t.Module({\n          // @ts-expect-error private property\n          ...modules?.$defs,\n          [id]: schema2\n        }).Import(id);\n      } else (coerce || additionalCoerce) && (schema2 = replaceSchema(schema2));\n    return schema2;\n  };\n  let schema = mapSchema(s), _validators = validators;\n  if (\"~standard\" in schema || validators?.length && validators.some(\n    (x) => x && typeof x != \"string\" && \"~standard\" in x\n  )) {\n    const typeboxSubValidator = (schema2) => {\n      let mirror;\n      if (normalize === !0 || normalize === \"exactMirror\")\n        try {\n          mirror = createMirror(schema2, {\n            TypeCompiler,\n            sanitize: sanitize?.(),\n            modules\n          });\n        } catch {\n          console.warn(\n            \"Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues\"\n          ), console.warn(schema2), mirror = createCleaner(schema2);\n        }\n      const vali = getSchemaValidator(schema2, {\n        models,\n        modules,\n        dynamic,\n        normalize,\n        additionalProperties: !0,\n        forceAdditionalProperties: !0,\n        coerce,\n        additionalCoerce\n      });\n      return vali.Decode = mirror, (v) => vali.Check(v) ? {\n        value: vali.Decode(v)\n      } : {\n        issues: [...vali.Errors(v)]\n      };\n    }, mainCheck = schema[\"~standard\"] ? schema[\"~standard\"].validate : typeboxSubValidator(schema);\n    let checkers = [];\n    if (validators?.length) {\n      for (const validator2 of validators)\n        if (validator2 && typeof validator2 != \"string\") {\n          if (validator2?.[\"~standard\"]) {\n            checkers.push(validator2[\"~standard\"]);\n            continue;\n          }\n          if (Kind in validator2) {\n            checkers.push(typeboxSubValidator(validator2));\n            continue;\n          }\n        }\n    }\n    async function Check(value) {\n      let v = mainCheck(value);\n      if (v instanceof Promise && (v = await v), v.issues) return v;\n      const values = [];\n      v && typeof v == \"object\" && values.push(v.value);\n      for (let i = 0; i < checkers.length; i++) {\n        if (v = checkers[i].validate(value), v instanceof Promise && (v = await v), v.issues) return v;\n        v && typeof v == \"object\" && values.push(v.value);\n      }\n      if (!values.length) return { value: v };\n      if (values.length === 1) return { value: values[0] };\n      if (values.length === 2)\n        return { value: mergeDeep(values[0], values[1]) };\n      let newValue = mergeDeep(values[0], values[1]);\n      for (let i = 2; i < values.length; i++)\n        newValue = mergeDeep(newValue, values[i]);\n      return { value: newValue };\n    }\n    const validator = {\n      provider: \"standard\",\n      schema,\n      references: \"\",\n      checkFunc: () => {\n      },\n      code: \"\",\n      // @ts-ignore\n      Check,\n      // @ts-ignore\n      Errors: (value) => Check(value)?.then?.((x) => x?.issues),\n      Code: () => \"\",\n      // @ts-ignore\n      Decode: Check,\n      // @ts-ignore\n      Encode: (value) => value,\n      hasAdditionalProperties: !1,\n      hasDefault: !1,\n      isOptional: !1,\n      hasTransform: !1,\n      hasRef: !1\n    };\n    return validator.parse = (v) => {\n      try {\n        return validator.Decode(validator.Clean?.(v) ?? v);\n      } catch {\n        throw [...validator.Errors(v)].map(mapValueError);\n      }\n    }, validator.safeParse = (v) => {\n      try {\n        return {\n          success: !0,\n          data: validator.Decode(validator.Clean?.(v) ?? v),\n          error: null\n        };\n      } catch {\n        const errors = [...compiled.Errors(v)].map(mapValueError);\n        return {\n          success: !1,\n          data: null,\n          error: errors[0]?.summary,\n          errors\n        };\n      }\n    }, validator;\n  } else if (validators?.length) {\n    let hasAdditional = !1;\n    const validators2 = _validators, { schema: mergedObjectSchema, notObjects } = mergeObjectSchemas([\n      schema,\n      ...validators2.map(mapSchema)\n    ]);\n    notObjects && (schema = t.Intersect([\n      ...mergedObjectSchema ? [mergedObjectSchema] : [],\n      ...notObjects.map((x) => {\n        const schema2 = mapSchema(x);\n        return schema2.type === \"object\" && \"additionalProperties\" in schema2 && (!hasAdditional && schema2.additionalProperties === !1 && (hasAdditional = !0), delete schema2.additionalProperties), schema2;\n      })\n    ]), schema.type === \"object\" && hasAdditional && (schema.additionalProperties = !1));\n  } else\n    schema.type === \"object\" && (!(\"additionalProperties\" in schema) || forceAdditionalProperties) ? schema.additionalProperties = additionalProperties : schema = replaceSchemaType(schema, {\n      onlyFirst: \"object\",\n      from: t.Object({}),\n      // @ts-ignore\n      to({ properties, ...options }) {\n        if (properties && !(\"additionalProperties\" in schema))\n          return t.Object(properties, {\n            ...options,\n            additionalProperties: !1\n          });\n      }\n    });\n  if (dynamic)\n    if (Kind in schema) {\n      const validator = {\n        provider: \"typebox\",\n        schema,\n        references: \"\",\n        checkFunc: () => {\n        },\n        code: \"\",\n        // @ts-expect-error\n        Check: (value) => Value.Check(schema, value),\n        Errors: (value) => Value.Errors(schema, value),\n        Code: () => \"\",\n        Clean: createCleaner(schema),\n        Decode: (value) => Value.Decode(schema, value),\n        Encode: (value) => Value.Encode(schema, value),\n        get hasAdditionalProperties() {\n          return \"~hasAdditionalProperties\" in this ? this[\"~hasAdditionalProperties\"] : this[\"~hasAdditionalProperties\"] = hasAdditionalProperties(schema);\n        },\n        get hasDefault() {\n          return \"~hasDefault\" in this ? this[\"~hasDefault\"] : this[\"~hasDefault\"] = hasProperty(\n            \"default\",\n            schema\n          );\n        },\n        get isOptional() {\n          return \"~isOptional\" in this ? this[\"~isOptional\"] : this[\"~isOptional\"] = isOptional(schema);\n        },\n        get hasTransform() {\n          return \"~hasTransform\" in this ? this[\"~hasTransform\"] : this[\"~hasTransform\"] = hasTransform(schema);\n        },\n        \"~hasRef\": doesHaveRef,\n        get hasRef() {\n          return \"~hasRef\" in this ? this[\"~hasRef\"] : this[\"~hasRef\"] = hasTransform(schema);\n        }\n      };\n      if (schema.config && (validator.config = schema.config, validator?.schema?.config && delete validator.schema.config), normalize && schema.additionalProperties === !1)\n        if (normalize === !0 || normalize === \"exactMirror\")\n          try {\n            validator.Clean = createMirror(schema, {\n              TypeCompiler,\n              sanitize: sanitize?.(),\n              modules\n            });\n          } catch {\n            console.warn(\n              \"Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues\"\n            ), console.warn(schema), validator.Clean = createCleaner(schema);\n          }\n        else validator.Clean = createCleaner(schema);\n      return validator.parse = (v) => {\n        try {\n          return validator.Decode(validator.Clean?.(v) ?? v);\n        } catch {\n          throw [...validator.Errors(v)].map(mapValueError);\n        }\n      }, validator.safeParse = (v) => {\n        try {\n          return {\n            success: !0,\n            data: validator.Decode(validator.Clean?.(v) ?? v),\n            error: null\n          };\n        } catch {\n          const errors = [...compiled.Errors(v)].map(mapValueError);\n          return {\n            success: !1,\n            data: null,\n            error: errors[0]?.summary,\n            errors\n          };\n        }\n      }, validator;\n    } else {\n      const validator = {\n        provider: \"standard\",\n        schema,\n        references: \"\",\n        checkFunc: () => {\n        },\n        code: \"\",\n        // @ts-ignore\n        Check: (v) => schema[\"~standard\"].validate(v),\n        // @ts-ignore\n        Errors(value) {\n          const response = schema[\"~standard\"].validate(value);\n          if (response instanceof Promise)\n            throw Error(\n              \"Async validation is not supported in non-dynamic schema\"\n            );\n          return response.issues;\n        },\n        Code: () => \"\",\n        // @ts-ignore\n        Decode(value) {\n          const response = schema[\"~standard\"].validate(value);\n          if (response instanceof Promise)\n            throw Error(\n              \"Async validation is not supported in non-dynamic schema\"\n            );\n          return response;\n        },\n        // @ts-ignore\n        Encode: (value) => value,\n        hasAdditionalProperties: !1,\n        hasDefault: !1,\n        isOptional: !1,\n        hasTransform: !1,\n        hasRef: !1\n      };\n      return validator.parse = (v) => {\n        try {\n          return validator.Decode(validator.Clean?.(v) ?? v);\n        } catch {\n          throw [...validator.Errors(v)].map(mapValueError);\n        }\n      }, validator.safeParse = (v) => {\n        try {\n          return {\n            success: !0,\n            data: validator.Decode(validator.Clean?.(v) ?? v),\n            error: null\n          };\n        } catch {\n          const errors = [...compiled.Errors(v)].map(mapValueError);\n          return {\n            success: !1,\n            data: null,\n            error: errors[0]?.summary,\n            errors\n          };\n        }\n      }, validator;\n    }\n  let compiled;\n  if (Kind in schema)\n    if (compiled = TypeCompiler.Compile(\n      schema,\n      Object.values(models).filter((x) => Kind in x)\n    ), compiled.provider = \"typebox\", schema.config && (compiled.config = schema.config, compiled?.schema?.config && delete compiled.schema.config), normalize === !0 || normalize === \"exactMirror\")\n      try {\n        compiled.Clean = createMirror(schema, {\n          TypeCompiler,\n          sanitize: sanitize?.(),\n          modules\n        });\n      } catch {\n        console.warn(\n          \"Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues\"\n        ), console.dir(schema, {\n          depth: null\n        }), compiled.Clean = createCleaner(schema);\n      }\n    else normalize === \"typebox\" && (compiled.Clean = createCleaner(schema));\n  else\n    compiled = {\n      provider: \"standard\",\n      schema,\n      references: \"\",\n      checkFunc(value) {\n        const response = schema[\"~standard\"].validate(value);\n        if (response instanceof Promise)\n          throw Error(\n            \"Async validation is not supported in non-dynamic schema\"\n          );\n        return response;\n      },\n      code: \"\",\n      // @ts-ignore\n      Check: (v) => schema[\"~standard\"].validate(v),\n      // @ts-ignore\n      Errors(value) {\n        const response = schema[\"~standard\"].validate(value);\n        if (response instanceof Promise)\n          throw Error(\n            \"Async validation is not supported in non-dynamic schema\"\n          );\n        return response.issues;\n      },\n      Code: () => \"\",\n      // @ts-ignore\n      Decode(value) {\n        const response = schema[\"~standard\"].validate(value);\n        if (response instanceof Promise)\n          throw Error(\n            \"Async validation is not supported in non-dynamic schema\"\n          );\n        return response;\n      },\n      // @ts-ignore\n      Encode: (value) => value,\n      hasAdditionalProperties: !1,\n      hasDefault: !1,\n      isOptional: !1,\n      hasTransform: !1,\n      hasRef: !1\n    };\n  return compiled.parse = (v) => {\n    try {\n      return compiled.Decode(compiled.Clean?.(v) ?? v);\n    } catch {\n      throw [...compiled.Errors(v)].map(mapValueError);\n    }\n  }, compiled.safeParse = (v) => {\n    try {\n      return {\n        success: !0,\n        data: compiled.Decode(compiled.Clean?.(v) ?? v),\n        error: null\n      };\n    } catch {\n      const errors = [...compiled.Errors(v)].map(mapValueError);\n      return {\n        success: !1,\n        data: null,\n        error: errors[0]?.summary,\n        errors\n      };\n    }\n  }, Kind in schema && Object.assign(compiled, {\n    get hasAdditionalProperties() {\n      return \"~hasAdditionalProperties\" in this ? this[\"~hasAdditionalProperties\"] : this[\"~hasAdditionalProperties\"] = hasAdditionalProperties(compiled);\n    },\n    get hasDefault() {\n      return \"~hasDefault\" in this ? this[\"~hasDefault\"] : this[\"~hasDefault\"] = hasProperty(\"default\", compiled);\n    },\n    get isOptional() {\n      return \"~isOptional\" in this ? this[\"~isOptional\"] : this[\"~isOptional\"] = isOptional(compiled);\n    },\n    get hasTransform() {\n      return \"~hasTransform\" in this ? this[\"~hasTransform\"] : this[\"~hasTransform\"] = hasTransform(schema);\n    },\n    get hasRef() {\n      return \"~hasRef\" in this ? this[\"~hasRef\"] : this[\"~hasRef\"] = hasRef(schema);\n    },\n    \"~hasRef\": doesHaveRef\n  }), compiled;\n}, isUnion = (schema) => schema[Kind] === \"Union\" || !schema.schema && !!schema.anyOf, mergeObjectSchemas = (schemas) => {\n  if (schemas.length === 0)\n    return {\n      schema: void 0,\n      notObjects: []\n    };\n  if (schemas.length === 1)\n    return schemas[0].type === \"object\" ? {\n      schema: schemas[0],\n      notObjects: []\n    } : {\n      schema: void 0,\n      notObjects: schemas\n    };\n  let newSchema;\n  const notObjects = [];\n  let additionalPropertiesIsTrue = !1, additionalPropertiesIsFalse = !1;\n  for (const schema of schemas) {\n    if (schema.type !== \"object\") {\n      notObjects.push(schema);\n      continue;\n    }\n    if (\"additionalProperties\" in schema && (schema.additionalProperties === !0 ? additionalPropertiesIsTrue = !0 : schema.additionalProperties === !1 && (additionalPropertiesIsFalse = !0)), !newSchema) {\n      newSchema = schema;\n      continue;\n    }\n    newSchema = {\n      ...newSchema,\n      ...schema,\n      properties: {\n        ...newSchema.properties,\n        ...schema.properties\n      },\n      required: [...newSchema?.required ?? [], ...schema.required ?? []]\n    };\n  }\n  return newSchema && (newSchema.required && (newSchema.required = [...new Set(newSchema.required)]), additionalPropertiesIsFalse ? newSchema.additionalProperties = !1 : additionalPropertiesIsTrue && (newSchema.additionalProperties = !0)), {\n    schema: newSchema,\n    notObjects\n  };\n}, getResponseSchemaValidator = (s, {\n  models = {},\n  modules,\n  dynamic = !1,\n  normalize = !1,\n  additionalProperties = !1,\n  validators = [],\n  sanitize\n}) => {\n  if (validators = validators.filter((x) => x), !s) {\n    if (!validators?.length) return;\n    s = validators[0], validators = validators.slice(1);\n  }\n  let maybeSchemaOrRecord;\n  if (typeof s != \"string\") maybeSchemaOrRecord = s;\n  else if (maybeSchemaOrRecord = // @ts-expect-error private property\n  modules && s in modules.$defs ? modules.Import(s) : models[s], !maybeSchemaOrRecord) return;\n  if (!maybeSchemaOrRecord) return;\n  if (Kind in maybeSchemaOrRecord || \"~standard\" in maybeSchemaOrRecord)\n    return {\n      200: getSchemaValidator(\n        maybeSchemaOrRecord,\n        {\n          modules,\n          models,\n          additionalProperties,\n          dynamic,\n          normalize,\n          coerce: !1,\n          additionalCoerce: [],\n          validators: validators.map((x) => x[200]),\n          sanitize\n        }\n      )\n    };\n  const record = {};\n  return Object.keys(maybeSchemaOrRecord).forEach((status) => {\n    if (isNaN(+status)) return;\n    const maybeNameOrSchema = maybeSchemaOrRecord[+status];\n    if (typeof maybeNameOrSchema == \"string\") {\n      if (maybeNameOrSchema in models) {\n        const schema = models[maybeNameOrSchema];\n        if (!schema) return;\n        record[+status] = Kind in schema || \"~standard\" in schema ? getSchemaValidator(schema, {\n          modules,\n          models,\n          additionalProperties,\n          dynamic,\n          normalize,\n          coerce: !1,\n          additionalCoerce: [],\n          validators: validators.map((x) => x[+status]),\n          sanitize\n        }) : schema;\n      }\n      return;\n    }\n    record[+status] = Kind in maybeNameOrSchema || \"~standard\" in maybeNameOrSchema ? getSchemaValidator(maybeNameOrSchema, {\n      modules,\n      models,\n      additionalProperties,\n      dynamic,\n      normalize,\n      coerce: !1,\n      additionalCoerce: [],\n      validators: validators.map((x) => x[+status]),\n      sanitize\n    }) : maybeNameOrSchema;\n  }), record;\n};\nlet _stringToStructureCoercions;\nconst stringToStructureCoercions = () => (_stringToStructureCoercions || (_stringToStructureCoercions = [\n  {\n    from: t.Object({}),\n    to: () => t.ObjectString({}),\n    excludeRoot: !0\n  },\n  {\n    from: t.Array(t.Any()),\n    to: () => t.ArrayString(t.Any())\n  }\n]), _stringToStructureCoercions);\nlet _queryCoercions;\nconst queryCoercions = () => (_queryCoercions || (_queryCoercions = [\n  {\n    from: t.Object({}),\n    to: () => t.ObjectString({}),\n    excludeRoot: !0\n  },\n  {\n    from: t.Array(t.Any()),\n    to: () => t.ArrayQuery(t.Any())\n  }\n]), _queryCoercions);\nlet _coercePrimitiveRoot;\nconst coercePrimitiveRoot = () => (_coercePrimitiveRoot || (_coercePrimitiveRoot = [\n  {\n    from: t.Number(),\n    to: (options) => t.Numeric(options),\n    rootOnly: !0\n  },\n  {\n    from: t.Boolean(),\n    to: (options) => t.BooleanString(options),\n    rootOnly: !0\n  }\n]), _coercePrimitiveRoot), getCookieValidator = ({\n  validator,\n  modules,\n  defaultConfig = {},\n  config,\n  dynamic,\n  normalize = !1,\n  models,\n  validators,\n  sanitize\n}) => {\n  let cookieValidator = (\n    // @ts-ignore\n    validator?.provider ? validator : (\n      // @ts-ignore\n      getSchemaValidator(validator, {\n        modules,\n        dynamic,\n        models,\n        normalize,\n        additionalProperties: !0,\n        coerce: !0,\n        additionalCoerce: stringToStructureCoercions(),\n        validators,\n        sanitize\n      })\n    )\n  );\n  return cookieValidator ? cookieValidator.config = mergeCookie(cookieValidator.config, config) : (cookieValidator = getSchemaValidator(t.Cookie(t.Any()), {\n    modules,\n    dynamic,\n    models,\n    additionalProperties: !0,\n    validators,\n    sanitize\n  }), cookieValidator.config = defaultConfig), cookieValidator;\n}, unwrapImportSchema = (schema) => schema && schema[Kind] === \"Import\" && schema.$defs[schema.$ref][Kind] === \"Object\" ? schema.$defs[schema.$ref] : schema;\nexport {\n  coercePrimitiveRoot,\n  getCookieValidator,\n  getResponseSchemaValidator,\n  getSchemaValidator,\n  hasAdditionalProperties,\n  hasElysiaMeta,\n  hasProperty,\n  hasRef,\n  hasTransform,\n  hasType,\n  isOptional,\n  isUnion,\n  mergeObjectSchemas,\n  queryCoercions,\n  replaceSchemaType,\n  stringToStructureCoercions,\n  unwrapImportSchema\n};\n", "// src/index.ts\nimport { TypeCompiler } from \"@sinclair/typebox/compiler\";\nvar Kind = Symbol.for(\"TypeBox.Kind\");\nvar Hint = Symbol.for(\"TypeBox.Hint\");\nvar isSpecialProperty = (name) => /(\\ |-|\\t|\\n|\\.)/.test(name) || !isNaN(+name[0]);\nvar joinProperty = (v1, v2, isOptional = false) => {\n  if (typeof v2 === \"number\") return `${v1}[${v2}]`;\n  if (isSpecialProperty(v2)) return `${v1}${isOptional ? \"?.\" : \"\"}[\"${v2}\"]`;\n  return `${v1}${isOptional ? \"?\" : \"\"}.${v2}`;\n};\nvar encodeProperty = (v) => isSpecialProperty(v) ? `\"${v}\"` : v;\nvar sanitize = (key, sanitize2 = 0, schema) => {\n  if (schema.type !== \"string\" || schema.const || schema.trusted) return key;\n  let hof = \"\";\n  for (let i = sanitize2 - 1; i >= 0; i--) hof += `d.h${i}(`;\n  return hof + key + \")\".repeat(sanitize2);\n};\nvar mergeObjectIntersection = (schema) => {\n  if (!schema.allOf || Kind in schema && (schema[Kind] !== \"Intersect\" || schema.type !== \"object\"))\n    return schema;\n  const { allOf, ...newSchema } = schema;\n  newSchema.properties = {};\n  if (Kind in newSchema) newSchema[Kind] = \"Object\";\n  for (const type of allOf) {\n    if (type.type !== \"object\") continue;\n    const { properties, required, type: _, [Kind]: __, ...rest } = type;\n    if (required)\n      newSchema.required = newSchema.required ? newSchema.required.concat(required) : required;\n    Object.assign(newSchema, rest);\n    for (const property in type.properties)\n      newSchema.properties[property] = mergeObjectIntersection(\n        type.properties[property]\n      );\n  }\n  return newSchema;\n};\nvar handleRecord = (schema, property, instruction) => {\n  const child = schema.patternProperties[\"^(.*)$\"] ?? schema.patternProperties[Object.keys(schema.patternProperties)[0]];\n  if (!child) return property;\n  const i = instruction.array;\n  instruction.array++;\n  let v = `(()=>{const ar${i}s=Object.keys(${property}),ar${i}v={};for(let i=0;i<ar${i}s.length;i++){const ar${i}p=${property}[ar${i}s[i]];ar${i}v[ar${i}s[i]]=${mirror(child, `ar${i}p`, instruction)}`;\n  const optionals = instruction.optionalsInArray[i + 1];\n  if (optionals)\n    for (let oi = 0; oi < optionals.length; oi++) {\n      const target = `ar${i}v[ar${i}s[i]].${optionals[oi]}`;\n      v += `;if(${target}===undefined)delete ${target}`;\n    }\n  v += `}return ar${i}v})()`;\n  return v;\n};\nvar handleTuple = (schema, property, instruction) => {\n  const i = instruction.array;\n  instruction.array++;\n  const isRoot = property === \"v\" && !instruction.unions.length;\n  let v = \"\";\n  if (!isRoot) v = `(()=>{`;\n  v += `const ar${i}v=[`;\n  for (let i2 = 0; i2 < schema.length; i2++) {\n    if (i2 !== 0) v += \",\";\n    v += mirror(\n      schema[i2],\n      joinProperty(property, i2, instruction.parentIsOptional),\n      instruction\n    );\n  }\n  v += `];`;\n  if (!isRoot) v += `return ar${i}v})()`;\n  return v;\n};\nfunction deepClone(source, weak = /* @__PURE__ */ new WeakMap()) {\n  if (source === null || typeof source !== \"object\" || typeof source === \"function\")\n    return source;\n  if (weak.has(source)) return weak.get(source);\n  if (Array.isArray(source)) {\n    const copy = new Array(source.length);\n    weak.set(source, copy);\n    for (let i = 0; i < source.length; i++)\n      copy[i] = deepClone(source[i], weak);\n    return copy;\n  }\n  if (typeof source === \"object\") {\n    const keys = Object.keys(source).concat(\n      Object.getOwnPropertySymbols(source)\n    );\n    const cloned = {};\n    for (const key of keys)\n      cloned[key] = deepClone(source[key], weak);\n    return cloned;\n  }\n  return source;\n}\nvar handleUnion = (schemas, property, instruction) => {\n  if (instruction.TypeCompiler === void 0) {\n    if (!instruction.typeCompilerWanred) {\n      console.warn(\n        new Error(\n          \"[exact-mirror] TypeBox's TypeCompiler is required to use Union\"\n        )\n      );\n      instruction.typeCompilerWanred = true;\n    }\n    return property;\n  }\n  instruction.unionKeys[property] = 1;\n  const ui = instruction.unions.length;\n  const typeChecks = instruction.unions[ui] = [];\n  let v = `(()=>{\n`;\n  const unwrapRef = (type) => {\n    if (!(Kind in type) || !type.$ref) return type;\n    if (type[Kind] === \"This\") {\n      return deepClone(instruction.definitions[type.$ref]);\n    } else if (type[Kind] === \"Ref\") {\n      if (!instruction.modules)\n        console.warn(\n          new Error(\n            \"[exact-mirror] modules is required when using nested cyclic reference\"\n          )\n        );\n      else\n        return instruction.modules.Import(\n          type.$ref\n        );\n    }\n    return type;\n  };\n  for (let i = 0; i < schemas.length; i++) {\n    let type = unwrapRef(schemas[i]);\n    if (Array.isArray(type.anyOf))\n      for (let i2 = 0; i2 < type.anyOf.length; i2++)\n        type.anyOf[i2] = unwrapRef(type.anyOf[i2]);\n    else if (type.items) {\n      if (Array.isArray(type.items))\n        for (let i2 = 0; i2 < type.items.length; i2++)\n          type.items[i2] = unwrapRef(type.items[i2]);\n      else type.items = unwrapRef(type.items);\n    }\n    typeChecks.push(TypeCompiler.Compile(type));\n    v += `if(d.unions[${ui}][${i}].Check(${property})){return ${mirror(\n      type,\n      property,\n      {\n        ...instruction,\n        recursion: instruction.recursion + 1,\n        parentIsOptional: true\n      }\n    )}}\n`;\n  }\n  v += `return ${instruction.removeUnknownUnionType ? \"undefined\" : property}})()`;\n  return v;\n};\nvar mirror = (schema, property, instruction) => {\n  if (!schema) return \"\";\n  const isRoot = property === \"v\" && !instruction.unions.length;\n  if (Kind in schema && schema[Kind] === \"Import\" && schema.$ref in schema.$defs)\n    return mirror(schema.$defs[schema.$ref], property, {\n      ...instruction,\n      definitions: Object.assign(instruction.definitions, schema.$defs)\n    });\n  if (isRoot && schema.type !== \"object\" && schema.type !== \"array\" && !schema.anyOf)\n    return `return ${sanitize(\"v\", instruction.sanitize?.length, schema)}`;\n  if (instruction.recursion >= instruction.recursionLimit) return property;\n  let v = \"\";\n  if (schema.$id && Hint in schema)\n    instruction.definitions[schema.$id] = schema;\n  switch (schema.type) {\n    case \"object\":\n      if (schema[Kind] === \"Record\") {\n        v = handleRecord(schema, property, instruction);\n        break;\n      }\n      schema = mergeObjectIntersection(schema);\n      v += \"{\";\n      if (schema.additionalProperties) v += `...${property},`;\n      const keys = Object.keys(schema.properties);\n      for (let i2 = 0; i2 < keys.length; i2++) {\n        const key = keys[i2];\n        let isOptional = (\n          // all fields are optional\n          !schema.required || // field is explicitly required\n          schema.required && !schema.required.includes(key) || Array.isArray(schema.properties[key].anyOf)\n        );\n        const name = joinProperty(\n          property,\n          key,\n          instruction.parentIsOptional\n        );\n        if (isOptional) {\n          const index = instruction.array;\n          if (property.startsWith(\"ar\")) {\n            const refName = name.slice(name.indexOf(\".\") + 1);\n            const array = instruction.optionalsInArray;\n            if (array[index]) array[index].push(refName);\n            else array[index] = [refName];\n          } else {\n            instruction.optionals.push(name);\n          }\n        }\n        const child = schema.properties[key];\n        if (i2 !== 0) v += \",\";\n        v += `${encodeProperty(key)}:${isOptional ? `${name}===undefined?undefined:` : \"\"}${mirror(\n          child,\n          name,\n          {\n            ...instruction,\n            recursion: instruction.recursion + 1,\n            parentIsOptional: isOptional\n          }\n        )}`;\n      }\n      v += \"}\";\n      break;\n    case \"array\":\n      if (schema.items.type !== \"object\" && schema.items.type !== \"array\") {\n        if (Array.isArray(schema.items)) {\n          v = handleTuple(schema.items, property, instruction);\n          break;\n        } else if (isRoot) return \"return v\";\n        else if (Kind in schema.items && schema.items.$ref && (schema.items[Kind] === \"Ref\" || schema.items[Kind] === \"This\"))\n          v = mirror(\n            deepClone(instruction.definitions[schema.items.$ref]),\n            property,\n            {\n              ...instruction,\n              parentIsOptional: true,\n              recursion: instruction.recursion + 1\n            }\n          );\n        else {\n          v = property;\n          break;\n        }\n      }\n      const i = instruction.array;\n      instruction.array++;\n      let reference = property;\n      if (isRoot) v = `const ar${i}v=new Array(${property}.length);`;\n      else {\n        reference = `ar${i}s`;\n        v = `((${reference})=>{const ar${i}v=new Array(${reference}.length);`;\n      }\n      v += `for(let i=0;i<${reference}.length;i++){const ar${i}p=${reference}[i];ar${i}v[i]=${mirror(schema.items, `ar${i}p`, instruction)}`;\n      const optionals = instruction.optionalsInArray[i + 1];\n      if (optionals) {\n        for (let oi = 0; oi < optionals.length; oi++) {\n          const target = `ar${i}v[i].${optionals[oi]}`;\n          v += `;if(${target}===undefined)delete ${target}`;\n        }\n      }\n      v += `}`;\n      if (!isRoot) v += `return ar${i}v})(${property})`;\n      break;\n    default:\n      if (schema.$ref && schema.$ref in instruction.definitions)\n        return mirror(\n          instruction.definitions[schema.$ref],\n          property,\n          instruction\n        );\n      if (Array.isArray(schema.anyOf)) {\n        v = handleUnion(schema.anyOf, property, instruction);\n        break;\n      }\n      v = sanitize(property, instruction.sanitize?.length, schema);\n      break;\n  }\n  if (!isRoot) return v;\n  if (schema.type === \"array\") {\n    v = `${v}const x=ar0v;`;\n  } else {\n    v = `const x=${v}\n`;\n  }\n  for (let i = 0; i < instruction.optionals.length; i++) {\n    const key = instruction.optionals[i];\n    const prop = key.slice(1);\n    v += `if(${key}===undefined`;\n    if (instruction.unionKeys[key]) v += `||x${prop}===undefined`;\n    const shouldQuestion = prop.charCodeAt(0) !== 63 && schema.type !== \"array\";\n    v += `)delete x${shouldQuestion ? prop.charCodeAt(0) === 91 ? \"?.\" : \"?\" : \"\"}${prop}\n`;\n  }\n  return `${v}return x`;\n};\nvar createMirror = (schema, {\n  TypeCompiler: TypeCompiler2,\n  modules,\n  definitions,\n  sanitize: sanitize2,\n  recursionLimit = 8,\n  removeUnknownUnionType = false\n} = {}) => {\n  const unions = [];\n  if (typeof sanitize2 === \"function\") sanitize2 = [sanitize2];\n  const f = mirror(schema, \"v\", {\n    optionals: [],\n    optionalsInArray: [],\n    array: 0,\n    parentIsOptional: false,\n    unions,\n    unionKeys: {},\n    TypeCompiler: TypeCompiler2,\n    modules,\n    // @ts-ignore private property\n    definitions: definitions ?? modules?.$defs ?? {},\n    sanitize: sanitize2,\n    recursion: 0,\n    recursionLimit,\n    removeUnknownUnionType\n  });\n  if (!unions.length && !sanitize2?.length) return Function(\"v\", f);\n  let hof;\n  if (sanitize2?.length) {\n    hof = {};\n    for (let i = 0; i < sanitize2.length; i++) hof[`h${i}`] = sanitize2[i];\n  }\n  return Function(\n    \"d\",\n    `return function mirror(v){${f}}`\n  )({\n    unions,\n    ...hof\n  });\n};\nvar index_default = createMirror;\nexport {\n  createMirror,\n  deepClone,\n  index_default as default,\n  mergeObjectIntersection\n};\n", "import { isHTMLBundle } from \"./index.mjs\";\nimport { mapResponse } from \"./handler.mjs\";\nconst createNativeStaticHandler = (handle, hooks, set) => {\n  if (typeof handle == \"function\" || handle instanceof Blob) return;\n  if (isHTMLBundle(handle)) return () => handle;\n  const response = mapResponse(\n    handle,\n    set ?? {\n      headers: {}\n    }\n  );\n  if (!hooks.parse?.length && !hooks.transform?.length && !hooks.beforeHandle?.length && !hooks.afterHandle?.length)\n    return response instanceof Promise ? response.then((response2) => {\n      if (response2)\n        return response2.headers.has(\"content-type\") || response2.headers.append(\"content-type\", \"text/plain\"), response2.clone();\n    }) : (response.headers.has(\"content-type\") || response.headers.append(\"content-type\", \"text/plain\"), () => response.clone());\n};\nexport {\n  createNativeStaticHandler\n};\n", "import { isNumericString } from \"../utils.mjs\";\nimport { ValidationError } from \"../error.mjs\";\nconst websocket = {\n  open(ws) {\n    ws.data.open?.(ws);\n  },\n  message(ws, message) {\n    ws.data.message?.(ws, message);\n  },\n  drain(ws) {\n    ws.data.drain?.(ws);\n  },\n  close(ws, code, reason) {\n    ws.data.close?.(ws, code, reason);\n  }\n};\nclass ElysiaWS {\n  constructor(raw, data, body = void 0) {\n    this.raw = raw;\n    this.data = data;\n    this.body = body;\n    this.validator = raw.data?.validator, this.sendText = raw.sendText.bind(raw), this.sendBinary = raw.sendBinary.bind(raw), this.close = raw.close.bind(raw), this.terminate = raw.terminate.bind(raw), this.publishText = raw.publishText.bind(raw), this.publishBinary = raw.publishBinary.bind(raw), this.subscribe = raw.subscribe.bind(raw), this.unsubscribe = raw.unsubscribe.bind(raw), this.isSubscribed = raw.isSubscribed.bind(raw), this.cork = raw.cork.bind(raw), this.remoteAddress = raw.remoteAddress, this.binaryType = raw.binaryType, this.data = raw.data, this.send = this.send.bind(this), this.ping = this.ping.bind(this), this.pong = this.pong.bind(this), this.publish = this.publish.bind(this);\n  }\n  /**\n   * Sends a message to the client.\n   *\n   * @param data The data to send.\n   * @param compress Should the data be compressed? If the client does not support compression, this is ignored.\n   * @example\n   * ws.send(\"Hello!\");\n   * ws.send(\"Compress this.\", true);\n   * ws.send(new Uint8Array([1, 2, 3, 4]));\n   */\n  send(data, compress) {\n    return Buffer.isBuffer(data) ? this.raw.send(data, compress) : this.validator?.Check(data) === !1 ? this.raw.send(\n      new ValidationError(\"message\", this.validator, data).message\n    ) : (typeof data == \"object\" && (data = JSON.stringify(data)), this.raw.send(data, compress));\n  }\n  /**\n   * Sends a ping.\n   *\n   * @param data The data to send\n   */\n  ping(data) {\n    return Buffer.isBuffer(data) ? this.raw.ping(data) : this.validator?.Check(data) === !1 ? this.raw.send(\n      new ValidationError(\"message\", this.validator, data).message\n    ) : (typeof data == \"object\" && (data = JSON.stringify(data)), this.raw.ping(data));\n  }\n  /**\n   * Sends a pong.\n   *\n   * @param data The data to send\n   */\n  pong(data) {\n    return Buffer.isBuffer(data) ? this.raw.pong(data) : this.validator?.Check(data) === !1 ? this.raw.send(\n      new ValidationError(\"message\", this.validator, data).message\n    ) : (typeof data == \"object\" && (data = JSON.stringify(data)), this.raw.pong(data));\n  }\n  /**\n   * Sends a message to subscribers of the topic.\n   *\n   * @param topic The topic name.\n   * @param data The data to send.\n   * @param compress Should the data be compressed? If the client does not support compression, this is ignored.\n   * @example\n   * ws.publish(\"chat\", \"Hello!\");\n   * ws.publish(\"chat\", \"Compress this.\", true);\n   * ws.publish(\"chat\", new Uint8Array([1, 2, 3, 4]));\n   */\n  publish(topic, data, compress) {\n    return Buffer.isBuffer(data) ? this.raw.publish(\n      topic,\n      data,\n      compress\n    ) : this.validator?.Check(data) === !1 ? this.raw.send(\n      new ValidationError(\"message\", this.validator, data).message\n    ) : (typeof data == \"object\" && (data = JSON.stringify(data)), this.raw.publish(topic, data, compress));\n  }\n  get readyState() {\n    return this.raw.readyState;\n  }\n  get id() {\n    return this.data.id;\n  }\n}\nconst createWSMessageParser = (parse) => {\n  const parsers = typeof parse == \"function\" ? [parse] : parse;\n  return async function(ws, message) {\n    if (typeof message == \"string\") {\n      const start = message?.charCodeAt(0);\n      if (start === 34 || start === 47 || start === 91 || start === 123)\n        try {\n          message = JSON.parse(message);\n        } catch {\n        }\n      else isNumericString(message) ? message = +message : message === \"true\" ? message = !0 : message === \"false\" ? message = !1 : message === \"null\" && (message = null);\n    }\n    if (parsers)\n      for (let i = 0; i < parsers.length; i++) {\n        let temp = parsers[i](ws, message);\n        if (temp instanceof Promise && (temp = await temp), temp !== void 0) return temp;\n      }\n    return message;\n  };\n}, createHandleWSResponse = (validateResponse) => {\n  const handleWSResponse = (ws, data) => {\n    if (data instanceof Promise)\n      return data.then((data2) => handleWSResponse(ws, data2));\n    if (Buffer.isBuffer(data)) return ws.send(data.toString());\n    if (data === void 0) return;\n    const send = (datum) => {\n      if (validateResponse?.Check(datum) === !1)\n        return ws.send(\n          new ValidationError(\"message\", validateResponse, datum).message\n        );\n      if (typeof datum == \"object\") return ws.send(JSON.stringify(datum));\n      ws.send(datum);\n    };\n    if (typeof data?.next != \"function\")\n      return void send(data);\n    const init = data.next();\n    if (init instanceof Promise)\n      return (async () => {\n        const first = await init;\n        if (validateResponse?.Check(first) === !1)\n          return ws.send(\n            new ValidationError(\"message\", validateResponse, first).message\n          );\n        if (send(first.value), !first.done)\n          for await (const datum of data) send(datum);\n      })();\n    if (send(init.value), !init.done) for (const datum of data) send(datum);\n  };\n  return handleWSResponse;\n};\nexport {\n  ElysiaWS,\n  createHandleWSResponse,\n  createWSMessageParser,\n  websocket\n};\n", "import { TransformDecodeError } from \"@sinclair/typebox/value\";\nimport {\n  ElysiaCustomStatusResponse,\n  status,\n  NotFoundError,\n  ValidationError\n} from \"./error.mjs\";\nimport { parseQuery } from \"./parse-query.mjs\";\nimport { redirect, signCookie, StatusMap } from \"./utils.mjs\";\nimport { parseCookie } from \"./cookies.mjs\";\nconst injectDefaultValues = (typeChecker, obj) => {\n  let schema = typeChecker.schema;\n  if (schema && (schema.$defs?.[schema.$ref] && (schema = schema.$defs[schema.$ref]), !!schema?.properties))\n    for (const [key, keySchema] of Object.entries(schema.properties))\n      obj[key] ??= keySchema.default;\n}, createDynamicHandler = (app) => {\n  const { mapResponse, mapEarlyResponse } = app[\"~adapter\"].handler, defaultHeader = app.setHeaders;\n  return async (request) => {\n    const url = request.url, s = url.indexOf(\"/\", 11), qi = url.indexOf(\"?\", s + 1), path = qi === -1 ? url.substring(s) : url.substring(s, qi), set = {\n      cookie: {},\n      status: 200,\n      headers: defaultHeader ? { ...defaultHeader } : {}\n    }, context = Object.assign(\n      {},\n      // @ts-expect-error\n      app.singleton.decorator,\n      {\n        set,\n        // @ts-expect-error\n        store: app.singleton.store,\n        request,\n        path,\n        qi,\n        error: status,\n        status,\n        redirect\n      }\n    );\n    try {\n      if (app.event.request)\n        for (let i = 0; i < app.event.request.length; i++) {\n          const onRequest = app.event.request[i].fn;\n          let response2 = onRequest(context);\n          if (response2 instanceof Promise && (response2 = await response2), response2 = mapEarlyResponse(response2, set), response2) return context.response = response2;\n        }\n      const methodKey = request.method === \"GET\" && request.headers.get(\"upgrade\")?.toLowerCase() === \"websocket\" ? \"WS\" : request.method, handler = app.router.dynamic.find(request.method, path) ?? app.router.dynamic.find(methodKey, path) ?? app.router.dynamic.find(\"ALL\", path);\n      if (!handler)\n        throw context.query = qi === -1 ? {} : parseQuery(url.substring(qi + 1)), new NotFoundError();\n      const { handle, hooks, validator, content, route } = handler.store;\n      let body;\n      if (request.method !== \"GET\" && request.method !== \"HEAD\")\n        if (content)\n          switch (content) {\n            case \"application/json\":\n              body = await request.json();\n              break;\n            case \"text/plain\":\n              body = await request.text();\n              break;\n            case \"application/x-www-form-urlencoded\":\n              body = parseQuery(await request.text());\n              break;\n            case \"application/octet-stream\":\n              body = await request.arrayBuffer();\n              break;\n            case \"multipart/form-data\":\n              body = {};\n              const form = await request.formData();\n              for (const key of form.keys()) {\n                if (body[key]) continue;\n                const value = form.getAll(key);\n                value.length === 1 ? body[key] = value[0] : body[key] = value;\n              }\n              break;\n          }\n        else {\n          let contentType;\n          if (request.body && (contentType = request.headers.get(\"content-type\")), contentType) {\n            const index = contentType.indexOf(\";\");\n            if (index !== -1 && (contentType = contentType.slice(0, index)), context.contentType = contentType, hooks.parse)\n              for (let i = 0; i < hooks.parse.length; i++) {\n                const hook = hooks.parse[i].fn;\n                if (typeof hook == \"string\")\n                  switch (hook) {\n                    case \"json\":\n                    case \"application/json\":\n                      body = await request.json();\n                      break;\n                    case \"text\":\n                    case \"text/plain\":\n                      body = await request.text();\n                      break;\n                    case \"urlencoded\":\n                    case \"application/x-www-form-urlencoded\":\n                      body = parseQuery(\n                        await request.text()\n                      );\n                      break;\n                    case \"arrayBuffer\":\n                    case \"application/octet-stream\":\n                      body = await request.arrayBuffer();\n                      break;\n                    case \"formdata\":\n                    case \"multipart/form-data\":\n                      body = {};\n                      const form = await request.formData();\n                      for (const key of form.keys()) {\n                        if (body[key]) continue;\n                        const value = form.getAll(key);\n                        value.length === 1 ? body[key] = value[0] : body[key] = value;\n                      }\n                      break;\n                    default:\n                      const parser = app[\"~parser\"][hook];\n                      if (parser) {\n                        let temp = parser(\n                          context,\n                          contentType\n                        );\n                        if (temp instanceof Promise && (temp = await temp), temp) {\n                          body = temp;\n                          break;\n                        }\n                      }\n                      break;\n                  }\n                else {\n                  let temp = hook(context, contentType);\n                  if (temp instanceof Promise && (temp = await temp), temp) {\n                    body = temp;\n                    break;\n                  }\n                }\n              }\n            if (delete context.contentType, body === void 0)\n              switch (contentType) {\n                case \"application/json\":\n                  body = await request.json();\n                  break;\n                case \"text/plain\":\n                  body = await request.text();\n                  break;\n                case \"application/x-www-form-urlencoded\":\n                  body = parseQuery(await request.text());\n                  break;\n                case \"application/octet-stream\":\n                  body = await request.arrayBuffer();\n                  break;\n                case \"multipart/form-data\":\n                  body = {};\n                  const form = await request.formData();\n                  for (const key of form.keys()) {\n                    if (body[key]) continue;\n                    const value = form.getAll(key);\n                    value.length === 1 ? body[key] = value[0] : body[key] = value;\n                  }\n                  break;\n              }\n          }\n        }\n      context.route = route, context.body = body, context.params = handler?.params || void 0, context.query = qi === -1 ? {} : parseQuery(url.substring(qi + 1)), context.headers = {};\n      for (const [key, value] of request.headers.entries())\n        context.headers[key] = value;\n      const cookieMeta = {\n        domain: app.config.cookie?.domain ?? // @ts-ignore\n        validator?.cookie?.config.domain,\n        expires: app.config.cookie?.expires ?? // @ts-ignore\n        validator?.cookie?.config.expires,\n        httpOnly: app.config.cookie?.httpOnly ?? // @ts-ignore\n        validator?.cookie?.config.httpOnly,\n        maxAge: app.config.cookie?.maxAge ?? // @ts-ignore\n        validator?.cookie?.config.maxAge,\n        // @ts-ignore\n        path: app.config.cookie?.path ?? validator?.cookie?.config.path,\n        priority: app.config.cookie?.priority ?? // @ts-ignore\n        validator?.cookie?.config.priority,\n        partitioned: app.config.cookie?.partitioned ?? // @ts-ignore\n        validator?.cookie?.config.partitioned,\n        sameSite: app.config.cookie?.sameSite ?? // @ts-ignore\n        validator?.cookie?.config.sameSite,\n        secure: app.config.cookie?.secure ?? // @ts-ignore\n        validator?.cookie?.config.secure,\n        secrets: app.config.cookie?.secrets ?? // @ts-ignore\n        validator?.cookie?.config.secrets,\n        // @ts-ignore\n        sign: app.config.cookie?.sign ?? validator?.cookie?.config.sign\n      }, cookieHeaderValue = request.headers.get(\"cookie\");\n      context.cookie = await parseCookie(\n        context.set,\n        cookieHeaderValue,\n        cookieMeta\n      );\n      const headerValidator = validator?.createHeaders?.();\n      headerValidator && injectDefaultValues(headerValidator, context.headers);\n      const paramsValidator = validator?.createParams?.();\n      paramsValidator && injectDefaultValues(paramsValidator, context.params);\n      const queryValidator = validator?.createQuery?.();\n      if (queryValidator && injectDefaultValues(queryValidator, context.query), hooks.transform)\n        for (let i = 0; i < hooks.transform.length; i++) {\n          const hook = hooks.transform[i];\n          let response2 = hook.fn(context);\n          if (response2 instanceof Promise && (response2 = await response2), response2 instanceof ElysiaCustomStatusResponse) {\n            const result = mapEarlyResponse(response2, context.set);\n            if (result)\n              return context.response = result;\n          }\n          hook.subType === \"derive\" && Object.assign(context, response2);\n        }\n      if (validator) {\n        if (headerValidator) {\n          const _header = structuredClone(context.headers);\n          for (const [key, value] of request.headers)\n            _header[key] = value;\n          if (validator.headers.Check(_header) === !1)\n            throw new ValidationError(\n              \"header\",\n              validator.headers,\n              _header\n            );\n        } else validator.headers?.Decode && (context.headers = validator.headers.Decode(context.headers));\n        if (paramsValidator?.Check(context.params) === !1)\n          throw new ValidationError(\n            \"params\",\n            validator.params,\n            context.params\n          );\n        if (validator.params?.Decode && (context.params = validator.params.Decode(context.params)), validator.query?.schema) {\n          let schema = validator.query.schema;\n          schema.$defs?.[schema.$ref] && (schema = schema.$defs[schema.$ref]);\n          const properties = schema.properties;\n          for (const property of Object.keys(properties)) {\n            const value = properties[property];\n            (value.type === \"array\" || value.items?.type === \"string\") && typeof context.query[property] == \"string\" && context.query[property] && (context.query[property] = context.query[property].split(\",\"));\n          }\n        }\n        if (queryValidator?.Check(context.query) === !1)\n          throw new ValidationError(\n            \"query\",\n            validator.query,\n            context.query\n          );\n        if (validator.query?.Decode && (context.query = validator.query.Decode(context.query)), validator.createCookie?.()) {\n          let cookieValue = {};\n          for (const [key, value] of Object.entries(context.cookie))\n            cookieValue[key] = value.value;\n          if (validator.cookie.Check(cookieValue) === !1)\n            throw new ValidationError(\n              \"cookie\",\n              validator.cookie,\n              cookieValue\n            );\n          validator.cookie?.Decode && (cookieValue = validator.cookie.Decode(\n            cookieValue\n          ));\n        }\n        if (validator.createBody?.()?.Check(body) === !1)\n          throw new ValidationError(\"body\", validator.body, body);\n        validator.body?.Decode && (context.body = validator.body.Decode(body));\n      }\n      if (hooks.beforeHandle)\n        for (let i = 0; i < hooks.beforeHandle.length; i++) {\n          const hook = hooks.beforeHandle[i];\n          let response2 = hook.fn(context);\n          if (response2 instanceof Promise && (response2 = await response2), response2 instanceof ElysiaCustomStatusResponse) {\n            const result = mapEarlyResponse(response2, context.set);\n            if (result)\n              return context.response = result;\n          }\n          if (hook.subType === \"resolve\") {\n            Object.assign(context, response2);\n            continue;\n          }\n          if (response2 !== void 0) {\n            if (context.response = response2, hooks.afterHandle)\n              for (let i2 = 0; i2 < hooks.afterHandle.length; i2++) {\n                let newResponse = hooks.afterHandle[i2].fn(\n                  context\n                );\n                newResponse instanceof Promise && (newResponse = await newResponse), newResponse && (response2 = newResponse);\n              }\n            const result = mapEarlyResponse(response2, context.set);\n            if (result) return context.response = result;\n          }\n        }\n      let response = typeof handle == \"function\" ? handle(context) : handle;\n      if (response instanceof Promise && (response = await response), hooks.afterHandle?.length) {\n        context.response = response;\n        for (let i = 0; i < hooks.afterHandle.length; i++) {\n          let response2 = hooks.afterHandle[i].fn(\n            context\n          );\n          response2 instanceof Promise && (response2 = await response2);\n          const isCustomStatuResponse = response2 instanceof ElysiaCustomStatusResponse, status2 = isCustomStatuResponse ? response2.code : set.status ? typeof set.status == \"string\" ? StatusMap[set.status] : set.status : 200;\n          isCustomStatuResponse && (set.status = status2, response2 = response2.response);\n          const responseValidator = validator?.createResponse?.()?.[status2];\n          if (responseValidator?.Check(response2) === !1)\n            if (responseValidator?.Clean) {\n              const temp = responseValidator.Clean(response2);\n              if (responseValidator?.Check(temp) === !1)\n                throw new ValidationError(\n                  \"response\",\n                  responseValidator,\n                  response2\n                );\n              response2 = temp;\n            } else\n              throw new ValidationError(\n                \"response\",\n                responseValidator,\n                response2\n              );\n          responseValidator?.Encode && (context.response = response2 = responseValidator.Encode(response2)), responseValidator?.Clean && (context.response = response2 = responseValidator.Clean(response2));\n          const result = mapEarlyResponse(response2, context.set);\n          if (result !== void 0) return context.response = result;\n        }\n      } else {\n        const isCustomStatuResponse = response instanceof ElysiaCustomStatusResponse, status2 = isCustomStatuResponse ? response.code : set.status ? typeof set.status == \"string\" ? StatusMap[set.status] : set.status : 200;\n        isCustomStatuResponse && (set.status = status2, response = response.response);\n        const responseValidator = validator?.createResponse?.()?.[status2];\n        if (responseValidator?.Check(response) === !1)\n          if (responseValidator?.Clean) {\n            const temp = responseValidator.Clean(response);\n            if (responseValidator?.Check(temp) === !1)\n              throw new ValidationError(\n                \"response\",\n                responseValidator,\n                response\n              );\n            response = temp;\n          } else\n            throw new ValidationError(\n              \"response\",\n              responseValidator,\n              response\n            );\n        responseValidator?.Encode && (response = responseValidator.Encode(response)), responseValidator?.Clean && (response = responseValidator.Clean(response));\n      }\n      if (context.set.cookie && cookieMeta?.sign) {\n        const secret = cookieMeta.secrets ? typeof cookieMeta.secrets == \"string\" ? cookieMeta.secrets : cookieMeta.secrets[0] : void 0;\n        if (cookieMeta.sign === !0) {\n          if (secret)\n            for (const [key, cookie] of Object.entries(\n              context.set.cookie\n            ))\n              context.set.cookie[key].value = await signCookie(\n                cookie.value,\n                secret\n              );\n        } else {\n          const properties = validator?.cookie?.schema?.properties;\n          if (secret)\n            for (const name of cookieMeta.sign)\n              name in properties && context.set.cookie[name]?.value && (context.set.cookie[name].value = await signCookie(\n                context.set.cookie[name].value,\n                secret\n              ));\n        }\n      }\n      return mapResponse(context.response = response, context.set);\n    } catch (error) {\n      const reportedError = error instanceof TransformDecodeError && error.error ? error.error : error;\n      return app.handleError(context, reportedError);\n    } finally {\n      app.event.afterResponse && setImmediate(async () => {\n        for (const afterResponse of app.event.afterResponse)\n          await afterResponse.fn(context);\n      });\n    }\n  };\n}, createDynamicErrorHandler = (app) => {\n  const { mapResponse } = app[\"~adapter\"].handler;\n  return async (context, error) => {\n    const errorContext = Object.assign(context, { error, code: error.code });\n    if (errorContext.set = context.set, app.event.error)\n      for (let i = 0; i < app.event.error.length; i++) {\n        let response = app.event.error[i].fn(errorContext);\n        if (response instanceof Promise && (response = await response), response != null)\n          return context.response = mapResponse(\n            response,\n            context.set\n          );\n      }\n    return new Response(\n      typeof error.cause == \"string\" ? error.cause : error.message,\n      {\n        headers: context.set.headers,\n        status: error.status ?? 500\n      }\n    );\n  };\n};\nexport {\n  createDynamicErrorHandler,\n  createDynamicHandler\n};\n", "import { nip19, SimplePool, type Event } from 'nostr-tools';\n\nconst RELAYS = [\n  'wss://yabu.me',\n  'wss://relay.damus.io',\n  'wss://relay.nostr.band'\n];\n\nexport interface NostrProfile {\n  name?: string;\n  display_name?: string;\n  about?: string;\n  picture?: string;\n  banner?: string;\n  nip05?: string;\n  lud16?: string;\n  website?: string;\n}\n\nexport interface Badge {\n  name?: string;\n  description?: string;\n  image?: string;\n  thumb?: string;\n}\n\nexport async function getProfileByNpub(npub: string): Promise<NostrProfile | null> {\n  try {\n    // npub\u3092hex\u306B\u5909\u63DB\n    const decoded = nip19.decode(npub);\n    if (decoded.type !== 'npub') {\n      throw new Error('Invalid npub format');\n    }\n    const pubkey = decoded.data;\n\n    // SimplePool\u3092\u4F7F\u3063\u3066\u30EA\u30EC\u30FC\u306B\u63A5\u7D9A\n    const pool = new SimplePool();\n\n    // kind0\u30A4\u30D9\u30F3\u30C8\u3092\u53D6\u5F97\uFF0810\u79D2\u30BF\u30A4\u30E0\u30A2\u30A6\u30C8\uFF09\n    const event = await Promise.race([\n      pool.get(RELAYS, {\n        kinds: [0],\n        authors: [pubkey],\n        limit: 1\n      }),\n      new Promise<null>((_, reject) =>\n        setTimeout(() => reject(new Error('Timeout')), 10000)\n      )\n    ]);\n\n    // \u30D7\u30FC\u30EB\u3092\u9589\u3058\u308B\n    pool.close(RELAYS);\n\n    if (!event) {\n      return null;\n    }\n\n    // content JSON\u3092\u30D1\u30FC\u30B9\n    const profile: NostrProfile = JSON.parse(event.content);\n    return profile;\n  } catch (error) {\n    console.error('Error fetching profile:', error);\n    return null;\n  }\n}\n\nexport async function getBadgesByNpub(npub: string): Promise<Badge[]> {\n  try {\n    // npub\u3092hex\u306B\u5909\u63DB\n    const decoded = nip19.decode(npub);\n    if (decoded.type !== 'npub') {\n      throw new Error('Invalid npub format');\n    }\n    const pubkey = decoded.data;\n\n    const pool = new SimplePool();\n\n    // kind 30008 (\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u30D0\u30C3\u30B8) \u3092\u53D6\u5F97\n    const profileBadgesEvent = await Promise.race([\n      pool.get(RELAYS, {\n        kinds: [30008],\n        authors: [pubkey],\n        '#d': ['profile_badges']\n      }),\n      new Promise<null>((_, reject) =>\n        setTimeout(() => reject(new Error('Timeout')), 10000)\n      )\n    ]);\n\n    if (!profileBadgesEvent) {\n      pool.close(RELAYS);\n      return [];\n    }\n\n    // a\u30BF\u30B0\u3092\u89E3\u6790\u3057\u3066\u30D0\u30C3\u30B8\u5B9A\u7FA9\u306E\u53C2\u7167\u3092\u53D6\u5F97\n    const aTags = profileBadgesEvent.tags.filter(tag => tag[0] === 'a');\n\n    // \u6700\u59275\u3064\u307E\u3067\u53D6\u5F97\n    const badgeReferences = aTags.slice(0, 5);\n\n    if (badgeReferences.length === 0) {\n      pool.close(RELAYS);\n      return [];\n    }\n\n    // \u5404\u30D0\u30C3\u30B8\u5B9A\u7FA9\u3092\u53D6\u5F97\n    const badges: Badge[] = [];\n\n    for (const aTag of badgeReferences) {\n      const badgeAddress = aTag[1]; // format: kind:pubkey:d_tag\n      const parts = badgeAddress.split(':');\n\n      if (parts.length !== 3 || parts[0] !== '30009') {\n        continue;\n      }\n\n      const [, badgeAuthor, dTag] = parts;\n\n      // kind 30009 (\u30D0\u30C3\u30B8\u5B9A\u7FA9) \u3092\u53D6\u5F97\n      const badgeDefEvent = await Promise.race([\n        pool.get(RELAYS, {\n          kinds: [30009],\n          authors: [badgeAuthor],\n          '#d': [dTag]\n        }),\n        new Promise<null>((_, reject) =>\n          setTimeout(() => reject(new Error('Timeout')), 3000)\n        )\n      ]);\n\n      if (badgeDefEvent) {\n        const badge: Badge = {};\n\n        // \u30BF\u30B0\u304B\u3089\u60C5\u5831\u3092\u62BD\u51FA\n        for (const tag of badgeDefEvent.tags) {\n          if (tag[0] === 'name' && tag[1]) {\n            badge.name = tag[1];\n          } else if (tag[0] === 'description' && tag[1]) {\n            badge.description = tag[1];\n          } else if (tag[0] === 'image' && tag[1]) {\n            badge.image = tag[1];\n          } else if (tag[0] === 'thumb' && tag[1]) {\n            badge.thumb = tag[1];\n          }\n        }\n\n        badges.push(badge);\n      }\n    }\n\n    pool.close(RELAYS);\n    return badges;\n  } catch (error) {\n    console.error('Error fetching badges:', error);\n    return [];\n  }\n}\n", "var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// pure.ts\nimport { schnorr } from \"@noble/curves/secp256k1\";\nimport { bytesToHex as bytesToHex2 } from \"@noble/hashes/utils\";\n\n// core.ts\nvar verifiedSymbol = Symbol(\"verified\");\nvar isRecord = (obj) => obj instanceof Object;\nfunction validateEvent(event) {\n  if (!isRecord(event))\n    return false;\n  if (typeof event.kind !== \"number\")\n    return false;\n  if (typeof event.content !== \"string\")\n    return false;\n  if (typeof event.created_at !== \"number\")\n    return false;\n  if (typeof event.pubkey !== \"string\")\n    return false;\n  if (!event.pubkey.match(/^[a-f0-9]{64}$/))\n    return false;\n  if (!Array.isArray(event.tags))\n    return false;\n  for (let i2 = 0; i2 < event.tags.length; i2++) {\n    let tag = event.tags[i2];\n    if (!Array.isArray(tag))\n      return false;\n    for (let j = 0; j < tag.length; j++) {\n      if (typeof tag[j] !== \"string\")\n        return false;\n    }\n  }\n  return true;\n}\nfunction sortEvents(events) {\n  return events.sort((a, b) => {\n    if (a.created_at !== b.created_at) {\n      return b.created_at - a.created_at;\n    }\n    return a.id.localeCompare(b.id);\n  });\n}\n\n// pure.ts\nimport { sha256 } from \"@noble/hashes/sha256\";\n\n// utils.ts\nvar utils_exports = {};\n__export(utils_exports, {\n  Queue: () => Queue,\n  QueueNode: () => QueueNode,\n  binarySearch: () => binarySearch,\n  bytesToHex: () => bytesToHex,\n  hexToBytes: () => hexToBytes,\n  insertEventIntoAscendingList: () => insertEventIntoAscendingList,\n  insertEventIntoDescendingList: () => insertEventIntoDescendingList,\n  normalizeURL: () => normalizeURL,\n  utf8Decoder: () => utf8Decoder,\n  utf8Encoder: () => utf8Encoder\n});\nimport { bytesToHex, hexToBytes } from \"@noble/hashes/utils\";\nvar utf8Decoder = new TextDecoder(\"utf-8\");\nvar utf8Encoder = new TextEncoder();\nfunction normalizeURL(url) {\n  try {\n    if (url.indexOf(\"://\") === -1)\n      url = \"wss://\" + url;\n    let p = new URL(url);\n    p.pathname = p.pathname.replace(/\\/+/g, \"/\");\n    if (p.pathname.endsWith(\"/\"))\n      p.pathname = p.pathname.slice(0, -1);\n    if (p.port === \"80\" && p.protocol === \"ws:\" || p.port === \"443\" && p.protocol === \"wss:\")\n      p.port = \"\";\n    p.searchParams.sort();\n    p.hash = \"\";\n    return p.toString();\n  } catch (e) {\n    throw new Error(`Invalid URL: ${url}`);\n  }\n}\nfunction insertEventIntoDescendingList(sortedArray, event) {\n  const [idx, found] = binarySearch(sortedArray, (b) => {\n    if (event.id === b.id)\n      return 0;\n    if (event.created_at === b.created_at)\n      return -1;\n    return b.created_at - event.created_at;\n  });\n  if (!found) {\n    sortedArray.splice(idx, 0, event);\n  }\n  return sortedArray;\n}\nfunction insertEventIntoAscendingList(sortedArray, event) {\n  const [idx, found] = binarySearch(sortedArray, (b) => {\n    if (event.id === b.id)\n      return 0;\n    if (event.created_at === b.created_at)\n      return -1;\n    return event.created_at - b.created_at;\n  });\n  if (!found) {\n    sortedArray.splice(idx, 0, event);\n  }\n  return sortedArray;\n}\nfunction binarySearch(arr, compare) {\n  let start = 0;\n  let end = arr.length - 1;\n  while (start <= end) {\n    const mid = Math.floor((start + end) / 2);\n    const cmp = compare(arr[mid]);\n    if (cmp === 0) {\n      return [mid, true];\n    }\n    if (cmp < 0) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n  return [start, false];\n}\nvar QueueNode = class {\n  value;\n  next = null;\n  prev = null;\n  constructor(message) {\n    this.value = message;\n  }\n};\nvar Queue = class {\n  first;\n  last;\n  constructor() {\n    this.first = null;\n    this.last = null;\n  }\n  enqueue(value) {\n    const newNode = new QueueNode(value);\n    if (!this.last) {\n      this.first = newNode;\n      this.last = newNode;\n    } else if (this.last === this.first) {\n      this.last = newNode;\n      this.last.prev = this.first;\n      this.first.next = newNode;\n    } else {\n      newNode.prev = this.last;\n      this.last.next = newNode;\n      this.last = newNode;\n    }\n    return true;\n  }\n  dequeue() {\n    if (!this.first)\n      return null;\n    if (this.first === this.last) {\n      const target2 = this.first;\n      this.first = null;\n      this.last = null;\n      return target2.value;\n    }\n    const target = this.first;\n    this.first = target.next;\n    if (this.first) {\n      this.first.prev = null;\n    }\n    return target.value;\n  }\n};\n\n// pure.ts\nvar JS = class {\n  generateSecretKey() {\n    return schnorr.utils.randomPrivateKey();\n  }\n  getPublicKey(secretKey) {\n    return bytesToHex2(schnorr.getPublicKey(secretKey));\n  }\n  finalizeEvent(t, secretKey) {\n    const event = t;\n    event.pubkey = bytesToHex2(schnorr.getPublicKey(secretKey));\n    event.id = getEventHash(event);\n    event.sig = bytesToHex2(schnorr.sign(getEventHash(event), secretKey));\n    event[verifiedSymbol] = true;\n    return event;\n  }\n  verifyEvent(event) {\n    if (typeof event[verifiedSymbol] === \"boolean\")\n      return event[verifiedSymbol];\n    const hash = getEventHash(event);\n    if (hash !== event.id) {\n      event[verifiedSymbol] = false;\n      return false;\n    }\n    try {\n      const valid = schnorr.verify(event.sig, hash, event.pubkey);\n      event[verifiedSymbol] = valid;\n      return valid;\n    } catch (err) {\n      event[verifiedSymbol] = false;\n      return false;\n    }\n  }\n};\nfunction serializeEvent(evt) {\n  if (!validateEvent(evt))\n    throw new Error(\"can't serialize event with wrong or missing properties\");\n  return JSON.stringify([0, evt.pubkey, evt.created_at, evt.kind, evt.tags, evt.content]);\n}\nfunction getEventHash(event) {\n  let eventHash = sha256(utf8Encoder.encode(serializeEvent(event)));\n  return bytesToHex2(eventHash);\n}\nvar i = new JS();\nvar generateSecretKey = i.generateSecretKey;\nvar getPublicKey = i.getPublicKey;\nvar finalizeEvent = i.finalizeEvent;\nvar verifyEvent = i.verifyEvent;\n\n// kinds.ts\nvar kinds_exports = {};\n__export(kinds_exports, {\n  Application: () => Application,\n  BadgeAward: () => BadgeAward,\n  BadgeDefinition: () => BadgeDefinition,\n  BlockedRelaysList: () => BlockedRelaysList,\n  BookmarkList: () => BookmarkList,\n  Bookmarksets: () => Bookmarksets,\n  Calendar: () => Calendar,\n  CalendarEventRSVP: () => CalendarEventRSVP,\n  ChannelCreation: () => ChannelCreation,\n  ChannelHideMessage: () => ChannelHideMessage,\n  ChannelMessage: () => ChannelMessage,\n  ChannelMetadata: () => ChannelMetadata,\n  ChannelMuteUser: () => ChannelMuteUser,\n  ClassifiedListing: () => ClassifiedListing,\n  ClientAuth: () => ClientAuth,\n  CommunitiesList: () => CommunitiesList,\n  CommunityDefinition: () => CommunityDefinition,\n  CommunityPostApproval: () => CommunityPostApproval,\n  Contacts: () => Contacts,\n  CreateOrUpdateProduct: () => CreateOrUpdateProduct,\n  CreateOrUpdateStall: () => CreateOrUpdateStall,\n  Curationsets: () => Curationsets,\n  Date: () => Date2,\n  DirectMessageRelaysList: () => DirectMessageRelaysList,\n  DraftClassifiedListing: () => DraftClassifiedListing,\n  DraftLong: () => DraftLong,\n  Emojisets: () => Emojisets,\n  EncryptedDirectMessage: () => EncryptedDirectMessage,\n  EventDeletion: () => EventDeletion,\n  FileMetadata: () => FileMetadata,\n  FileServerPreference: () => FileServerPreference,\n  Followsets: () => Followsets,\n  GenericRepost: () => GenericRepost,\n  Genericlists: () => Genericlists,\n  GiftWrap: () => GiftWrap,\n  HTTPAuth: () => HTTPAuth,\n  Handlerinformation: () => Handlerinformation,\n  Handlerrecommendation: () => Handlerrecommendation,\n  Highlights: () => Highlights,\n  InterestsList: () => InterestsList,\n  Interestsets: () => Interestsets,\n  JobFeedback: () => JobFeedback,\n  JobRequest: () => JobRequest,\n  JobResult: () => JobResult,\n  Label: () => Label,\n  LightningPubRPC: () => LightningPubRPC,\n  LiveChatMessage: () => LiveChatMessage,\n  LiveEvent: () => LiveEvent,\n  LongFormArticle: () => LongFormArticle,\n  Metadata: () => Metadata,\n  Mutelist: () => Mutelist,\n  NWCWalletInfo: () => NWCWalletInfo,\n  NWCWalletRequest: () => NWCWalletRequest,\n  NWCWalletResponse: () => NWCWalletResponse,\n  NostrConnect: () => NostrConnect,\n  OpenTimestamps: () => OpenTimestamps,\n  Pinlist: () => Pinlist,\n  PrivateDirectMessage: () => PrivateDirectMessage,\n  ProblemTracker: () => ProblemTracker,\n  ProfileBadges: () => ProfileBadges,\n  PublicChatsList: () => PublicChatsList,\n  Reaction: () => Reaction,\n  RecommendRelay: () => RecommendRelay,\n  RelayList: () => RelayList,\n  Relaysets: () => Relaysets,\n  Report: () => Report,\n  Reporting: () => Reporting,\n  Repost: () => Repost,\n  Seal: () => Seal,\n  SearchRelaysList: () => SearchRelaysList,\n  ShortTextNote: () => ShortTextNote,\n  Time: () => Time,\n  UserEmojiList: () => UserEmojiList,\n  UserStatuses: () => UserStatuses,\n  Zap: () => Zap,\n  ZapGoal: () => ZapGoal,\n  ZapRequest: () => ZapRequest,\n  classifyKind: () => classifyKind,\n  isAddressableKind: () => isAddressableKind,\n  isEphemeralKind: () => isEphemeralKind,\n  isKind: () => isKind,\n  isRegularKind: () => isRegularKind,\n  isReplaceableKind: () => isReplaceableKind\n});\nfunction isRegularKind(kind) {\n  return 1e3 <= kind && kind < 1e4 || [1, 2, 4, 5, 6, 7, 8, 16, 40, 41, 42, 43, 44].includes(kind);\n}\nfunction isReplaceableKind(kind) {\n  return [0, 3].includes(kind) || 1e4 <= kind && kind < 2e4;\n}\nfunction isEphemeralKind(kind) {\n  return 2e4 <= kind && kind < 3e4;\n}\nfunction isAddressableKind(kind) {\n  return 3e4 <= kind && kind < 4e4;\n}\nfunction classifyKind(kind) {\n  if (isRegularKind(kind))\n    return \"regular\";\n  if (isReplaceableKind(kind))\n    return \"replaceable\";\n  if (isEphemeralKind(kind))\n    return \"ephemeral\";\n  if (isAddressableKind(kind))\n    return \"parameterized\";\n  return \"unknown\";\n}\nfunction isKind(event, kind) {\n  const kindAsArray = kind instanceof Array ? kind : [kind];\n  return validateEvent(event) && kindAsArray.includes(event.kind) || false;\n}\nvar Metadata = 0;\nvar ShortTextNote = 1;\nvar RecommendRelay = 2;\nvar Contacts = 3;\nvar EncryptedDirectMessage = 4;\nvar EventDeletion = 5;\nvar Repost = 6;\nvar Reaction = 7;\nvar BadgeAward = 8;\nvar Seal = 13;\nvar PrivateDirectMessage = 14;\nvar GenericRepost = 16;\nvar ChannelCreation = 40;\nvar ChannelMetadata = 41;\nvar ChannelMessage = 42;\nvar ChannelHideMessage = 43;\nvar ChannelMuteUser = 44;\nvar OpenTimestamps = 1040;\nvar GiftWrap = 1059;\nvar FileMetadata = 1063;\nvar LiveChatMessage = 1311;\nvar ProblemTracker = 1971;\nvar Report = 1984;\nvar Reporting = 1984;\nvar Label = 1985;\nvar CommunityPostApproval = 4550;\nvar JobRequest = 5999;\nvar JobResult = 6999;\nvar JobFeedback = 7e3;\nvar ZapGoal = 9041;\nvar ZapRequest = 9734;\nvar Zap = 9735;\nvar Highlights = 9802;\nvar Mutelist = 1e4;\nvar Pinlist = 10001;\nvar RelayList = 10002;\nvar BookmarkList = 10003;\nvar CommunitiesList = 10004;\nvar PublicChatsList = 10005;\nvar BlockedRelaysList = 10006;\nvar SearchRelaysList = 10007;\nvar InterestsList = 10015;\nvar UserEmojiList = 10030;\nvar DirectMessageRelaysList = 10050;\nvar FileServerPreference = 10096;\nvar NWCWalletInfo = 13194;\nvar LightningPubRPC = 21e3;\nvar ClientAuth = 22242;\nvar NWCWalletRequest = 23194;\nvar NWCWalletResponse = 23195;\nvar NostrConnect = 24133;\nvar HTTPAuth = 27235;\nvar Followsets = 3e4;\nvar Genericlists = 30001;\nvar Relaysets = 30002;\nvar Bookmarksets = 30003;\nvar Curationsets = 30004;\nvar ProfileBadges = 30008;\nvar BadgeDefinition = 30009;\nvar Interestsets = 30015;\nvar CreateOrUpdateStall = 30017;\nvar CreateOrUpdateProduct = 30018;\nvar LongFormArticle = 30023;\nvar DraftLong = 30024;\nvar Emojisets = 30030;\nvar Application = 30078;\nvar LiveEvent = 30311;\nvar UserStatuses = 30315;\nvar ClassifiedListing = 30402;\nvar DraftClassifiedListing = 30403;\nvar Date2 = 31922;\nvar Time = 31923;\nvar Calendar = 31924;\nvar CalendarEventRSVP = 31925;\nvar Handlerrecommendation = 31989;\nvar Handlerinformation = 31990;\nvar CommunityDefinition = 34550;\n\n// filter.ts\nfunction matchFilter(filter, event) {\n  if (filter.ids && filter.ids.indexOf(event.id) === -1) {\n    return false;\n  }\n  if (filter.kinds && filter.kinds.indexOf(event.kind) === -1) {\n    return false;\n  }\n  if (filter.authors && filter.authors.indexOf(event.pubkey) === -1) {\n    return false;\n  }\n  for (let f in filter) {\n    if (f[0] === \"#\") {\n      let tagName = f.slice(1);\n      let values = filter[`#${tagName}`];\n      if (values && !event.tags.find(([t, v]) => t === f.slice(1) && values.indexOf(v) !== -1))\n        return false;\n    }\n  }\n  if (filter.since && event.created_at < filter.since)\n    return false;\n  if (filter.until && event.created_at > filter.until)\n    return false;\n  return true;\n}\nfunction matchFilters(filters, event) {\n  for (let i2 = 0; i2 < filters.length; i2++) {\n    if (matchFilter(filters[i2], event)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction mergeFilters(...filters) {\n  let result = {};\n  for (let i2 = 0; i2 < filters.length; i2++) {\n    let filter = filters[i2];\n    Object.entries(filter).forEach(([property, values]) => {\n      if (property === \"kinds\" || property === \"ids\" || property === \"authors\" || property[0] === \"#\") {\n        result[property] = result[property] || [];\n        for (let v = 0; v < values.length; v++) {\n          let value = values[v];\n          if (!result[property].includes(value))\n            result[property].push(value);\n        }\n      }\n    });\n    if (filter.limit && (!result.limit || filter.limit > result.limit))\n      result.limit = filter.limit;\n    if (filter.until && (!result.until || filter.until > result.until))\n      result.until = filter.until;\n    if (filter.since && (!result.since || filter.since < result.since))\n      result.since = filter.since;\n  }\n  return result;\n}\nfunction getFilterLimit(filter) {\n  if (filter.ids && !filter.ids.length)\n    return 0;\n  if (filter.kinds && !filter.kinds.length)\n    return 0;\n  if (filter.authors && !filter.authors.length)\n    return 0;\n  for (const [key, value] of Object.entries(filter)) {\n    if (key[0] === \"#\" && Array.isArray(value) && !value.length)\n      return 0;\n  }\n  return Math.min(\n    Math.max(0, filter.limit ?? Infinity),\n    filter.ids?.length ?? Infinity,\n    filter.authors?.length && filter.kinds?.every((kind) => isReplaceableKind(kind)) ? filter.authors.length * filter.kinds.length : Infinity,\n    filter.authors?.length && filter.kinds?.every((kind) => isAddressableKind(kind)) && filter[\"#d\"]?.length ? filter.authors.length * filter.kinds.length * filter[\"#d\"].length : Infinity\n  );\n}\n\n// fakejson.ts\nvar fakejson_exports = {};\n__export(fakejson_exports, {\n  getHex64: () => getHex64,\n  getInt: () => getInt,\n  getSubscriptionId: () => getSubscriptionId,\n  matchEventId: () => matchEventId,\n  matchEventKind: () => matchEventKind,\n  matchEventPubkey: () => matchEventPubkey\n});\nfunction getHex64(json, field) {\n  let len = field.length + 3;\n  let idx = json.indexOf(`\"${field}\":`) + len;\n  let s = json.slice(idx).indexOf(`\"`) + idx + 1;\n  return json.slice(s, s + 64);\n}\nfunction getInt(json, field) {\n  let len = field.length;\n  let idx = json.indexOf(`\"${field}\":`) + len + 3;\n  let sliced = json.slice(idx);\n  let end = Math.min(sliced.indexOf(\",\"), sliced.indexOf(\"}\"));\n  return parseInt(sliced.slice(0, end), 10);\n}\nfunction getSubscriptionId(json) {\n  let idx = json.slice(0, 22).indexOf(`\"EVENT\"`);\n  if (idx === -1)\n    return null;\n  let pstart = json.slice(idx + 7 + 1).indexOf(`\"`);\n  if (pstart === -1)\n    return null;\n  let start = idx + 7 + 1 + pstart;\n  let pend = json.slice(start + 1, 80).indexOf(`\"`);\n  if (pend === -1)\n    return null;\n  let end = start + 1 + pend;\n  return json.slice(start + 1, end);\n}\nfunction matchEventId(json, id) {\n  return id === getHex64(json, \"id\");\n}\nfunction matchEventPubkey(json, pubkey) {\n  return pubkey === getHex64(json, \"pubkey\");\n}\nfunction matchEventKind(json, kind) {\n  return kind === getInt(json, \"kind\");\n}\n\n// nip42.ts\nvar nip42_exports = {};\n__export(nip42_exports, {\n  makeAuthEvent: () => makeAuthEvent\n});\nfunction makeAuthEvent(relayURL, challenge) {\n  return {\n    kind: ClientAuth,\n    created_at: Math.floor(Date.now() / 1e3),\n    tags: [\n      [\"relay\", relayURL],\n      [\"challenge\", challenge]\n    ],\n    content: \"\"\n  };\n}\n\n// helpers.ts\nasync function yieldThread() {\n  return new Promise((resolve) => {\n    const ch = new MessageChannel();\n    const handler = () => {\n      ch.port1.removeEventListener(\"message\", handler);\n      resolve();\n    };\n    ch.port1.addEventListener(\"message\", handler);\n    ch.port2.postMessage(0);\n    ch.port1.start();\n  });\n}\nvar alwaysTrue = (t) => {\n  t[verifiedSymbol] = true;\n  return true;\n};\n\n// abstract-relay.ts\nvar SendingOnClosedConnection = class extends Error {\n  constructor(message, relay) {\n    super(`Tried to send message '${message} on a closed connection to ${relay}.`);\n    this.name = \"SendingOnClosedConnection\";\n  }\n};\nvar AbstractRelay = class {\n  url;\n  _connected = false;\n  onclose = null;\n  onnotice = (msg) => console.debug(`NOTICE from ${this.url}: ${msg}`);\n  baseEoseTimeout = 4400;\n  connectionTimeout = 4400;\n  publishTimeout = 4400;\n  pingFrequency = 2e4;\n  pingTimeout = 2e4;\n  openSubs = /* @__PURE__ */ new Map();\n  enablePing;\n  connectionTimeoutHandle;\n  connectionPromise;\n  openCountRequests = /* @__PURE__ */ new Map();\n  openEventPublishes = /* @__PURE__ */ new Map();\n  ws;\n  incomingMessageQueue = new Queue();\n  queueRunning = false;\n  challenge;\n  authPromise;\n  serial = 0;\n  verifyEvent;\n  _WebSocket;\n  constructor(url, opts) {\n    this.url = normalizeURL(url);\n    this.verifyEvent = opts.verifyEvent;\n    this._WebSocket = opts.websocketImplementation || WebSocket;\n    this.enablePing = opts.enablePing;\n  }\n  static async connect(url, opts) {\n    const relay = new AbstractRelay(url, opts);\n    await relay.connect();\n    return relay;\n  }\n  closeAllSubscriptions(reason) {\n    for (let [_, sub] of this.openSubs) {\n      sub.close(reason);\n    }\n    this.openSubs.clear();\n    for (let [_, ep] of this.openEventPublishes) {\n      ep.reject(new Error(reason));\n    }\n    this.openEventPublishes.clear();\n    for (let [_, cr] of this.openCountRequests) {\n      cr.reject(new Error(reason));\n    }\n    this.openCountRequests.clear();\n  }\n  get connected() {\n    return this._connected;\n  }\n  async connect() {\n    if (this.connectionPromise)\n      return this.connectionPromise;\n    this.challenge = void 0;\n    this.authPromise = void 0;\n    this.connectionPromise = new Promise((resolve, reject) => {\n      this.connectionTimeoutHandle = setTimeout(() => {\n        reject(\"connection timed out\");\n        this.connectionPromise = void 0;\n        this.onclose?.();\n        this.closeAllSubscriptions(\"relay connection timed out\");\n      }, this.connectionTimeout);\n      try {\n        this.ws = new this._WebSocket(this.url);\n      } catch (err) {\n        clearTimeout(this.connectionTimeoutHandle);\n        reject(err);\n        return;\n      }\n      this.ws.onopen = () => {\n        clearTimeout(this.connectionTimeoutHandle);\n        this._connected = true;\n        if (this.enablePing) {\n          this.pingpong();\n        }\n        resolve();\n      };\n      this.ws.onerror = (ev) => {\n        clearTimeout(this.connectionTimeoutHandle);\n        reject(ev.message || \"websocket error\");\n        this._connected = false;\n        this.connectionPromise = void 0;\n        this.onclose?.();\n        this.closeAllSubscriptions(\"relay connection errored\");\n      };\n      this.ws.onclose = (ev) => {\n        clearTimeout(this.connectionTimeoutHandle);\n        reject(ev.message || \"websocket closed\");\n        this._connected = false;\n        this.connectionPromise = void 0;\n        this.onclose?.();\n        this.closeAllSubscriptions(\"relay connection closed\");\n      };\n      this.ws.onmessage = this._onmessage.bind(this);\n    });\n    return this.connectionPromise;\n  }\n  async waitForPingPong() {\n    return new Promise((res, err) => {\n      ;\n      this.ws && this.ws.on && this.ws.on(\"pong\", () => res(true)) || err(\"ws can't listen for pong\");\n      this.ws && this.ws.ping && this.ws.ping();\n    });\n  }\n  async waitForDummyReq() {\n    return new Promise((resolve, _) => {\n      const sub = this.subscribe([{ ids: [\"a\".repeat(64)] }], {\n        oneose: () => {\n          sub.close();\n          resolve(true);\n        },\n        eoseTimeout: this.pingTimeout + 1e3\n      });\n    });\n  }\n  async pingpong() {\n    if (this.ws?.readyState === 1) {\n      const result = await Promise.any([\n        this.ws && this.ws.ping && this.ws.on ? this.waitForPingPong() : this.waitForDummyReq(),\n        new Promise((res) => setTimeout(() => res(false), this.pingTimeout))\n      ]);\n      if (result) {\n        setTimeout(() => this.pingpong(), this.pingFrequency);\n      } else {\n        this.closeAllSubscriptions(\"pingpong timed out\");\n        this._connected = false;\n        this.onclose?.();\n        this.ws?.close();\n      }\n    }\n  }\n  async runQueue() {\n    this.queueRunning = true;\n    while (true) {\n      if (false === this.handleNext()) {\n        break;\n      }\n      await yieldThread();\n    }\n    this.queueRunning = false;\n  }\n  handleNext() {\n    const json = this.incomingMessageQueue.dequeue();\n    if (!json) {\n      return false;\n    }\n    const subid = getSubscriptionId(json);\n    if (subid) {\n      const so = this.openSubs.get(subid);\n      if (!so) {\n        return;\n      }\n      const id = getHex64(json, \"id\");\n      const alreadyHave = so.alreadyHaveEvent?.(id);\n      so.receivedEvent?.(this, id);\n      if (alreadyHave) {\n        return;\n      }\n    }\n    try {\n      let data = JSON.parse(json);\n      switch (data[0]) {\n        case \"EVENT\": {\n          const so = this.openSubs.get(data[1]);\n          const event = data[2];\n          if (this.verifyEvent(event) && matchFilters(so.filters, event)) {\n            so.onevent(event);\n          }\n          return;\n        }\n        case \"COUNT\": {\n          const id = data[1];\n          const payload = data[2];\n          const cr = this.openCountRequests.get(id);\n          if (cr) {\n            cr.resolve(payload.count);\n            this.openCountRequests.delete(id);\n          }\n          return;\n        }\n        case \"EOSE\": {\n          const so = this.openSubs.get(data[1]);\n          if (!so)\n            return;\n          so.receivedEose();\n          return;\n        }\n        case \"OK\": {\n          const id = data[1];\n          const ok = data[2];\n          const reason = data[3];\n          const ep = this.openEventPublishes.get(id);\n          if (ep) {\n            clearTimeout(ep.timeout);\n            if (ok)\n              ep.resolve(reason);\n            else\n              ep.reject(new Error(reason));\n            this.openEventPublishes.delete(id);\n          }\n          return;\n        }\n        case \"CLOSED\": {\n          const id = data[1];\n          const so = this.openSubs.get(id);\n          if (!so)\n            return;\n          so.closed = true;\n          so.close(data[2]);\n          return;\n        }\n        case \"NOTICE\":\n          this.onnotice(data[1]);\n          return;\n        case \"AUTH\": {\n          this.challenge = data[1];\n          return;\n        }\n      }\n    } catch (err) {\n      return;\n    }\n  }\n  async send(message) {\n    if (!this.connectionPromise)\n      throw new SendingOnClosedConnection(message, this.url);\n    this.connectionPromise.then(() => {\n      this.ws?.send(message);\n    });\n  }\n  async auth(signAuthEvent) {\n    const challenge = this.challenge;\n    if (!challenge)\n      throw new Error(\"can't perform auth, no challenge was received\");\n    if (this.authPromise)\n      return this.authPromise;\n    this.authPromise = new Promise(async (resolve, reject) => {\n      try {\n        let evt = await signAuthEvent(makeAuthEvent(this.url, challenge));\n        let timeout = setTimeout(() => {\n          let ep = this.openEventPublishes.get(evt.id);\n          if (ep) {\n            ep.reject(new Error(\"auth timed out\"));\n            this.openEventPublishes.delete(evt.id);\n          }\n        }, this.publishTimeout);\n        this.openEventPublishes.set(evt.id, { resolve, reject, timeout });\n        this.send('[\"AUTH\",' + JSON.stringify(evt) + \"]\");\n      } catch (err) {\n        console.warn(\"subscribe auth function failed:\", err);\n      }\n    });\n    return this.authPromise;\n  }\n  async publish(event) {\n    const ret = new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        const ep = this.openEventPublishes.get(event.id);\n        if (ep) {\n          ep.reject(new Error(\"publish timed out\"));\n          this.openEventPublishes.delete(event.id);\n        }\n      }, this.publishTimeout);\n      this.openEventPublishes.set(event.id, { resolve, reject, timeout });\n    });\n    this.send('[\"EVENT\",' + JSON.stringify(event) + \"]\");\n    return ret;\n  }\n  async count(filters, params) {\n    this.serial++;\n    const id = params?.id || \"count:\" + this.serial;\n    const ret = new Promise((resolve, reject) => {\n      this.openCountRequests.set(id, { resolve, reject });\n    });\n    this.send('[\"COUNT\",\"' + id + '\",' + JSON.stringify(filters).substring(1));\n    return ret;\n  }\n  subscribe(filters, params) {\n    const subscription = this.prepareSubscription(filters, params);\n    subscription.fire();\n    return subscription;\n  }\n  prepareSubscription(filters, params) {\n    this.serial++;\n    const id = params.id || (params.label ? params.label + \":\" : \"sub:\") + this.serial;\n    const subscription = new Subscription(this, id, filters, params);\n    this.openSubs.set(id, subscription);\n    return subscription;\n  }\n  close() {\n    this.closeAllSubscriptions(\"relay connection closed by us\");\n    this._connected = false;\n    this.onclose?.();\n    this.ws?.close();\n  }\n  _onmessage(ev) {\n    this.incomingMessageQueue.enqueue(ev.data);\n    if (!this.queueRunning) {\n      this.runQueue();\n    }\n  }\n};\nvar Subscription = class {\n  relay;\n  id;\n  closed = false;\n  eosed = false;\n  filters;\n  alreadyHaveEvent;\n  receivedEvent;\n  onevent;\n  oneose;\n  onclose;\n  eoseTimeout;\n  eoseTimeoutHandle;\n  constructor(relay, id, filters, params) {\n    this.relay = relay;\n    this.filters = filters;\n    this.id = id;\n    this.alreadyHaveEvent = params.alreadyHaveEvent;\n    this.receivedEvent = params.receivedEvent;\n    this.eoseTimeout = params.eoseTimeout || relay.baseEoseTimeout;\n    this.oneose = params.oneose;\n    this.onclose = params.onclose;\n    this.onevent = params.onevent || ((event) => {\n      console.warn(\n        `onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,\n        event\n      );\n    });\n  }\n  fire() {\n    this.relay.send('[\"REQ\",\"' + this.id + '\",' + JSON.stringify(this.filters).substring(1));\n    this.eoseTimeoutHandle = setTimeout(this.receivedEose.bind(this), this.eoseTimeout);\n  }\n  receivedEose() {\n    if (this.eosed)\n      return;\n    clearTimeout(this.eoseTimeoutHandle);\n    this.eosed = true;\n    this.oneose?.();\n  }\n  close(reason = \"closed by caller\") {\n    if (!this.closed && this.relay.connected) {\n      try {\n        this.relay.send('[\"CLOSE\",' + JSON.stringify(this.id) + \"]\");\n      } catch (err) {\n        if (err instanceof SendingOnClosedConnection) {\n        } else {\n          throw err;\n        }\n      }\n      this.closed = true;\n    }\n    this.relay.openSubs.delete(this.id);\n    this.onclose?.(reason);\n  }\n};\n\n// relay.ts\nvar _WebSocket;\ntry {\n  _WebSocket = WebSocket;\n} catch {\n}\nvar Relay = class extends AbstractRelay {\n  constructor(url) {\n    super(url, { verifyEvent, websocketImplementation: _WebSocket });\n  }\n  static async connect(url) {\n    const relay = new Relay(url);\n    await relay.connect();\n    return relay;\n  }\n};\n\n// abstract-pool.ts\nvar AbstractSimplePool = class {\n  relays = /* @__PURE__ */ new Map();\n  seenOn = /* @__PURE__ */ new Map();\n  trackRelays = false;\n  verifyEvent;\n  enablePing;\n  trustedRelayURLs = /* @__PURE__ */ new Set();\n  _WebSocket;\n  constructor(opts) {\n    this.verifyEvent = opts.verifyEvent;\n    this._WebSocket = opts.websocketImplementation;\n    this.enablePing = opts.enablePing;\n  }\n  async ensureRelay(url, params) {\n    url = normalizeURL(url);\n    let relay = this.relays.get(url);\n    if (!relay) {\n      relay = new AbstractRelay(url, {\n        verifyEvent: this.trustedRelayURLs.has(url) ? alwaysTrue : this.verifyEvent,\n        websocketImplementation: this._WebSocket,\n        enablePing: this.enablePing\n      });\n      relay.onclose = () => {\n        this.relays.delete(url);\n      };\n      if (params?.connectionTimeout)\n        relay.connectionTimeout = params.connectionTimeout;\n      this.relays.set(url, relay);\n    }\n    await relay.connect();\n    return relay;\n  }\n  close(relays) {\n    relays.map(normalizeURL).forEach((url) => {\n      this.relays.get(url)?.close();\n      this.relays.delete(url);\n    });\n  }\n  subscribe(relays, filter, params) {\n    params.onauth = params.onauth || params.doauth;\n    const request = [];\n    for (let i2 = 0; i2 < relays.length; i2++) {\n      const url = normalizeURL(relays[i2]);\n      if (!request.find((r) => r.url === url)) {\n        request.push({ url, filter });\n      }\n    }\n    return this.subscribeMap(request, params);\n  }\n  subscribeMany(relays, filter, params) {\n    params.onauth = params.onauth || params.doauth;\n    const request = [];\n    const uniqUrls = [];\n    for (let i2 = 0; i2 < relays.length; i2++) {\n      const url = normalizeURL(relays[i2]);\n      if (uniqUrls.indexOf(url) === -1) {\n        uniqUrls.push(url);\n        request.push({ url, filter });\n      }\n    }\n    return this.subscribeMap(request, params);\n  }\n  subscribeMap(requests, params) {\n    params.onauth = params.onauth || params.doauth;\n    const grouped = /* @__PURE__ */ new Map();\n    for (const req of requests) {\n      const { url, filter } = req;\n      if (!grouped.has(url))\n        grouped.set(url, []);\n      grouped.get(url).push(filter);\n    }\n    const groupedRequests = Array.from(grouped.entries()).map(([url, filters]) => ({ url, filters }));\n    if (this.trackRelays) {\n      params.receivedEvent = (relay, id) => {\n        let set = this.seenOn.get(id);\n        if (!set) {\n          set = /* @__PURE__ */ new Set();\n          this.seenOn.set(id, set);\n        }\n        set.add(relay);\n      };\n    }\n    const _knownIds = /* @__PURE__ */ new Set();\n    const subs = [];\n    const eosesReceived = [];\n    let handleEose = (i2) => {\n      if (eosesReceived[i2])\n        return;\n      eosesReceived[i2] = true;\n      if (eosesReceived.filter((a) => a).length === requests.length) {\n        params.oneose?.();\n        handleEose = () => {\n        };\n      }\n    };\n    const closesReceived = [];\n    let handleClose = (i2, reason) => {\n      if (closesReceived[i2])\n        return;\n      handleEose(i2);\n      closesReceived[i2] = reason;\n      if (closesReceived.filter((a) => a).length === requests.length) {\n        params.onclose?.(closesReceived);\n        handleClose = () => {\n        };\n      }\n    };\n    const localAlreadyHaveEventHandler = (id) => {\n      if (params.alreadyHaveEvent?.(id)) {\n        return true;\n      }\n      const have = _knownIds.has(id);\n      _knownIds.add(id);\n      return have;\n    };\n    const allOpened = Promise.all(\n      groupedRequests.map(async ({ url, filters }, i2) => {\n        let relay;\n        try {\n          relay = await this.ensureRelay(url, {\n            connectionTimeout: params.maxWait ? Math.max(params.maxWait * 0.8, params.maxWait - 1e3) : void 0\n          });\n        } catch (err) {\n          handleClose(i2, err?.message || String(err));\n          return;\n        }\n        let subscription = relay.subscribe(filters, {\n          ...params,\n          oneose: () => handleEose(i2),\n          onclose: (reason) => {\n            if (reason.startsWith(\"auth-required: \") && params.onauth) {\n              relay.auth(params.onauth).then(() => {\n                relay.subscribe(filters, {\n                  ...params,\n                  oneose: () => handleEose(i2),\n                  onclose: (reason2) => {\n                    handleClose(i2, reason2);\n                  },\n                  alreadyHaveEvent: localAlreadyHaveEventHandler,\n                  eoseTimeout: params.maxWait\n                });\n              }).catch((err) => {\n                handleClose(i2, `auth was required and attempted, but failed with: ${err}`);\n              });\n            } else {\n              handleClose(i2, reason);\n            }\n          },\n          alreadyHaveEvent: localAlreadyHaveEventHandler,\n          eoseTimeout: params.maxWait\n        });\n        subs.push(subscription);\n      })\n    );\n    return {\n      async close(reason) {\n        await allOpened;\n        subs.forEach((sub) => {\n          sub.close(reason);\n        });\n      }\n    };\n  }\n  subscribeEose(relays, filter, params) {\n    params.onauth = params.onauth || params.doauth;\n    const subcloser = this.subscribe(relays, filter, {\n      ...params,\n      oneose() {\n        subcloser.close(\"closed automatically on eose\");\n      }\n    });\n    return subcloser;\n  }\n  subscribeManyEose(relays, filter, params) {\n    params.onauth = params.onauth || params.doauth;\n    const subcloser = this.subscribeMany(relays, filter, {\n      ...params,\n      oneose() {\n        subcloser.close(\"closed automatically on eose\");\n      }\n    });\n    return subcloser;\n  }\n  async querySync(relays, filter, params) {\n    return new Promise(async (resolve) => {\n      const events = [];\n      this.subscribeEose(relays, filter, {\n        ...params,\n        onevent(event) {\n          events.push(event);\n        },\n        onclose(_) {\n          resolve(events);\n        }\n      });\n    });\n  }\n  async get(relays, filter, params) {\n    filter.limit = 1;\n    const events = await this.querySync(relays, filter, params);\n    events.sort((a, b) => b.created_at - a.created_at);\n    return events[0] || null;\n  }\n  publish(relays, event, options) {\n    return relays.map(normalizeURL).map(async (url, i2, arr) => {\n      if (arr.indexOf(url) !== i2) {\n        return Promise.reject(\"duplicate url\");\n      }\n      let r = await this.ensureRelay(url);\n      return r.publish(event).catch(async (err) => {\n        if (err instanceof Error && err.message.startsWith(\"auth-required: \") && options?.onauth) {\n          await r.auth(options.onauth);\n          return r.publish(event);\n        }\n        throw err;\n      }).then((reason) => {\n        if (this.trackRelays) {\n          let set = this.seenOn.get(event.id);\n          if (!set) {\n            set = /* @__PURE__ */ new Set();\n            this.seenOn.set(event.id, set);\n          }\n          set.add(r);\n        }\n        return reason;\n      });\n    });\n  }\n  listConnectionStatus() {\n    const map = /* @__PURE__ */ new Map();\n    this.relays.forEach((relay, url) => map.set(url, relay.connected));\n    return map;\n  }\n  destroy() {\n    this.relays.forEach((conn) => conn.close());\n    this.relays = /* @__PURE__ */ new Map();\n  }\n};\n\n// pool.ts\nvar _WebSocket2;\ntry {\n  _WebSocket2 = WebSocket;\n} catch {\n}\nvar SimplePool = class extends AbstractSimplePool {\n  constructor(options) {\n    super({ verifyEvent, websocketImplementation: _WebSocket2, ...options });\n  }\n};\n\n// nip19.ts\nvar nip19_exports = {};\n__export(nip19_exports, {\n  BECH32_REGEX: () => BECH32_REGEX,\n  Bech32MaxSize: () => Bech32MaxSize,\n  NostrTypeGuard: () => NostrTypeGuard,\n  decode: () => decode,\n  decodeNostrURI: () => decodeNostrURI,\n  encodeBytes: () => encodeBytes,\n  naddrEncode: () => naddrEncode,\n  neventEncode: () => neventEncode,\n  noteEncode: () => noteEncode,\n  nprofileEncode: () => nprofileEncode,\n  npubEncode: () => npubEncode,\n  nsecEncode: () => nsecEncode\n});\nimport { bytesToHex as bytesToHex3, concatBytes, hexToBytes as hexToBytes2 } from \"@noble/hashes/utils\";\nimport { bech32 } from \"@scure/base\";\nvar NostrTypeGuard = {\n  isNProfile: (value) => /^nprofile1[a-z\\d]+$/.test(value || \"\"),\n  isNEvent: (value) => /^nevent1[a-z\\d]+$/.test(value || \"\"),\n  isNAddr: (value) => /^naddr1[a-z\\d]+$/.test(value || \"\"),\n  isNSec: (value) => /^nsec1[a-z\\d]{58}$/.test(value || \"\"),\n  isNPub: (value) => /^npub1[a-z\\d]{58}$/.test(value || \"\"),\n  isNote: (value) => /^note1[a-z\\d]+$/.test(value || \"\"),\n  isNcryptsec: (value) => /^ncryptsec1[a-z\\d]+$/.test(value || \"\")\n};\nvar Bech32MaxSize = 5e3;\nvar BECH32_REGEX = /[\\x21-\\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;\nfunction integerToUint8Array(number) {\n  const uint8Array = new Uint8Array(4);\n  uint8Array[0] = number >> 24 & 255;\n  uint8Array[1] = number >> 16 & 255;\n  uint8Array[2] = number >> 8 & 255;\n  uint8Array[3] = number & 255;\n  return uint8Array;\n}\nfunction decodeNostrURI(nip19code) {\n  try {\n    if (nip19code.startsWith(\"nostr:\"))\n      nip19code = nip19code.substring(6);\n    return decode(nip19code);\n  } catch (_err) {\n    return { type: \"invalid\", data: null };\n  }\n}\nfunction decode(code) {\n  let { prefix, words } = bech32.decode(code, Bech32MaxSize);\n  let data = new Uint8Array(bech32.fromWords(words));\n  switch (prefix) {\n    case \"nprofile\": {\n      let tlv = parseTLV(data);\n      if (!tlv[0]?.[0])\n        throw new Error(\"missing TLV 0 for nprofile\");\n      if (tlv[0][0].length !== 32)\n        throw new Error(\"TLV 0 should be 32 bytes\");\n      return {\n        type: \"nprofile\",\n        data: {\n          pubkey: bytesToHex3(tlv[0][0]),\n          relays: tlv[1] ? tlv[1].map((d) => utf8Decoder.decode(d)) : []\n        }\n      };\n    }\n    case \"nevent\": {\n      let tlv = parseTLV(data);\n      if (!tlv[0]?.[0])\n        throw new Error(\"missing TLV 0 for nevent\");\n      if (tlv[0][0].length !== 32)\n        throw new Error(\"TLV 0 should be 32 bytes\");\n      if (tlv[2] && tlv[2][0].length !== 32)\n        throw new Error(\"TLV 2 should be 32 bytes\");\n      if (tlv[3] && tlv[3][0].length !== 4)\n        throw new Error(\"TLV 3 should be 4 bytes\");\n      return {\n        type: \"nevent\",\n        data: {\n          id: bytesToHex3(tlv[0][0]),\n          relays: tlv[1] ? tlv[1].map((d) => utf8Decoder.decode(d)) : [],\n          author: tlv[2]?.[0] ? bytesToHex3(tlv[2][0]) : void 0,\n          kind: tlv[3]?.[0] ? parseInt(bytesToHex3(tlv[3][0]), 16) : void 0\n        }\n      };\n    }\n    case \"naddr\": {\n      let tlv = parseTLV(data);\n      if (!tlv[0]?.[0])\n        throw new Error(\"missing TLV 0 for naddr\");\n      if (!tlv[2]?.[0])\n        throw new Error(\"missing TLV 2 for naddr\");\n      if (tlv[2][0].length !== 32)\n        throw new Error(\"TLV 2 should be 32 bytes\");\n      if (!tlv[3]?.[0])\n        throw new Error(\"missing TLV 3 for naddr\");\n      if (tlv[3][0].length !== 4)\n        throw new Error(\"TLV 3 should be 4 bytes\");\n      return {\n        type: \"naddr\",\n        data: {\n          identifier: utf8Decoder.decode(tlv[0][0]),\n          pubkey: bytesToHex3(tlv[2][0]),\n          kind: parseInt(bytesToHex3(tlv[3][0]), 16),\n          relays: tlv[1] ? tlv[1].map((d) => utf8Decoder.decode(d)) : []\n        }\n      };\n    }\n    case \"nsec\":\n      return { type: prefix, data };\n    case \"npub\":\n    case \"note\":\n      return { type: prefix, data: bytesToHex3(data) };\n    default:\n      throw new Error(`unknown prefix ${prefix}`);\n  }\n}\nfunction parseTLV(data) {\n  let result = {};\n  let rest = data;\n  while (rest.length > 0) {\n    let t = rest[0];\n    let l = rest[1];\n    let v = rest.slice(2, 2 + l);\n    rest = rest.slice(2 + l);\n    if (v.length < l)\n      throw new Error(`not enough data to read on TLV ${t}`);\n    result[t] = result[t] || [];\n    result[t].push(v);\n  }\n  return result;\n}\nfunction nsecEncode(key) {\n  return encodeBytes(\"nsec\", key);\n}\nfunction npubEncode(hex) {\n  return encodeBytes(\"npub\", hexToBytes2(hex));\n}\nfunction noteEncode(hex) {\n  return encodeBytes(\"note\", hexToBytes2(hex));\n}\nfunction encodeBech32(prefix, data) {\n  let words = bech32.toWords(data);\n  return bech32.encode(prefix, words, Bech32MaxSize);\n}\nfunction encodeBytes(prefix, bytes) {\n  return encodeBech32(prefix, bytes);\n}\nfunction nprofileEncode(profile) {\n  let data = encodeTLV({\n    0: [hexToBytes2(profile.pubkey)],\n    1: (profile.relays || []).map((url) => utf8Encoder.encode(url))\n  });\n  return encodeBech32(\"nprofile\", data);\n}\nfunction neventEncode(event) {\n  let kindArray;\n  if (event.kind !== void 0) {\n    kindArray = integerToUint8Array(event.kind);\n  }\n  let data = encodeTLV({\n    0: [hexToBytes2(event.id)],\n    1: (event.relays || []).map((url) => utf8Encoder.encode(url)),\n    2: event.author ? [hexToBytes2(event.author)] : [],\n    3: kindArray ? [new Uint8Array(kindArray)] : []\n  });\n  return encodeBech32(\"nevent\", data);\n}\nfunction naddrEncode(addr) {\n  let kind = new ArrayBuffer(4);\n  new DataView(kind).setUint32(0, addr.kind, false);\n  let data = encodeTLV({\n    0: [utf8Encoder.encode(addr.identifier)],\n    1: (addr.relays || []).map((url) => utf8Encoder.encode(url)),\n    2: [hexToBytes2(addr.pubkey)],\n    3: [new Uint8Array(kind)]\n  });\n  return encodeBech32(\"naddr\", data);\n}\nfunction encodeTLV(tlv) {\n  let entries = [];\n  Object.entries(tlv).reverse().forEach(([t, vs]) => {\n    vs.forEach((v) => {\n      let entry = new Uint8Array(v.length + 2);\n      entry.set([parseInt(t)], 0);\n      entry.set([v.length], 1);\n      entry.set(v, 2);\n      entries.push(entry);\n    });\n  });\n  return concatBytes(...entries);\n}\n\n// references.ts\nvar mentionRegex = /\\bnostr:((note|npub|naddr|nevent|nprofile)1\\w+)\\b|#\\[(\\d+)\\]/g;\nfunction parseReferences(evt) {\n  let references = [];\n  for (let ref of evt.content.matchAll(mentionRegex)) {\n    if (ref[2]) {\n      try {\n        let { type, data } = decode(ref[1]);\n        switch (type) {\n          case \"npub\": {\n            references.push({\n              text: ref[0],\n              profile: { pubkey: data, relays: [] }\n            });\n            break;\n          }\n          case \"nprofile\": {\n            references.push({\n              text: ref[0],\n              profile: data\n            });\n            break;\n          }\n          case \"note\": {\n            references.push({\n              text: ref[0],\n              event: { id: data, relays: [] }\n            });\n            break;\n          }\n          case \"nevent\": {\n            references.push({\n              text: ref[0],\n              event: data\n            });\n            break;\n          }\n          case \"naddr\": {\n            references.push({\n              text: ref[0],\n              address: data\n            });\n            break;\n          }\n        }\n      } catch (err) {\n      }\n    } else if (ref[3]) {\n      let idx = parseInt(ref[3], 10);\n      let tag = evt.tags[idx];\n      if (!tag)\n        continue;\n      switch (tag[0]) {\n        case \"p\": {\n          references.push({\n            text: ref[0],\n            profile: { pubkey: tag[1], relays: tag[2] ? [tag[2]] : [] }\n          });\n          break;\n        }\n        case \"e\": {\n          references.push({\n            text: ref[0],\n            event: { id: tag[1], relays: tag[2] ? [tag[2]] : [] }\n          });\n          break;\n        }\n        case \"a\": {\n          try {\n            let [kind, pubkey, identifier] = tag[1].split(\":\");\n            references.push({\n              text: ref[0],\n              address: {\n                identifier,\n                pubkey,\n                kind: parseInt(kind, 10),\n                relays: tag[2] ? [tag[2]] : []\n              }\n            });\n          } catch (err) {\n          }\n          break;\n        }\n      }\n    }\n  }\n  return references;\n}\n\n// nip04.ts\nvar nip04_exports = {};\n__export(nip04_exports, {\n  decrypt: () => decrypt,\n  encrypt: () => encrypt\n});\nimport { bytesToHex as bytesToHex4, randomBytes } from \"@noble/hashes/utils\";\nimport { secp256k1 } from \"@noble/curves/secp256k1\";\nimport { cbc } from \"@noble/ciphers/aes\";\nimport { base64 } from \"@scure/base\";\nfunction encrypt(secretKey, pubkey, text) {\n  const privkey = secretKey instanceof Uint8Array ? bytesToHex4(secretKey) : secretKey;\n  const key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n  const normalizedKey = getNormalizedX(key);\n  let iv = Uint8Array.from(randomBytes(16));\n  let plaintext = utf8Encoder.encode(text);\n  let ciphertext = cbc(normalizedKey, iv).encrypt(plaintext);\n  let ctb64 = base64.encode(new Uint8Array(ciphertext));\n  let ivb64 = base64.encode(new Uint8Array(iv.buffer));\n  return `${ctb64}?iv=${ivb64}`;\n}\nfunction decrypt(secretKey, pubkey, data) {\n  const privkey = secretKey instanceof Uint8Array ? bytesToHex4(secretKey) : secretKey;\n  let [ctb64, ivb64] = data.split(\"?iv=\");\n  let key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n  let normalizedKey = getNormalizedX(key);\n  let iv = base64.decode(ivb64);\n  let ciphertext = base64.decode(ctb64);\n  let plaintext = cbc(normalizedKey, iv).decrypt(ciphertext);\n  return utf8Decoder.decode(plaintext);\n}\nfunction getNormalizedX(key) {\n  return key.slice(1, 33);\n}\n\n// nip05.ts\nvar nip05_exports = {};\n__export(nip05_exports, {\n  NIP05_REGEX: () => NIP05_REGEX,\n  isNip05: () => isNip05,\n  isValid: () => isValid,\n  queryProfile: () => queryProfile,\n  searchDomain: () => searchDomain,\n  useFetchImplementation: () => useFetchImplementation\n});\nvar NIP05_REGEX = /^(?:([\\w.+-]+)@)?([\\w_-]+(\\.[\\w_-]+)+)$/;\nvar isNip05 = (value) => NIP05_REGEX.test(value || \"\");\nvar _fetch;\ntry {\n  _fetch = fetch;\n} catch (_) {\n  null;\n}\nfunction useFetchImplementation(fetchImplementation) {\n  _fetch = fetchImplementation;\n}\nasync function searchDomain(domain, query = \"\") {\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${query}`;\n    const res = await _fetch(url, { redirect: \"manual\" });\n    if (res.status !== 200) {\n      throw Error(\"Wrong response code\");\n    }\n    const json = await res.json();\n    return json.names;\n  } catch (_) {\n    return {};\n  }\n}\nasync function queryProfile(fullname) {\n  const match = fullname.match(NIP05_REGEX);\n  if (!match)\n    return null;\n  const [, name = \"_\", domain] = match;\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${name}`;\n    const res = await _fetch(url, { redirect: \"manual\" });\n    if (res.status !== 200) {\n      throw Error(\"Wrong response code\");\n    }\n    const json = await res.json();\n    const pubkey = json.names[name];\n    return pubkey ? { pubkey, relays: json.relays?.[pubkey] } : null;\n  } catch (_e) {\n    return null;\n  }\n}\nasync function isValid(pubkey, nip05) {\n  const res = await queryProfile(nip05);\n  return res ? res.pubkey === pubkey : false;\n}\n\n// nip10.ts\nvar nip10_exports = {};\n__export(nip10_exports, {\n  parse: () => parse\n});\nfunction parse(event) {\n  const result = {\n    reply: void 0,\n    root: void 0,\n    mentions: [],\n    profiles: [],\n    quotes: []\n  };\n  let maybeParent;\n  let maybeRoot;\n  for (let i2 = event.tags.length - 1; i2 >= 0; i2--) {\n    const tag = event.tags[i2];\n    if (tag[0] === \"e\" && tag[1]) {\n      const [_, eTagEventId, eTagRelayUrl, eTagMarker, eTagAuthor] = tag;\n      const eventPointer = {\n        id: eTagEventId,\n        relays: eTagRelayUrl ? [eTagRelayUrl] : [],\n        author: eTagAuthor\n      };\n      if (eTagMarker === \"root\") {\n        result.root = eventPointer;\n        continue;\n      }\n      if (eTagMarker === \"reply\") {\n        result.reply = eventPointer;\n        continue;\n      }\n      if (eTagMarker === \"mention\") {\n        result.mentions.push(eventPointer);\n        continue;\n      }\n      if (!maybeParent) {\n        maybeParent = eventPointer;\n      } else {\n        maybeRoot = eventPointer;\n      }\n      result.mentions.push(eventPointer);\n      continue;\n    }\n    if (tag[0] === \"q\" && tag[1]) {\n      const [_, eTagEventId, eTagRelayUrl] = tag;\n      result.quotes.push({\n        id: eTagEventId,\n        relays: eTagRelayUrl ? [eTagRelayUrl] : []\n      });\n    }\n    if (tag[0] === \"p\" && tag[1]) {\n      result.profiles.push({\n        pubkey: tag[1],\n        relays: tag[2] ? [tag[2]] : []\n      });\n      continue;\n    }\n  }\n  if (!result.root) {\n    result.root = maybeRoot || maybeParent || result.reply;\n  }\n  if (!result.reply) {\n    result.reply = maybeParent || result.root;\n  }\n  ;\n  [result.reply, result.root].forEach((ref) => {\n    if (!ref)\n      return;\n    let idx = result.mentions.indexOf(ref);\n    if (idx !== -1) {\n      result.mentions.splice(idx, 1);\n    }\n    if (ref.author) {\n      let author = result.profiles.find((p) => p.pubkey === ref.author);\n      if (author && author.relays) {\n        if (!ref.relays) {\n          ref.relays = [];\n        }\n        author.relays.forEach((url) => {\n          if (ref.relays?.indexOf(url) === -1)\n            ref.relays.push(url);\n        });\n        author.relays = ref.relays;\n      }\n    }\n  });\n  result.mentions.forEach((ref) => {\n    if (ref.author) {\n      let author = result.profiles.find((p) => p.pubkey === ref.author);\n      if (author && author.relays) {\n        if (!ref.relays) {\n          ref.relays = [];\n        }\n        author.relays.forEach((url) => {\n          if (ref.relays.indexOf(url) === -1)\n            ref.relays.push(url);\n        });\n        author.relays = ref.relays;\n      }\n    }\n  });\n  return result;\n}\n\n// nip11.ts\nvar nip11_exports = {};\n__export(nip11_exports, {\n  fetchRelayInformation: () => fetchRelayInformation,\n  useFetchImplementation: () => useFetchImplementation2\n});\nvar _fetch2;\ntry {\n  _fetch2 = fetch;\n} catch {\n}\nfunction useFetchImplementation2(fetchImplementation) {\n  _fetch2 = fetchImplementation;\n}\nasync function fetchRelayInformation(url) {\n  return await (await fetch(url.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\"), {\n    headers: { Accept: \"application/nostr+json\" }\n  })).json();\n}\n\n// nip13.ts\nvar nip13_exports = {};\n__export(nip13_exports, {\n  fastEventHash: () => fastEventHash,\n  getPow: () => getPow,\n  minePow: () => minePow\n});\nimport { bytesToHex as bytesToHex5 } from \"@noble/hashes/utils\";\nimport { sha256 as sha2562 } from \"@noble/hashes/sha256\";\nfunction getPow(hex) {\n  let count = 0;\n  for (let i2 = 0; i2 < 64; i2 += 8) {\n    const nibble = parseInt(hex.substring(i2, i2 + 8), 16);\n    if (nibble === 0) {\n      count += 32;\n    } else {\n      count += Math.clz32(nibble);\n      break;\n    }\n  }\n  return count;\n}\nfunction minePow(unsigned, difficulty) {\n  let count = 0;\n  const event = unsigned;\n  const tag = [\"nonce\", count.toString(), difficulty.toString()];\n  event.tags.push(tag);\n  while (true) {\n    const now2 = Math.floor(new Date().getTime() / 1e3);\n    if (now2 !== event.created_at) {\n      count = 0;\n      event.created_at = now2;\n    }\n    tag[1] = (++count).toString();\n    event.id = fastEventHash(event);\n    if (getPow(event.id) >= difficulty) {\n      break;\n    }\n  }\n  return event;\n}\nfunction fastEventHash(evt) {\n  return bytesToHex5(\n    sha2562(utf8Encoder.encode(JSON.stringify([0, evt.pubkey, evt.created_at, evt.kind, evt.tags, evt.content])))\n  );\n}\n\n// nip17.ts\nvar nip17_exports = {};\n__export(nip17_exports, {\n  unwrapEvent: () => unwrapEvent2,\n  unwrapManyEvents: () => unwrapManyEvents2,\n  wrapEvent: () => wrapEvent2,\n  wrapManyEvents: () => wrapManyEvents2\n});\n\n// nip59.ts\nvar nip59_exports = {};\n__export(nip59_exports, {\n  createRumor: () => createRumor,\n  createSeal: () => createSeal,\n  createWrap: () => createWrap,\n  unwrapEvent: () => unwrapEvent,\n  unwrapManyEvents: () => unwrapManyEvents,\n  wrapEvent: () => wrapEvent,\n  wrapManyEvents: () => wrapManyEvents\n});\n\n// nip44.ts\nvar nip44_exports = {};\n__export(nip44_exports, {\n  decrypt: () => decrypt2,\n  encrypt: () => encrypt2,\n  getConversationKey: () => getConversationKey,\n  v2: () => v2\n});\nimport { chacha20 } from \"@noble/ciphers/chacha\";\nimport { equalBytes } from \"@noble/ciphers/utils\";\nimport { secp256k1 as secp256k12 } from \"@noble/curves/secp256k1\";\nimport { extract as hkdf_extract, expand as hkdf_expand } from \"@noble/hashes/hkdf\";\nimport { hmac } from \"@noble/hashes/hmac\";\nimport { sha256 as sha2563 } from \"@noble/hashes/sha256\";\nimport { concatBytes as concatBytes2, randomBytes as randomBytes2 } from \"@noble/hashes/utils\";\nimport { base64 as base642 } from \"@scure/base\";\nvar minPlaintextSize = 1;\nvar maxPlaintextSize = 65535;\nfunction getConversationKey(privkeyA, pubkeyB) {\n  const sharedX = secp256k12.getSharedSecret(privkeyA, \"02\" + pubkeyB).subarray(1, 33);\n  return hkdf_extract(sha2563, sharedX, \"nip44-v2\");\n}\nfunction getMessageKeys(conversationKey, nonce) {\n  const keys = hkdf_expand(sha2563, conversationKey, nonce, 76);\n  return {\n    chacha_key: keys.subarray(0, 32),\n    chacha_nonce: keys.subarray(32, 44),\n    hmac_key: keys.subarray(44, 76)\n  };\n}\nfunction calcPaddedLen(len) {\n  if (!Number.isSafeInteger(len) || len < 1)\n    throw new Error(\"expected positive integer\");\n  if (len <= 32)\n    return 32;\n  const nextPower = 1 << Math.floor(Math.log2(len - 1)) + 1;\n  const chunk = nextPower <= 256 ? 32 : nextPower / 8;\n  return chunk * (Math.floor((len - 1) / chunk) + 1);\n}\nfunction writeU16BE(num) {\n  if (!Number.isSafeInteger(num) || num < minPlaintextSize || num > maxPlaintextSize)\n    throw new Error(\"invalid plaintext size: must be between 1 and 65535 bytes\");\n  const arr = new Uint8Array(2);\n  new DataView(arr.buffer).setUint16(0, num, false);\n  return arr;\n}\nfunction pad(plaintext) {\n  const unpadded = utf8Encoder.encode(plaintext);\n  const unpaddedLen = unpadded.length;\n  const prefix = writeU16BE(unpaddedLen);\n  const suffix = new Uint8Array(calcPaddedLen(unpaddedLen) - unpaddedLen);\n  return concatBytes2(prefix, unpadded, suffix);\n}\nfunction unpad(padded) {\n  const unpaddedLen = new DataView(padded.buffer).getUint16(0);\n  const unpadded = padded.subarray(2, 2 + unpaddedLen);\n  if (unpaddedLen < minPlaintextSize || unpaddedLen > maxPlaintextSize || unpadded.length !== unpaddedLen || padded.length !== 2 + calcPaddedLen(unpaddedLen))\n    throw new Error(\"invalid padding\");\n  return utf8Decoder.decode(unpadded);\n}\nfunction hmacAad(key, message, aad) {\n  if (aad.length !== 32)\n    throw new Error(\"AAD associated data must be 32 bytes\");\n  const combined = concatBytes2(aad, message);\n  return hmac(sha2563, key, combined);\n}\nfunction decodePayload(payload) {\n  if (typeof payload !== \"string\")\n    throw new Error(\"payload must be a valid string\");\n  const plen = payload.length;\n  if (plen < 132 || plen > 87472)\n    throw new Error(\"invalid payload length: \" + plen);\n  if (payload[0] === \"#\")\n    throw new Error(\"unknown encryption version\");\n  let data;\n  try {\n    data = base642.decode(payload);\n  } catch (error) {\n    throw new Error(\"invalid base64: \" + error.message);\n  }\n  const dlen = data.length;\n  if (dlen < 99 || dlen > 65603)\n    throw new Error(\"invalid data length: \" + dlen);\n  const vers = data[0];\n  if (vers !== 2)\n    throw new Error(\"unknown encryption version \" + vers);\n  return {\n    nonce: data.subarray(1, 33),\n    ciphertext: data.subarray(33, -32),\n    mac: data.subarray(-32)\n  };\n}\nfunction encrypt2(plaintext, conversationKey, nonce = randomBytes2(32)) {\n  const { chacha_key, chacha_nonce, hmac_key } = getMessageKeys(conversationKey, nonce);\n  const padded = pad(plaintext);\n  const ciphertext = chacha20(chacha_key, chacha_nonce, padded);\n  const mac = hmacAad(hmac_key, ciphertext, nonce);\n  return base642.encode(concatBytes2(new Uint8Array([2]), nonce, ciphertext, mac));\n}\nfunction decrypt2(payload, conversationKey) {\n  const { nonce, ciphertext, mac } = decodePayload(payload);\n  const { chacha_key, chacha_nonce, hmac_key } = getMessageKeys(conversationKey, nonce);\n  const calculatedMac = hmacAad(hmac_key, ciphertext, nonce);\n  if (!equalBytes(calculatedMac, mac))\n    throw new Error(\"invalid MAC\");\n  const padded = chacha20(chacha_key, chacha_nonce, ciphertext);\n  return unpad(padded);\n}\nvar v2 = {\n  utils: {\n    getConversationKey,\n    calcPaddedLen\n  },\n  encrypt: encrypt2,\n  decrypt: decrypt2\n};\n\n// nip59.ts\nvar TWO_DAYS = 2 * 24 * 60 * 60;\nvar now = () => Math.round(Date.now() / 1e3);\nvar randomNow = () => Math.round(now() - Math.random() * TWO_DAYS);\nvar nip44ConversationKey = (privateKey, publicKey) => getConversationKey(privateKey, publicKey);\nvar nip44Encrypt = (data, privateKey, publicKey) => encrypt2(JSON.stringify(data), nip44ConversationKey(privateKey, publicKey));\nvar nip44Decrypt = (data, privateKey) => JSON.parse(decrypt2(data.content, nip44ConversationKey(privateKey, data.pubkey)));\nfunction createRumor(event, privateKey) {\n  const rumor = {\n    created_at: now(),\n    content: \"\",\n    tags: [],\n    ...event,\n    pubkey: getPublicKey(privateKey)\n  };\n  rumor.id = getEventHash(rumor);\n  return rumor;\n}\nfunction createSeal(rumor, privateKey, recipientPublicKey) {\n  return finalizeEvent(\n    {\n      kind: Seal,\n      content: nip44Encrypt(rumor, privateKey, recipientPublicKey),\n      created_at: randomNow(),\n      tags: []\n    },\n    privateKey\n  );\n}\nfunction createWrap(seal, recipientPublicKey) {\n  const randomKey = generateSecretKey();\n  return finalizeEvent(\n    {\n      kind: GiftWrap,\n      content: nip44Encrypt(seal, randomKey, recipientPublicKey),\n      created_at: randomNow(),\n      tags: [[\"p\", recipientPublicKey]]\n    },\n    randomKey\n  );\n}\nfunction wrapEvent(event, senderPrivateKey, recipientPublicKey) {\n  const rumor = createRumor(event, senderPrivateKey);\n  const seal = createSeal(rumor, senderPrivateKey, recipientPublicKey);\n  return createWrap(seal, recipientPublicKey);\n}\nfunction wrapManyEvents(event, senderPrivateKey, recipientsPublicKeys) {\n  if (!recipientsPublicKeys || recipientsPublicKeys.length === 0) {\n    throw new Error(\"At least one recipient is required.\");\n  }\n  const senderPublicKey = getPublicKey(senderPrivateKey);\n  const wrappeds = [wrapEvent(event, senderPrivateKey, senderPublicKey)];\n  recipientsPublicKeys.forEach((recipientPublicKey) => {\n    wrappeds.push(wrapEvent(event, senderPrivateKey, recipientPublicKey));\n  });\n  return wrappeds;\n}\nfunction unwrapEvent(wrap, recipientPrivateKey) {\n  const unwrappedSeal = nip44Decrypt(wrap, recipientPrivateKey);\n  return nip44Decrypt(unwrappedSeal, recipientPrivateKey);\n}\nfunction unwrapManyEvents(wrappedEvents, recipientPrivateKey) {\n  let unwrappedEvents = [];\n  wrappedEvents.forEach((e) => {\n    unwrappedEvents.push(unwrapEvent(e, recipientPrivateKey));\n  });\n  unwrappedEvents.sort((a, b) => a.created_at - b.created_at);\n  return unwrappedEvents;\n}\n\n// nip17.ts\nfunction createEvent(recipients, message, conversationTitle, replyTo) {\n  const baseEvent = {\n    created_at: Math.ceil(Date.now() / 1e3),\n    kind: PrivateDirectMessage,\n    tags: [],\n    content: message\n  };\n  const recipientsArray = Array.isArray(recipients) ? recipients : [recipients];\n  recipientsArray.forEach(({ publicKey, relayUrl }) => {\n    baseEvent.tags.push(relayUrl ? [\"p\", publicKey, relayUrl] : [\"p\", publicKey]);\n  });\n  if (replyTo) {\n    baseEvent.tags.push([\"e\", replyTo.eventId, replyTo.relayUrl || \"\", \"reply\"]);\n  }\n  if (conversationTitle) {\n    baseEvent.tags.push([\"subject\", conversationTitle]);\n  }\n  return baseEvent;\n}\nfunction wrapEvent2(senderPrivateKey, recipient, message, conversationTitle, replyTo) {\n  const event = createEvent(recipient, message, conversationTitle, replyTo);\n  return wrapEvent(event, senderPrivateKey, recipient.publicKey);\n}\nfunction wrapManyEvents2(senderPrivateKey, recipients, message, conversationTitle, replyTo) {\n  if (!recipients || recipients.length === 0) {\n    throw new Error(\"At least one recipient is required.\");\n  }\n  const senderPublicKey = getPublicKey(senderPrivateKey);\n  return [{ publicKey: senderPublicKey }, ...recipients].map(\n    (recipient) => wrapEvent2(senderPrivateKey, recipient, message, conversationTitle, replyTo)\n  );\n}\nvar unwrapEvent2 = unwrapEvent;\nvar unwrapManyEvents2 = unwrapManyEvents;\n\n// nip18.ts\nvar nip18_exports = {};\n__export(nip18_exports, {\n  finishRepostEvent: () => finishRepostEvent,\n  getRepostedEvent: () => getRepostedEvent,\n  getRepostedEventPointer: () => getRepostedEventPointer\n});\nfunction finishRepostEvent(t, reposted, relayUrl, privateKey) {\n  let kind;\n  const tags = [...t.tags ?? [], [\"e\", reposted.id, relayUrl], [\"p\", reposted.pubkey]];\n  if (reposted.kind === ShortTextNote) {\n    kind = Repost;\n  } else {\n    kind = GenericRepost;\n    tags.push([\"k\", String(reposted.kind)]);\n  }\n  return finalizeEvent(\n    {\n      kind,\n      tags,\n      content: t.content === \"\" || reposted.tags?.find((tag) => tag[0] === \"-\") ? \"\" : JSON.stringify(reposted),\n      created_at: t.created_at\n    },\n    privateKey\n  );\n}\nfunction getRepostedEventPointer(event) {\n  if (![Repost, GenericRepost].includes(event.kind)) {\n    return void 0;\n  }\n  let lastETag;\n  let lastPTag;\n  for (let i2 = event.tags.length - 1; i2 >= 0 && (lastETag === void 0 || lastPTag === void 0); i2--) {\n    const tag = event.tags[i2];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], lastPTag?.[2]].filter((x) => typeof x === \"string\"),\n    author: lastPTag?.[1]\n  };\n}\nfunction getRepostedEvent(event, { skipVerification } = {}) {\n  const pointer = getRepostedEventPointer(event);\n  if (pointer === void 0 || event.content === \"\") {\n    return void 0;\n  }\n  let repostedEvent;\n  try {\n    repostedEvent = JSON.parse(event.content);\n  } catch (error) {\n    return void 0;\n  }\n  if (repostedEvent.id !== pointer.id) {\n    return void 0;\n  }\n  if (!skipVerification && !verifyEvent(repostedEvent)) {\n    return void 0;\n  }\n  return repostedEvent;\n}\n\n// nip21.ts\nvar nip21_exports = {};\n__export(nip21_exports, {\n  NOSTR_URI_REGEX: () => NOSTR_URI_REGEX,\n  parse: () => parse2,\n  test: () => test\n});\nvar NOSTR_URI_REGEX = new RegExp(`nostr:(${BECH32_REGEX.source})`);\nfunction test(value) {\n  return typeof value === \"string\" && new RegExp(`^${NOSTR_URI_REGEX.source}$`).test(value);\n}\nfunction parse2(uri) {\n  const match = uri.match(new RegExp(`^${NOSTR_URI_REGEX.source}$`));\n  if (!match)\n    throw new Error(`Invalid Nostr URI: ${uri}`);\n  return {\n    uri: match[0],\n    value: match[1],\n    decoded: decode(match[1])\n  };\n}\n\n// nip25.ts\nvar nip25_exports = {};\n__export(nip25_exports, {\n  finishReactionEvent: () => finishReactionEvent,\n  getReactedEventPointer: () => getReactedEventPointer\n});\nfunction finishReactionEvent(t, reacted, privateKey) {\n  const inheritedTags = reacted.tags.filter((tag) => tag.length >= 2 && (tag[0] === \"e\" || tag[0] === \"p\"));\n  return finalizeEvent(\n    {\n      ...t,\n      kind: Reaction,\n      tags: [...t.tags ?? [], ...inheritedTags, [\"e\", reacted.id], [\"p\", reacted.pubkey]],\n      content: t.content ?? \"+\"\n    },\n    privateKey\n  );\n}\nfunction getReactedEventPointer(event) {\n  if (event.kind !== Reaction) {\n    return void 0;\n  }\n  let lastETag;\n  let lastPTag;\n  for (let i2 = event.tags.length - 1; i2 >= 0 && (lastETag === void 0 || lastPTag === void 0); i2--) {\n    const tag = event.tags[i2];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0 || lastPTag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], lastPTag[2]].filter((x) => x !== void 0),\n    author: lastPTag[1]\n  };\n}\n\n// nip27.ts\nvar nip27_exports = {};\n__export(nip27_exports, {\n  parse: () => parse3\n});\nvar noCharacter = /\\W/m;\nvar noURLCharacter = /\\W |\\W$|$|,| /m;\nfunction* parse3(content) {\n  const max = content.length;\n  let prevIndex = 0;\n  let index = 0;\n  while (index < max) {\n    let u = content.indexOf(\":\", index);\n    if (u === -1) {\n      break;\n    }\n    if (content.substring(u - 5, u) === \"nostr\") {\n      const m = content.substring(u + 60).match(noCharacter);\n      const end = m ? u + 60 + m.index : max;\n      try {\n        let pointer;\n        let { data, type } = decode(content.substring(u + 1, end));\n        switch (type) {\n          case \"npub\":\n            pointer = { pubkey: data };\n            break;\n          case \"nsec\":\n          case \"note\":\n            index = end + 1;\n            continue;\n          default:\n            pointer = data;\n        }\n        if (prevIndex !== u - 5) {\n          yield { type: \"text\", text: content.substring(prevIndex, u - 5) };\n        }\n        yield { type: \"reference\", pointer };\n        index = end;\n        prevIndex = index;\n        continue;\n      } catch (_err) {\n        index = u + 1;\n        continue;\n      }\n    } else if (content.substring(u - 5, u) === \"https\" || content.substring(u - 4, u) === \"http\") {\n      const m = content.substring(u + 4).match(noURLCharacter);\n      const end = m ? u + 4 + m.index : max;\n      const prefixLen = content[u - 1] === \"s\" ? 5 : 4;\n      try {\n        let url = new URL(content.substring(u - prefixLen, end));\n        if (url.hostname.indexOf(\".\") === -1) {\n          throw new Error(\"invalid url\");\n        }\n        if (prevIndex !== u - prefixLen) {\n          yield { type: \"text\", text: content.substring(prevIndex, u - prefixLen) };\n        }\n        if (/\\.(png|jpe?g|gif|webp)$/i.test(url.pathname)) {\n          yield { type: \"image\", url: url.toString() };\n          index = end;\n          prevIndex = index;\n          continue;\n        }\n        if (/\\.(mp4|avi|webm|mkv)$/i.test(url.pathname)) {\n          yield { type: \"video\", url: url.toString() };\n          index = end;\n          prevIndex = index;\n          continue;\n        }\n        if (/\\.(mp3|aac|ogg|opus)$/i.test(url.pathname)) {\n          yield { type: \"audio\", url: url.toString() };\n          index = end;\n          prevIndex = index;\n          continue;\n        }\n        yield { type: \"url\", url: url.toString() };\n        index = end;\n        prevIndex = index;\n        continue;\n      } catch (_err) {\n        index = end + 1;\n        continue;\n      }\n    } else if (content.substring(u - 3, u) === \"wss\" || content.substring(u - 2, u) === \"ws\") {\n      const m = content.substring(u + 4).match(noURLCharacter);\n      const end = m ? u + 4 + m.index : max;\n      const prefixLen = content[u - 1] === \"s\" ? 3 : 2;\n      try {\n        let url = new URL(content.substring(u - prefixLen, end));\n        if (url.hostname.indexOf(\".\") === -1) {\n          throw new Error(\"invalid ws url\");\n        }\n        if (prevIndex !== u - prefixLen) {\n          yield { type: \"text\", text: content.substring(prevIndex, u - prefixLen) };\n        }\n        yield { type: \"relay\", url: url.toString() };\n        index = end;\n        prevIndex = index;\n        continue;\n      } catch (_err) {\n        index = end + 1;\n        continue;\n      }\n    } else {\n      index = u + 1;\n      continue;\n    }\n  }\n  if (prevIndex !== max) {\n    yield { type: \"text\", text: content.substring(prevIndex) };\n  }\n}\n\n// nip28.ts\nvar nip28_exports = {};\n__export(nip28_exports, {\n  channelCreateEvent: () => channelCreateEvent,\n  channelHideMessageEvent: () => channelHideMessageEvent,\n  channelMessageEvent: () => channelMessageEvent,\n  channelMetadataEvent: () => channelMetadataEvent,\n  channelMuteUserEvent: () => channelMuteUserEvent\n});\nvar channelCreateEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelCreation,\n      tags: [...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelMetadataEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelMetadata,\n      tags: [[\"e\", t.channel_create_event_id], ...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelMessageEvent = (t, privateKey) => {\n  const tags = [[\"e\", t.channel_create_event_id, t.relay_url, \"root\"]];\n  if (t.reply_to_channel_message_event_id) {\n    tags.push([\"e\", t.reply_to_channel_message_event_id, t.relay_url, \"reply\"]);\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelMessage,\n      tags: [...tags, ...t.tags ?? []],\n      content: t.content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelHideMessageEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelHideMessage,\n      tags: [[\"e\", t.channel_message_event_id], ...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\nvar channelMuteUserEvent = (t, privateKey) => {\n  let content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finalizeEvent(\n    {\n      kind: ChannelMuteUser,\n      tags: [[\"p\", t.pubkey_to_mute], ...t.tags ?? []],\n      content,\n      created_at: t.created_at\n    },\n    privateKey\n  );\n};\n\n// nip30.ts\nvar nip30_exports = {};\n__export(nip30_exports, {\n  EMOJI_SHORTCODE_REGEX: () => EMOJI_SHORTCODE_REGEX,\n  matchAll: () => matchAll,\n  regex: () => regex,\n  replaceAll: () => replaceAll\n});\nvar EMOJI_SHORTCODE_REGEX = /:(\\w+):/;\nvar regex = () => new RegExp(`\\\\B${EMOJI_SHORTCODE_REGEX.source}\\\\B`, \"g\");\nfunction* matchAll(content) {\n  const matches = content.matchAll(regex());\n  for (const match of matches) {\n    try {\n      const [shortcode, name] = match;\n      yield {\n        shortcode,\n        name,\n        start: match.index,\n        end: match.index + shortcode.length\n      };\n    } catch (_e) {\n    }\n  }\n}\nfunction replaceAll(content, replacer) {\n  return content.replaceAll(regex(), (shortcode, name) => {\n    return replacer({\n      shortcode,\n      name\n    });\n  });\n}\n\n// nip39.ts\nvar nip39_exports = {};\n__export(nip39_exports, {\n  useFetchImplementation: () => useFetchImplementation3,\n  validateGithub: () => validateGithub\n});\nvar _fetch3;\ntry {\n  _fetch3 = fetch;\n} catch {\n}\nfunction useFetchImplementation3(fetchImplementation) {\n  _fetch3 = fetchImplementation;\n}\nasync function validateGithub(pubkey, username, proof) {\n  try {\n    let res = await (await _fetch3(`https://gist.github.com/${username}/${proof}/raw`)).text();\n    return res === `Verifying that I control the following Nostr public key: ${pubkey}`;\n  } catch (_) {\n    return false;\n  }\n}\n\n// nip47.ts\nvar nip47_exports = {};\n__export(nip47_exports, {\n  makeNwcRequestEvent: () => makeNwcRequestEvent,\n  parseConnectionString: () => parseConnectionString\n});\nfunction parseConnectionString(connectionString) {\n  const { host, pathname, searchParams } = new URL(connectionString);\n  const pubkey = pathname || host;\n  const relay = searchParams.get(\"relay\");\n  const secret = searchParams.get(\"secret\");\n  if (!pubkey || !relay || !secret) {\n    throw new Error(\"invalid connection string\");\n  }\n  return { pubkey, relay, secret };\n}\nasync function makeNwcRequestEvent(pubkey, secretKey, invoice) {\n  const content = {\n    method: \"pay_invoice\",\n    params: {\n      invoice\n    }\n  };\n  const encryptedContent = encrypt(secretKey, pubkey, JSON.stringify(content));\n  const eventTemplate = {\n    kind: NWCWalletRequest,\n    created_at: Math.round(Date.now() / 1e3),\n    content: encryptedContent,\n    tags: [[\"p\", pubkey]]\n  };\n  return finalizeEvent(eventTemplate, secretKey);\n}\n\n// nip54.ts\nvar nip54_exports = {};\n__export(nip54_exports, {\n  normalizeIdentifier: () => normalizeIdentifier\n});\nfunction normalizeIdentifier(name) {\n  name = name.trim().toLowerCase();\n  name = name.normalize(\"NFKC\");\n  return Array.from(name).map((char) => {\n    if (/\\p{Letter}/u.test(char) || /\\p{Number}/u.test(char)) {\n      return char;\n    }\n    return \"-\";\n  }).join(\"\");\n}\n\n// nip57.ts\nvar nip57_exports = {};\n__export(nip57_exports, {\n  getSatoshisAmountFromBolt11: () => getSatoshisAmountFromBolt11,\n  getZapEndpoint: () => getZapEndpoint,\n  makeZapReceipt: () => makeZapReceipt,\n  makeZapRequest: () => makeZapRequest,\n  useFetchImplementation: () => useFetchImplementation4,\n  validateZapRequest: () => validateZapRequest\n});\nimport { bech32 as bech322 } from \"@scure/base\";\nvar _fetch4;\ntry {\n  _fetch4 = fetch;\n} catch {\n}\nfunction useFetchImplementation4(fetchImplementation) {\n  _fetch4 = fetchImplementation;\n}\nasync function getZapEndpoint(metadata) {\n  try {\n    let lnurl = \"\";\n    let { lud06, lud16 } = JSON.parse(metadata.content);\n    if (lud06) {\n      let { words } = bech322.decode(lud06, 1e3);\n      let data = bech322.fromWords(words);\n      lnurl = utf8Decoder.decode(data);\n    } else if (lud16) {\n      let [name, domain] = lud16.split(\"@\");\n      lnurl = new URL(`/.well-known/lnurlp/${name}`, `https://${domain}`).toString();\n    } else {\n      return null;\n    }\n    let res = await _fetch4(lnurl);\n    let body = await res.json();\n    if (body.allowsNostr && body.nostrPubkey) {\n      return body.callback;\n    }\n  } catch (err) {\n  }\n  return null;\n}\nfunction makeZapRequest(params) {\n  let zr = {\n    kind: 9734,\n    created_at: Math.round(Date.now() / 1e3),\n    content: params.comment || \"\",\n    tags: [\n      [\"p\", \"pubkey\" in params ? params.pubkey : params.event.pubkey],\n      [\"amount\", params.amount.toString()],\n      [\"relays\", ...params.relays]\n    ]\n  };\n  if (\"event\" in params) {\n    zr.tags.push([\"e\", params.event.id]);\n    if (isReplaceableKind(params.event.kind)) {\n      const a = [\"a\", `${params.event.kind}:${params.event.pubkey}:`];\n      zr.tags.push(a);\n    } else if (isAddressableKind(params.event.kind)) {\n      let d = params.event.tags.find(([t, v]) => t === \"d\" && v);\n      if (!d)\n        throw new Error(\"d tag not found or is empty\");\n      const a = [\"a\", `${params.event.kind}:${params.event.pubkey}:${d[1]}`];\n      zr.tags.push(a);\n    }\n    zr.tags.push([\"k\", params.event.kind.toString()]);\n  }\n  return zr;\n}\nfunction validateZapRequest(zapRequestString) {\n  let zapRequest;\n  try {\n    zapRequest = JSON.parse(zapRequestString);\n  } catch (err) {\n    return \"Invalid zap request JSON.\";\n  }\n  if (!validateEvent(zapRequest))\n    return \"Zap request is not a valid Nostr event.\";\n  if (!verifyEvent(zapRequest))\n    return \"Invalid signature on zap request.\";\n  let p = zapRequest.tags.find(([t, v]) => t === \"p\" && v);\n  if (!p)\n    return \"Zap request doesn't have a 'p' tag.\";\n  if (!p[1].match(/^[a-f0-9]{64}$/))\n    return \"Zap request 'p' tag is not valid hex.\";\n  let e = zapRequest.tags.find(([t, v]) => t === \"e\" && v);\n  if (e && !e[1].match(/^[a-f0-9]{64}$/))\n    return \"Zap request 'e' tag is not valid hex.\";\n  let relays = zapRequest.tags.find(([t, v]) => t === \"relays\" && v);\n  if (!relays)\n    return \"Zap request doesn't have a 'relays' tag.\";\n  return null;\n}\nfunction makeZapReceipt({\n  zapRequest,\n  preimage,\n  bolt11,\n  paidAt\n}) {\n  let zr = JSON.parse(zapRequest);\n  let tagsFromZapRequest = zr.tags.filter(([t]) => t === \"e\" || t === \"p\" || t === \"a\");\n  let zap = {\n    kind: 9735,\n    created_at: Math.round(paidAt.getTime() / 1e3),\n    content: \"\",\n    tags: [...tagsFromZapRequest, [\"P\", zr.pubkey], [\"bolt11\", bolt11], [\"description\", zapRequest]]\n  };\n  if (preimage) {\n    zap.tags.push([\"preimage\", preimage]);\n  }\n  return zap;\n}\nfunction getSatoshisAmountFromBolt11(bolt11) {\n  if (bolt11.length < 50) {\n    return 0;\n  }\n  bolt11 = bolt11.substring(0, 50);\n  const idx = bolt11.lastIndexOf(\"1\");\n  if (idx === -1) {\n    return 0;\n  }\n  const hrp = bolt11.substring(0, idx);\n  if (!hrp.startsWith(\"lnbc\")) {\n    return 0;\n  }\n  const amount = hrp.substring(4);\n  if (amount.length < 1) {\n    return 0;\n  }\n  const char = amount[amount.length - 1];\n  const digit = char.charCodeAt(0) - \"0\".charCodeAt(0);\n  const isDigit = digit >= 0 && digit <= 9;\n  let cutPoint = amount.length - 1;\n  if (isDigit) {\n    cutPoint++;\n  }\n  if (cutPoint < 1) {\n    return 0;\n  }\n  const num = parseInt(amount.substring(0, cutPoint));\n  switch (char) {\n    case \"m\":\n      return num * 1e5;\n    case \"u\":\n      return num * 100;\n    case \"n\":\n      return num / 10;\n    case \"p\":\n      return num / 1e4;\n    default:\n      return num * 1e8;\n  }\n}\n\n// nip98.ts\nvar nip98_exports = {};\n__export(nip98_exports, {\n  getToken: () => getToken,\n  hashPayload: () => hashPayload,\n  unpackEventFromToken: () => unpackEventFromToken,\n  validateEvent: () => validateEvent2,\n  validateEventKind: () => validateEventKind,\n  validateEventMethodTag: () => validateEventMethodTag,\n  validateEventPayloadTag: () => validateEventPayloadTag,\n  validateEventTimestamp: () => validateEventTimestamp,\n  validateEventUrlTag: () => validateEventUrlTag,\n  validateToken: () => validateToken\n});\nimport { sha256 as sha2564 } from \"@noble/hashes/sha256\";\nimport { bytesToHex as bytesToHex6 } from \"@noble/hashes/utils\";\nimport { base64 as base643 } from \"@scure/base\";\nvar _authorizationScheme = \"Nostr \";\nasync function getToken(loginUrl, httpMethod, sign, includeAuthorizationScheme = false, payload) {\n  const event = {\n    kind: HTTPAuth,\n    tags: [\n      [\"u\", loginUrl],\n      [\"method\", httpMethod]\n    ],\n    created_at: Math.round(new Date().getTime() / 1e3),\n    content: \"\"\n  };\n  if (payload) {\n    event.tags.push([\"payload\", hashPayload(payload)]);\n  }\n  const signedEvent = await sign(event);\n  const authorizationScheme = includeAuthorizationScheme ? _authorizationScheme : \"\";\n  return authorizationScheme + base643.encode(utf8Encoder.encode(JSON.stringify(signedEvent)));\n}\nasync function validateToken(token, url, method) {\n  const event = await unpackEventFromToken(token).catch((error) => {\n    throw error;\n  });\n  const valid = await validateEvent2(event, url, method).catch((error) => {\n    throw error;\n  });\n  return valid;\n}\nasync function unpackEventFromToken(token) {\n  if (!token) {\n    throw new Error(\"Missing token\");\n  }\n  token = token.replace(_authorizationScheme, \"\");\n  const eventB64 = utf8Decoder.decode(base643.decode(token));\n  if (!eventB64 || eventB64.length === 0 || !eventB64.startsWith(\"{\")) {\n    throw new Error(\"Invalid token\");\n  }\n  const event = JSON.parse(eventB64);\n  return event;\n}\nfunction validateEventTimestamp(event) {\n  if (!event.created_at) {\n    return false;\n  }\n  return Math.round(new Date().getTime() / 1e3) - event.created_at < 60;\n}\nfunction validateEventKind(event) {\n  return event.kind === HTTPAuth;\n}\nfunction validateEventUrlTag(event, url) {\n  const urlTag = event.tags.find((t) => t[0] === \"u\");\n  if (!urlTag) {\n    return false;\n  }\n  return urlTag.length > 0 && urlTag[1] === url;\n}\nfunction validateEventMethodTag(event, method) {\n  const methodTag = event.tags.find((t) => t[0] === \"method\");\n  if (!methodTag) {\n    return false;\n  }\n  return methodTag.length > 0 && methodTag[1].toLowerCase() === method.toLowerCase();\n}\nfunction hashPayload(payload) {\n  const hash = sha2564(utf8Encoder.encode(JSON.stringify(payload)));\n  return bytesToHex6(hash);\n}\nfunction validateEventPayloadTag(event, payload) {\n  const payloadTag = event.tags.find((t) => t[0] === \"payload\");\n  if (!payloadTag) {\n    return false;\n  }\n  const payloadHash = hashPayload(payload);\n  return payloadTag.length > 0 && payloadTag[1] === payloadHash;\n}\nasync function validateEvent2(event, url, method, body) {\n  if (!verifyEvent(event)) {\n    throw new Error(\"Invalid nostr event, signature invalid\");\n  }\n  if (!validateEventKind(event)) {\n    throw new Error(\"Invalid nostr event, kind invalid\");\n  }\n  if (!validateEventTimestamp(event)) {\n    throw new Error(\"Invalid nostr event, created_at timestamp invalid\");\n  }\n  if (!validateEventUrlTag(event, url)) {\n    throw new Error(\"Invalid nostr event, url tag invalid\");\n  }\n  if (!validateEventMethodTag(event, method)) {\n    throw new Error(\"Invalid nostr event, method tag invalid\");\n  }\n  if (Boolean(body) && typeof body === \"object\" && Object.keys(body).length > 0) {\n    if (!validateEventPayloadTag(event, body)) {\n      throw new Error(\"Invalid nostr event, payload tag does not match request body hash\");\n    }\n  }\n  return true;\n}\nexport {\n  Relay,\n  SimplePool,\n  finalizeEvent,\n  fakejson_exports as fj,\n  generateSecretKey,\n  getEventHash,\n  getFilterLimit,\n  getPublicKey,\n  kinds_exports as kinds,\n  matchFilter,\n  matchFilters,\n  mergeFilters,\n  nip04_exports as nip04,\n  nip05_exports as nip05,\n  nip10_exports as nip10,\n  nip11_exports as nip11,\n  nip13_exports as nip13,\n  nip17_exports as nip17,\n  nip18_exports as nip18,\n  nip19_exports as nip19,\n  nip21_exports as nip21,\n  nip25_exports as nip25,\n  nip27_exports as nip27,\n  nip28_exports as nip28,\n  nip30_exports as nip30,\n  nip39_exports as nip39,\n  nip42_exports as nip42,\n  nip44_exports as nip44,\n  nip47_exports as nip47,\n  nip54_exports as nip54,\n  nip57_exports as nip57,\n  nip59_exports as nip59,\n  nip98_exports as nip98,\n  parseReferences,\n  serializeEvent,\n  sortEvents,\n  utils_exports as utils,\n  validateEvent,\n  verifiedSymbol,\n  verifyEvent\n};\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha256';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { Field, mod, pow2 } from './abstract/modular.js';\nimport { ProjPointType as PointType, mapToCurveSimpleSWU } from './abstract/weierstrass.js';\nimport type { Hex, PrivKey } from './abstract/utils.js';\nimport { bytesToNumberBE, concatBytes, ensureBytes, numberToBytesBE } from './abstract/utils.js';\nimport { createHasher, isogenyMap } from './abstract/hash-to-curve.js';\nimport { createCurve } from './_shortw_utils.js';\n\nconst secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nconst secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst divNearest = (a: bigint, b: bigint) => (a + b / _2n) / b;\n\n/**\n * \u221An = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y: bigint): bigint {\n  const P = secp256k1P;\n  // prettier-ignore\n  const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n  // prettier-ignore\n  const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n  const b2 = (y * y * y) % P; // x^3, 11\n  const b3 = (b2 * b2 * y) % P; // x^7\n  const b6 = (pow2(b3, _3n, P) * b3) % P;\n  const b9 = (pow2(b6, _3n, P) * b3) % P;\n  const b11 = (pow2(b9, _2n, P) * b2) % P;\n  const b22 = (pow2(b11, _11n, P) * b11) % P;\n  const b44 = (pow2(b22, _22n, P) * b22) % P;\n  const b88 = (pow2(b44, _44n, P) * b44) % P;\n  const b176 = (pow2(b88, _88n, P) * b88) % P;\n  const b220 = (pow2(b176, _44n, P) * b44) % P;\n  const b223 = (pow2(b220, _3n, P) * b3) % P;\n  const t1 = (pow2(b223, _23n, P) * b22) % P;\n  const t2 = (pow2(t1, _6n, P) * b2) % P;\n  const root = pow2(t2, _2n, P);\n  if (!Fp.eql(Fp.sqr(root), y)) throw new Error('Cannot find square root');\n  return root;\n}\n\nconst Fp = Field(secp256k1P, undefined, undefined, { sqrt: sqrtMod });\n\nexport const secp256k1 = createCurve(\n  {\n    a: BigInt(0), // equation params: a, b\n    b: BigInt(7), // Seem to be rigid: bitcointalk.org/index.php?topic=289795.msg3183975#msg3183975\n    Fp, // Field's prime: 2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n\n    n: secp256k1N, // Curve order, total count of valid points in the field\n    // Base point (x, y) aka generator point\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    h: BigInt(1), // Cofactor\n    lowS: true, // Allow only low-S signatures by default in sign() and verify()\n    /**\n     * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.\n     * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n     * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n     * Explanation: https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066\n     */\n    endo: {\n      beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n      splitScalar: (k: bigint) => {\n        const n = secp256k1N;\n        const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n        const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n        const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n        const b2 = a1;\n        const POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n\n        const c1 = divNearest(b2 * k, n);\n        const c2 = divNearest(-b1 * k, n);\n        let k1 = mod(k - c1 * a1 - c2 * a2, n);\n        let k2 = mod(-c1 * b1 - c2 * b2, n);\n        const k1neg = k1 > POW_2_128;\n        const k2neg = k2 > POW_2_128;\n        if (k1neg) k1 = n - k1;\n        if (k2neg) k2 = n - k2;\n        if (k1 > POW_2_128 || k2 > POW_2_128) {\n          throw new Error('splitScalar: Endomorphism failed, k=' + k);\n        }\n        return { k1neg, k1, k2neg, k2 };\n      },\n    },\n  },\n  sha256\n);\n\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\nconst _0n = BigInt(0);\nconst fe = (x: bigint) => typeof x === 'bigint' && _0n < x && x < secp256k1P;\nconst ge = (x: bigint) => typeof x === 'bigint' && _0n < x && x < secp256k1N;\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES: { [tag: string]: Uint8Array } = {};\nfunction taggedHash(tag: string, ...messages: Uint8Array[]): Uint8Array {\n  let tagP = TAGGED_HASH_PREFIXES[tag];\n  if (tagP === undefined) {\n    const tagH = sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n    tagP = concatBytes(tagH, tagH);\n    TAGGED_HASH_PREFIXES[tag] = tagP;\n  }\n  return sha256(concatBytes(tagP, ...messages));\n}\n\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point: PointType<bigint>) => point.toRawBytes(true).slice(1);\nconst numTo32b = (n: bigint) => numberToBytesBE(n, 32);\nconst modP = (x: bigint) => mod(x, secp256k1P);\nconst modN = (x: bigint) => mod(x, secp256k1N);\nconst Point = secp256k1.ProjectivePoint;\nconst GmulAdd = (Q: PointType<bigint>, a: bigint, b: bigint) =>\n  Point.BASE.multiplyAndAddUnsafe(Q, a, b);\n\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv: PrivKey) {\n  let d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n  let p = Point.fromPrivateKey(d_); // P = d'\u22C5G; 0 < d' < n check is done inside\n  const scalar = p.hasEvenY() ? d_ : modN(-d_);\n  return { scalar: scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x: bigint): PointType<bigint> {\n  if (!fe(x)) throw new Error('bad x: need 0 < x < p'); // Fail if x \u2265 p.\n  const xx = modP(x * x);\n  const c = modP(xx * x + BigInt(7)); // Let c = x\u00B3 + 7 mod p.\n  let y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n  if (y % _2n !== _0n) y = modP(-y); // Return the unique point P such that x(P) = x and\n  const p = new Point(x, y, _1n); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n  p.assertValidity();\n  return p;\n}\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args: Uint8Array[]): bigint {\n  return modN(bytesToNumberBE(taggedHash('BIP0340/challenge', ...args)));\n}\n\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey: Hex): Uint8Array {\n  return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'\u2265n. Ret bytes(d'\u22C5G)\n}\n\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(\n  message: Hex,\n  privateKey: PrivKey,\n  auxRand: Hex = randomBytes(32)\n): Uint8Array {\n  const m = ensureBytes('message', message);\n  const { bytes: px, scalar: d } = schnorrGetExtPubKey(privateKey); // checks for isWithinCurveOrder\n  const a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n  const t = numTo32b(d ^ bytesToNumberBE(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n  const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n  const k_ = modN(bytesToNumberBE(rand)); // Let k' = int(rand) mod n\n  if (k_ === _0n) throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n  const { bytes: rx, scalar: k } = schnorrGetExtPubKey(k_); // Let R = k'\u22C5G.\n  const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n  const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n  sig.set(rx, 0);\n  sig.set(numTo32b(modN(k + e * d)), 32);\n  // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n  if (!schnorrVerify(sig, m, px)) throw new Error('sign: Invalid signature produced');\n  return sig;\n}\n\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature: Hex, message: Hex, publicKey: Hex): boolean {\n  const sig = ensureBytes('signature', signature, 64);\n  const m = ensureBytes('message', message);\n  const pub = ensureBytes('publicKey', publicKey, 32);\n  try {\n    const P = lift_x(bytesToNumberBE(pub)); // P = lift_x(int(pk)); fail if that fails\n    const r = bytesToNumberBE(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r \u2265 p.\n    if (!fe(r)) return false;\n    const s = bytesToNumberBE(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s \u2265 n.\n    if (!ge(s)) return false;\n    const e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n    const R = GmulAdd(P, s, modN(-e)); // R = s\u22C5G - e\u22C5P\n    if (!R || !R.hasEvenY() || R.toAffine().x !== r) return false; // -eP == (n-e)P\n    return true; // Fail if is_infinite(R) / not has_even_y(R) / x(R) \u2260 r.\n  } catch (error) {\n    return false;\n  }\n}\n\nexport const schnorr = /* @__PURE__ */ (() => ({\n  getPublicKey: schnorrGetPublicKey,\n  sign: schnorrSign,\n  verify: schnorrVerify,\n  utils: {\n    randomPrivateKey: secp256k1.utils.randomPrivateKey,\n    lift_x,\n    pointToBytes,\n    numberToBytesBE,\n    bytesToNumberBE,\n    taggedHash,\n    mod,\n  },\n}))();\n\nconst isoMap = /* @__PURE__ */ (() =>\n  isogenyMap(\n    Fp,\n    [\n      // xNum\n      [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n      ],\n      // xDen\n      [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n      // yNum\n      [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n      ],\n      // yDen\n      [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n      ],\n    ].map((i) => i.map((j) => BigInt(j))) as [bigint[], bigint[], bigint[], bigint[]]\n  ))();\nconst mapSWU = /* @__PURE__ */ (() =>\n  mapToCurveSimpleSWU(Fp, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fp.create(BigInt('-11')),\n  }))();\nconst htf = /* @__PURE__ */ (() =>\n  createHasher(\n    secp256k1.ProjectivePoint,\n    (scalars: bigint[]) => {\n      const { x, y } = mapSWU(Fp.create(scalars[0]));\n      return isoMap(x, y);\n    },\n    {\n      DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n      encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n      p: Fp.ORDER,\n      m: 1,\n      k: 128,\n      expand: 'xmd',\n      hash: sha256,\n    }\n  ))();\nexport const hashToCurve = /* @__PURE__ */ (() => htf.hashToCurve)();\nexport const encodeToCurve = /* @__PURE__ */ (() => htf.encodeToCurve)();\n", "import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n\n// Choice: a ? b : c\nconst Chi = (a: number, b: number, c: number) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a: number, b: number, c: number) => (a & b) ^ (a & c) ^ (b & c);\n\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */new Uint32Array([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = /* @__PURE__ */new Uint32Array([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nclass SHA256 extends SHA2<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  A = IV[0] | 0;\n  B = IV[1] | 0;\n  C = IV[2] | 0;\n  D = IV[3] | 0;\n  E = IV[4] | 0;\n  F = IV[5] | 0;\n  G = IV[6] | 0;\n  H = IV[7] | 0;\n\n  constructor() {\n    super(64, 32, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ) {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean() {\n    SHA256_W.fill(0);\n  }\n  destroy() {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    this.buffer.fill(0);\n  }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n  A = 0xc1059ed8 | 0;\n  B = 0x367cd507 | 0;\n  C = 0x3070dd17 | 0;\n  D = 0xf70e5939 | 0;\n  E = 0xffc00b31 | 0;\n  F = 0x68581511 | 0;\n  G = 0x64f98fa7 | 0;\n  H = 0xbefa4fa4 | 0;\n  constructor() {\n    super();\n    this.outputLen = 28;\n  }\n}\n\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());\nexport const sha224 = /* @__PURE__ */ wrapConstructor(() => new SHA224());\n", "import { exists, output } from './_assert.js';\nimport { Hash, createView, Input, toBytes } from './utils.js';\n\n// Polyfill for Safari 14\nfunction setBigUint64(view: DataView, byteOffset: number, value: bigint, isLE: boolean): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n// Base SHA2 class (RFC 6234)\nexport abstract class SHA2<T extends SHA2<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(\n    readonly blockLen: number,\n    public outputLen: number,\n    readonly padOffset: number,\n    readonly isLE: boolean\n  ) {\n    super();\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    exists(this);\n    const { view, buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    exists(this);\n    output(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    this.buffer.subarray(pos).fill(0);\n    // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest() {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.length = length;\n    to.pos = pos;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n}\n", "function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nfunction bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\nfunction bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\ntype Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nfunction hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nfunction exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nfunction output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nexport { number, bool, bytes, hash, exists, output };\n\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n", "/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\nconst u8a = (a: any): a is Uint8Array => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word: number, shift: number) => (word << (32 - shift)) | (word >>> shift);\n\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  const array = new Uint8Array(len / 2);\n  for (let i = 0; i < array.length; i++) {\n    const j = i * 2;\n    const hexByte = hex.slice(j, j + 2);\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(`expected Uint8Array, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n  let pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach((a) => {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\nconst toStr = {}.toString;\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n    throw new Error('Options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\nexport type CHash = ReturnType<typeof wrapConstructor>;\n\nexport function wrapConstructor<T extends Hash<T>>(hashCons: () => Hash<T>) {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function wrapConstructorWithOpts<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function wrapXOFConstructorWithOpts<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n", "// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// See utils.ts for details.\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Utilities for modular arithmetics and finite fields\nimport {\n  bitMask,\n  numberToBytesBE,\n  numberToBytesLE,\n  bytesToNumberBE,\n  bytesToNumberLE,\n  ensureBytes,\n  validateObject,\n} from './utils.js';\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3);\n// prettier-ignore\nconst _4n = BigInt(4), _5n = BigInt(5), _8n = BigInt(8);\n// prettier-ignore\nconst _9n = BigInt(9), _16n = BigInt(16);\n\n// Calculates a modulo b\nexport function mod(a: bigint, b: bigint): bigint {\n  const result = a % b;\n  return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\n// TODO: use field version && remove\nexport function pow(num: bigint, power: bigint, modulo: bigint): bigint {\n  if (modulo <= _0n || power < _0n) throw new Error('Expected power/modulo > 0');\n  if (modulo === _1n) return _0n;\n  let res = _1n;\n  while (power > _0n) {\n    if (power & _1n) res = (res * num) % modulo;\n    num = (num * num) % modulo;\n    power >>= _1n;\n  }\n  return res;\n}\n\n// Does x ^ (2 ^ power) mod p. pow2(30, 4) == 30 ^ (2 ^ 4)\nexport function pow2(x: bigint, power: bigint, modulo: bigint): bigint {\n  let res = x;\n  while (power-- > _0n) {\n    res *= res;\n    res %= modulo;\n  }\n  return res;\n}\n\n// Inverses number over modulo\nexport function invert(number: bigint, modulo: bigint): bigint {\n  if (number === _0n || modulo <= _0n) {\n    throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n  }\n  // Euclidean GCD https://brilliant.org/wiki/extended-euclidean-algorithm/\n  // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n  let a = mod(number, modulo);\n  let b = modulo;\n  // prettier-ignore\n  let x = _0n, y = _1n, u = _1n, v = _0n;\n  while (a !== _0n) {\n    // JIT applies optimization if those two lines follow each other\n    const q = b / a;\n    const r = b % a;\n    const m = x - u * q;\n    const n = y - v * q;\n    // prettier-ignore\n    b = a, a = r, x = u, y = v, u = m, v = n;\n  }\n  const gcd = b;\n  if (gcd !== _1n) throw new Error('invert: does not exist');\n  return mod(x, modulo);\n}\n\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * Will start an infinite loop if field order P is not prime.\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P: bigint) {\n  // Legendre constant: used to calculate Legendre symbol (a | p),\n  // which denotes the value of a^((p-1)/2) (mod p).\n  // (a | p) \u2261 1    if a is a square (mod p)\n  // (a | p) \u2261 -1   if a is not a square (mod p)\n  // (a | p) \u2261 0    if a \u2261 0 (mod p)\n  const legendreC = (P - _1n) / _2n;\n\n  let Q: bigint, S: number, Z: bigint;\n  // Step 1: By factoring out powers of 2 from p - 1,\n  // find q and s such that p - 1 = q*(2^s) with q odd\n  for (Q = P - _1n, S = 0; Q % _2n === _0n; Q /= _2n, S++);\n\n  // Step 2: Select a non-square z such that (z | p) \u2261 -1 and set c \u2261 zq\n  for (Z = _2n; Z < P && pow(Z, legendreC, P) !== P - _1n; Z++);\n\n  // Fast-path\n  if (S === 1) {\n    const p1div4 = (P + _1n) / _4n;\n    return function tonelliFast<T>(Fp: IField<T>, n: T) {\n      const root = Fp.pow(n, p1div4);\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n\n  // Slow-path\n  const Q1div2 = (Q + _1n) / _2n;\n  return function tonelliSlow<T>(Fp: IField<T>, n: T): T {\n    // Step 0: Check that n is indeed a square: (n | p) should not be \u2261 -1\n    if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE)) throw new Error('Cannot find square root');\n    let r = S;\n    // TODO: will fail at Fp2/etc\n    let g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b\n    let x = Fp.pow(n, Q1div2); // first guess at the square root\n    let b = Fp.pow(n, Q); // first guess at the fudge factor\n\n    while (!Fp.eql(b, Fp.ONE)) {\n      if (Fp.eql(b, Fp.ZERO)) return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)\n      // Find m such b^(2^m)==1\n      let m = 1;\n      for (let t2 = Fp.sqr(b); m < r; m++) {\n        if (Fp.eql(t2, Fp.ONE)) break;\n        t2 = Fp.sqr(t2); // t2 *= t2\n      }\n      // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow\n      const ge = Fp.pow(g, _1n << BigInt(r - m - 1)); // ge = 2^(r-m-1)\n      g = Fp.sqr(ge); // g = ge * ge\n      x = Fp.mul(x, ge); // x *= ge\n      b = Fp.mul(b, g); // b *= g\n      r = m;\n    }\n    return x;\n  };\n}\n\nexport function FpSqrt(P: bigint) {\n  // NOTE: different algorithms can give different roots, it is up to user to decide which one they want.\n  // For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n\n  // P \u2261 3 (mod 4)\n  // \u221An = n^((P+1)/4)\n  if (P % _4n === _3n) {\n    // Not all roots possible!\n    // const ORDER =\n    //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;\n    // const NUM = 72057594037927816n;\n    const p1div4 = (P + _1n) / _4n;\n    return function sqrt3mod4<T>(Fp: IField<T>, n: T) {\n      const root = Fp.pow(n, p1div4);\n      // Throw if root**2 != n\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n\n  // Atkin algorithm for q \u2261 5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)\n  if (P % _8n === _5n) {\n    const c1 = (P - _5n) / _8n;\n    return function sqrt5mod8<T>(Fp: IField<T>, n: T) {\n      const n2 = Fp.mul(n, _2n);\n      const v = Fp.pow(n2, c1);\n      const nv = Fp.mul(n, v);\n      const i = Fp.mul(Fp.mul(nv, _2n), v);\n      const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n\n  // P \u2261 9 (mod 16)\n  if (P % _16n === _9n) {\n    // NOTE: tonelli is too slow for bls-Fp2 calculations even on start\n    // Means we cannot use sqrt for constants at all!\n    //\n    // const c1 = Fp.sqrt(Fp.negate(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n    // const c2 = Fp.sqrt(c1);                //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n    // const c3 = Fp.sqrt(Fp.negate(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n    // const c4 = (P + _7n) / _16n;           //  4. c4 = (q + 7) / 16        # Integer arithmetic\n    // sqrt = (x) => {\n    //   let tv1 = Fp.pow(x, c4);             //  1. tv1 = x^c4\n    //   let tv2 = Fp.mul(c1, tv1);           //  2. tv2 = c1 * tv1\n    //   const tv3 = Fp.mul(c2, tv1);         //  3. tv3 = c2 * tv1\n    //   let tv4 = Fp.mul(c3, tv1);           //  4. tv4 = c3 * tv1\n    //   const e1 = Fp.equals(Fp.square(tv2), x); //  5.  e1 = (tv2^2) == x\n    //   const e2 = Fp.equals(Fp.square(tv3), x); //  6.  e2 = (tv3^2) == x\n    //   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n    //   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n    //   const e3 = Fp.equals(Fp.square(tv2), x); //  9.  e3 = (tv2^2) == x\n    //   return Fp.cmov(tv1, tv2, e3); //  10.  z = CMOV(tv1, tv2, e3)  # Select the sqrt from tv1 and tv2\n    // }\n  }\n\n  // Other cases: Tonelli-Shanks algorithm\n  return tonelliShanks(P);\n}\n\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num: bigint, modulo: bigint) => (mod(num, modulo) & _1n) === _1n;\n\n// Field is not always over prime: for example, Fp2 has ORDER(q)=p^m\nexport interface IField<T> {\n  ORDER: bigint;\n  BYTES: number;\n  BITS: number;\n  MASK: bigint;\n  ZERO: T;\n  ONE: T;\n  // 1-arg\n  create: (num: T) => T;\n  isValid: (num: T) => boolean;\n  is0: (num: T) => boolean;\n  neg(num: T): T;\n  inv(num: T): T;\n  sqrt(num: T): T;\n  sqr(num: T): T;\n  // 2-args\n  eql(lhs: T, rhs: T): boolean;\n  add(lhs: T, rhs: T): T;\n  sub(lhs: T, rhs: T): T;\n  mul(lhs: T, rhs: T | bigint): T;\n  pow(lhs: T, power: bigint): T;\n  div(lhs: T, rhs: T | bigint): T;\n  // N for NonNormalized (for now)\n  addN(lhs: T, rhs: T): T;\n  subN(lhs: T, rhs: T): T;\n  mulN(lhs: T, rhs: T | bigint): T;\n  sqrN(num: T): T;\n\n  // Optional\n  // Should be same as sgn0 function in\n  // [RFC9380](https://www.rfc-editor.org/rfc/rfc9380#section-4.1).\n  // NOTE: sgn0 is 'negative in LE', which is same as odd. And negative in LE is kinda strange definition anyway.\n  isOdd?(num: T): boolean; // Odd instead of even since we have it for Fp2\n  // legendre?(num: T): T;\n  pow(lhs: T, power: bigint): T;\n  invertBatch: (lst: T[]) => T[];\n  toBytes(num: T): Uint8Array;\n  fromBytes(bytes: Uint8Array): T;\n  // If c is False, CMOV returns a, otherwise it returns b.\n  cmov(a: T, b: T, c: boolean): T;\n}\n// prettier-ignore\nconst FIELD_FIELDS = [\n  'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n  'eql', 'add', 'sub', 'mul', 'pow', 'div',\n  'addN', 'subN', 'mulN', 'sqrN'\n] as const;\nexport function validateField<T>(field: IField<T>) {\n  const initial = {\n    ORDER: 'bigint',\n    MASK: 'bigint',\n    BYTES: 'isSafeInteger',\n    BITS: 'isSafeInteger',\n  } as Record<string, string>;\n  const opts = FIELD_FIELDS.reduce((map, val: string) => {\n    map[val] = 'function';\n    return map;\n  }, initial);\n  return validateObject(field, opts);\n}\n\n// Generic field functions\n\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow<T>(f: IField<T>, num: T, power: bigint): T {\n  // Should have same speed as pow for bigints\n  // TODO: benchmark!\n  if (power < _0n) throw new Error('Expected power > 0');\n  if (power === _0n) return f.ONE;\n  if (power === _1n) return num;\n  let p = f.ONE;\n  let d = num;\n  while (power > _0n) {\n    if (power & _1n) p = f.mul(p, d);\n    d = f.sqr(d);\n    power >>= _1n;\n  }\n  return p;\n}\n\n/**\n * Efficiently invert an array of Field elements.\n * `inv(0)` will return `undefined` here: make sure to throw an error.\n */\nexport function FpInvertBatch<T>(f: IField<T>, nums: T[]): T[] {\n  const tmp = new Array(nums.length);\n  // Walk from first to last, multiply them by each other MOD p\n  const lastMultiplied = nums.reduce((acc, num, i) => {\n    if (f.is0(num)) return acc;\n    tmp[i] = acc;\n    return f.mul(acc, num);\n  }, f.ONE);\n  // Invert last element\n  const inverted = f.inv(lastMultiplied);\n  // Walk from last to first, multiply them by inverted each other MOD p\n  nums.reduceRight((acc, num, i) => {\n    if (f.is0(num)) return acc;\n    tmp[i] = f.mul(acc, tmp[i]);\n    return f.mul(acc, num);\n  }, inverted);\n  return tmp;\n}\n\nexport function FpDiv<T>(f: IField<T>, lhs: T, rhs: T | bigint): T {\n  return f.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, f.ORDER) : f.inv(rhs));\n}\n\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare<T>(f: IField<T>) {\n  const legendreConst = (f.ORDER - _1n) / _2n; // Integer arithmetic\n  return (x: T): boolean => {\n    const p = f.pow(x, legendreConst);\n    return f.eql(p, f.ZERO) || f.eql(p, f.ONE);\n  };\n}\n\n// CURVE.n lengths\nexport function nLength(n: bigint, nBitLength?: number) {\n  // Bit size, byte size of CURVE.n\n  const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n  const nByteLength = Math.ceil(_nBitLength / 8);\n  return { nBitLength: _nBitLength, nByteLength };\n}\n\ntype FpField = IField<bigint> & Required<Pick<IField<bigint>, 'isOdd'>>;\n/**\n * Initializes a finite field over prime. **Non-primes are not supported.**\n * Do not init in loop: slow. Very fragile: always run a benchmark on a change.\n * Major performance optimizations:\n * * a) denormalized operations like mulN instead of mul\n * * b) same object shape: never add or remove keys\n * * c) Object.freeze\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(\n  ORDER: bigint,\n  bitLen?: number,\n  isLE = false,\n  redef: Partial<IField<bigint>> = {}\n): Readonly<FpField> {\n  if (ORDER <= _0n) throw new Error(`Expected Field ORDER > 0, got ${ORDER}`);\n  const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);\n  if (BYTES > 2048) throw new Error('Field lengths over 2048 bytes are not supported');\n  const sqrtP = FpSqrt(ORDER);\n  const f: Readonly<FpField> = Object.freeze({\n    ORDER,\n    BITS,\n    BYTES,\n    MASK: bitMask(BITS),\n    ZERO: _0n,\n    ONE: _1n,\n    create: (num) => mod(num, ORDER),\n    isValid: (num) => {\n      if (typeof num !== 'bigint')\n        throw new Error(`Invalid field element: expected bigint, got ${typeof num}`);\n      return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n    },\n    is0: (num) => num === _0n,\n    isOdd: (num) => (num & _1n) === _1n,\n    neg: (num) => mod(-num, ORDER),\n    eql: (lhs, rhs) => lhs === rhs,\n\n    sqr: (num) => mod(num * num, ORDER),\n    add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n    sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n    mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n    pow: (num, power) => FpPow(f, num, power),\n    div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n\n    // Same as above, but doesn't normalize\n    sqrN: (num) => num * num,\n    addN: (lhs, rhs) => lhs + rhs,\n    subN: (lhs, rhs) => lhs - rhs,\n    mulN: (lhs, rhs) => lhs * rhs,\n\n    inv: (num) => invert(num, ORDER),\n    sqrt: redef.sqrt || ((n) => sqrtP(f, n)),\n    invertBatch: (lst) => FpInvertBatch(f, lst),\n    // TODO: do we really need constant cmov?\n    // We don't have const-time bigints anyway, so probably will be not very useful\n    cmov: (a, b, c) => (c ? b : a),\n    toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n    fromBytes: (bytes) => {\n      if (bytes.length !== BYTES)\n        throw new Error(`Fp.fromBytes: expected ${BYTES}, got ${bytes.length}`);\n      return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n    },\n  } as FpField);\n  return Object.freeze(f);\n}\n\nexport function FpSqrtOdd<T>(Fp: IField<T>, elm: T) {\n  if (!Fp.isOdd) throw new Error(`Field doesn't have isOdd`);\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? root : Fp.neg(root);\n}\n\nexport function FpSqrtEven<T>(Fp: IField<T>, elm: T) {\n  if (!Fp.isOdd) throw new Error(`Field doesn't have isOdd`);\n  const root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use mapKeyToField instead\n */\nexport function hashToPrivateScalar(\n  hash: string | Uint8Array,\n  groupOrder: bigint,\n  isLE = false\n): bigint {\n  hash = ensureBytes('privateHash', hash);\n  const hashLen = hash.length;\n  const minLen = nLength(groupOrder).nByteLength + 8;\n  if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n    throw new Error(`hashToPrivateScalar: expected ${minLen}-1024 bytes of input, got ${hashLen}`);\n  const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n  return mod(num, groupOrder - _1n) + _1n;\n}\n\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder: bigint): number {\n  if (typeof fieldOrder !== 'bigint') throw new Error('field order must be bigint');\n  const bitLength = fieldOrder.toString(2).length;\n  return Math.ceil(bitLength / 8);\n}\n\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder: bigint): number {\n  const length = getFieldBytesLength(fieldOrder);\n  return length + Math.ceil(length / 2);\n}\n\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key: Uint8Array, fieldOrder: bigint, isLE = false): Uint8Array {\n  const len = key.length;\n  const fieldLen = getFieldBytesLength(fieldOrder);\n  const minLen = getMinHashLength(fieldOrder);\n  // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n  if (len < 16 || len < minLen || len > 1024)\n    throw new Error(`expected ${minLen}-1024 bytes of input, got ${len}`);\n  const num = isLE ? bytesToNumberBE(key) : bytesToNumberLE(key);\n  // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n  const reduced = mod(num, fieldOrder - _1n) + _1n;\n  return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst u8a = (a: any): a is Uint8Array => a instanceof Uint8Array;\nexport type Hex = Uint8Array | string; // hex strings are accepted for simplicity\nexport type PrivKey = Hex | bigint; // bigints are accepted to ease learning curve\nexport type CHash = {\n  (message: Uint8Array | string): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create(opts?: { dkLen?: number }): any; // For shake\n};\nexport type FHash = (message: Uint8Array | string) => Uint8Array;\n\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\nexport function numberToHexUnpadded(num: number | bigint): string {\n  const hex = num.toString(16);\n  return hex.length & 1 ? `0${hex}` : hex;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // Big Endian\n  return BigInt(hex === '' ? '0' : `0x${hex}`);\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  const array = new Uint8Array(len / 2);\n  for (let i = 0; i < array.length; i++) {\n    const j = i * 2;\n    const hexByte = hex.slice(j, j + 2);\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex(bytes));\n}\nexport function bytesToNumberLE(bytes: Uint8Array): bigint {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n: number | bigint, len: number): Uint8Array {\n  return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n: number | bigint): Uint8Array {\n  return hexToBytes(numberToHexUnpadded(n));\n}\n\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title: string, hex: Hex, expectedLength?: number): Uint8Array {\n  let res: Uint8Array;\n  if (typeof hex === 'string') {\n    try {\n      res = hexToBytes(hex);\n    } catch (e) {\n      throw new Error(`${title} must be valid hex string, got \"${hex}\". Cause: ${e}`);\n    }\n  } else if (u8a(hex)) {\n    // Uint8Array.from() instead of hash.slice() because node.js Buffer\n    // is instance of Uint8Array, and its slice() creates **mutable** copy\n    res = Uint8Array.from(hex);\n  } else {\n    throw new Error(`${title} must be hex string or Uint8Array`);\n  }\n  const len = res.length;\n  if (typeof expectedLength === 'number' && len !== expectedLength)\n    throw new Error(`${title} expected ${expectedLength} bytes, got ${len}`);\n  return res;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n  let pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach((a) => {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n\nexport function equalBytes(b1: Uint8Array, b2: Uint8Array) {\n  // We don't care about timing attacks here\n  if (b1.length !== b2.length) return false;\n  for (let i = 0; i < b1.length; i++) if (b1[i] !== b2[i]) return false;\n  return true;\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n// Bit operations\n\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n */\nexport function bitLen(n: bigint) {\n  let len;\n  for (len = 0; n > _0n; n >>= _1n, len += 1);\n  return len;\n}\n\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n: bigint, pos: number) {\n  return (n >> BigInt(pos)) & _1n;\n}\n\n/**\n * Sets single bit at position.\n */\nexport const bitSet = (n: bigint, pos: number, value: boolean) => {\n  return n | ((value ? _1n : _0n) << BigInt(pos));\n};\n\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n: number) => (_2n << BigInt(n - 1)) - _1n;\n\n// DRBG\n\nconst u8n = (data?: any) => new Uint8Array(data); // creates Uint8Array\nconst u8fr = (arr: any) => Uint8Array.from(arr); // another shortcut\ntype Pred<T> = (v: Uint8Array) => T | undefined;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg<T>(\n  hashLen: number,\n  qByteLen: number,\n  hmacFn: (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array\n): (seed: Uint8Array, predicate: Pred<T>) => T {\n  if (typeof hashLen !== 'number' || hashLen < 2) throw new Error('hashLen must be a number');\n  if (typeof qByteLen !== 'number' || qByteLen < 2) throw new Error('qByteLen must be a number');\n  if (typeof hmacFn !== 'function') throw new Error('hmacFn must be a function');\n  // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n  let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n  let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n  let i = 0; // Iterations counter, will throw when over 1000\n  const reset = () => {\n    v.fill(1);\n    k.fill(0);\n    i = 0;\n  };\n  const h = (...b: Uint8Array[]) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n  const reseed = (seed = u8n()) => {\n    // HMAC-DRBG reseed() function. Steps D-G\n    k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n    v = h(); // v = hmac(k || v)\n    if (seed.length === 0) return;\n    k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n    v = h(); // v = hmac(k || v)\n  };\n  const gen = () => {\n    // HMAC-DRBG generate() function\n    if (i++ >= 1000) throw new Error('drbg: tried 1000 values');\n    let len = 0;\n    const out: Uint8Array[] = [];\n    while (len < qByteLen) {\n      v = h();\n      const sl = v.slice();\n      out.push(sl);\n      len += v.length;\n    }\n    return concatBytes(...out);\n  };\n  const genUntil = (seed: Uint8Array, pred: Pred<T>): T => {\n    reset();\n    reseed(seed); // Steps D-G\n    let res: T | undefined = undefined; // Step H: grind until k is in [1..n-1]\n    while (!(res = pred(gen()))) reseed();\n    reset();\n    return res;\n  };\n  return genUntil;\n}\n\n// Validating curves and fields\n\nconst validatorFns = {\n  bigint: (val: any) => typeof val === 'bigint',\n  function: (val: any) => typeof val === 'function',\n  boolean: (val: any) => typeof val === 'boolean',\n  string: (val: any) => typeof val === 'string',\n  stringOrUint8Array: (val: any) => typeof val === 'string' || val instanceof Uint8Array,\n  isSafeInteger: (val: any) => Number.isSafeInteger(val),\n  array: (val: any) => Array.isArray(val),\n  field: (val: any, object: any) => (object as any).Fp.isValid(val),\n  hash: (val: any) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n} as const;\ntype Validator = keyof typeof validatorFns;\ntype ValMap<T extends Record<string, any>> = { [K in keyof T]?: Validator };\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\n\nexport function validateObject<T extends Record<string, any>>(\n  object: T,\n  validators: ValMap<T>,\n  optValidators: ValMap<T> = {}\n) {\n  const checkField = (fieldName: keyof T, type: Validator, isOptional: boolean) => {\n    const checkVal = validatorFns[type];\n    if (typeof checkVal !== 'function')\n      throw new Error(`Invalid validator \"${type}\", expected function`);\n\n    const val = object[fieldName as keyof typeof object];\n    if (isOptional && val === undefined) return;\n    if (!checkVal(val, object)) {\n      throw new Error(\n        `Invalid param ${String(fieldName)}=${val} (${typeof val}), expected ${type}`\n      );\n    }\n  };\n  for (const [fieldName, type] of Object.entries(validators)) checkField(fieldName, type!, false);\n  for (const [fieldName, type] of Object.entries(optValidators)) checkField(fieldName, type!, true);\n  return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Short Weierstrass curve. The formula is: y\u00B2 = x\u00B3 + ax + b\nimport * as mod from './modular.js';\nimport * as ut from './utils.js';\nimport { CHash, Hex, PrivKey, ensureBytes } from './utils.js';\nimport { Group, GroupConstructor, wNAF, BasicCurve, validateBasic, AffinePoint } from './curve.js';\n\nexport type { AffinePoint };\ntype HmacFnSync = (key: Uint8Array, ...messages: Uint8Array[]) => Uint8Array;\ntype EndomorphismOpts = {\n  beta: bigint;\n  splitScalar: (k: bigint) => { k1neg: boolean; k1: bigint; k2neg: boolean; k2: bigint };\n};\nexport type BasicWCurve<T> = BasicCurve<T> & {\n  // Params: a, b\n  a: T;\n  b: T;\n\n  // Optional params\n  allowedPrivateKeyLengths?: readonly number[]; // for P521\n  wrapPrivateKey?: boolean; // bls12-381 requires mod(n) instead of rejecting keys >= n\n  endo?: EndomorphismOpts; // Endomorphism options for Koblitz curves\n  // When a cofactor != 1, there can be an effective methods to:\n  // 1. Determine whether a point is torsion-free\n  isTorsionFree?: (c: ProjConstructor<T>, point: ProjPointType<T>) => boolean;\n  // 2. Clear torsion component\n  clearCofactor?: (c: ProjConstructor<T>, point: ProjPointType<T>) => ProjPointType<T>;\n};\n\ntype Entropy = Hex | true;\nexport type SignOpts = { lowS?: boolean; extraEntropy?: Entropy; prehash?: boolean };\nexport type VerOpts = { lowS?: boolean; prehash?: boolean };\n\n/**\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance of nominative types in TypeScript and interfaces only check for shape, so it's hard to create unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * TODO: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n */\n\n// Instance for 3d XYZ points\nexport interface ProjPointType<T> extends Group<ProjPointType<T>> {\n  readonly px: T;\n  readonly py: T;\n  readonly pz: T;\n  get x(): T;\n  get y(): T;\n  multiply(scalar: bigint): ProjPointType<T>;\n  toAffine(iz?: T): AffinePoint<T>;\n  isTorsionFree(): boolean;\n  clearCofactor(): ProjPointType<T>;\n  assertValidity(): void;\n  hasEvenY(): boolean;\n  toRawBytes(isCompressed?: boolean): Uint8Array;\n  toHex(isCompressed?: boolean): string;\n\n  multiplyUnsafe(scalar: bigint): ProjPointType<T>;\n  multiplyAndAddUnsafe(Q: ProjPointType<T>, a: bigint, b: bigint): ProjPointType<T> | undefined;\n  _setWindowSize(windowSize: number): void;\n}\n// Static methods for 3d XYZ points\nexport interface ProjConstructor<T> extends GroupConstructor<ProjPointType<T>> {\n  new (x: T, y: T, z: T): ProjPointType<T>;\n  fromAffine(p: AffinePoint<T>): ProjPointType<T>;\n  fromHex(hex: Hex): ProjPointType<T>;\n  fromPrivateKey(privateKey: PrivKey): ProjPointType<T>;\n  normalizeZ(points: ProjPointType<T>[]): ProjPointType<T>[];\n}\n\nexport type CurvePointsType<T> = BasicWCurve<T> & {\n  // Bytes\n  fromBytes?: (bytes: Uint8Array) => AffinePoint<T>;\n  toBytes?: (c: ProjConstructor<T>, point: ProjPointType<T>, isCompressed: boolean) => Uint8Array;\n};\n\nfunction validatePointOpts<T>(curve: CurvePointsType<T>) {\n  const opts = validateBasic(curve);\n  ut.validateObject(\n    opts,\n    {\n      a: 'field',\n      b: 'field',\n    },\n    {\n      allowedPrivateKeyLengths: 'array',\n      wrapPrivateKey: 'boolean',\n      isTorsionFree: 'function',\n      clearCofactor: 'function',\n      allowInfinityPoint: 'boolean',\n      fromBytes: 'function',\n      toBytes: 'function',\n    }\n  );\n  const { endo, Fp, a } = opts;\n  if (endo) {\n    if (!Fp.eql(a, Fp.ZERO)) {\n      throw new Error('Endomorphism can only be defined for Koblitz curves that have a=0');\n    }\n    if (\n      typeof endo !== 'object' ||\n      typeof endo.beta !== 'bigint' ||\n      typeof endo.splitScalar !== 'function'\n    ) {\n      throw new Error('Expected endomorphism with beta: bigint and splitScalar: function');\n    }\n  }\n  return Object.freeze({ ...opts } as const);\n}\n\nexport type CurvePointsRes<T> = {\n  ProjectivePoint: ProjConstructor<T>;\n  normPrivateKeyToScalar: (key: PrivKey) => bigint;\n  weierstrassEquation: (x: T) => T;\n  isWithinCurveOrder: (num: bigint) => boolean;\n};\n\n// ASN.1 DER encoding utilities\nconst { bytesToNumberBE: b2n, hexToBytes: h2b } = ut;\nexport const DER = {\n  // asn.1 DER encoding utils\n  Err: class DERErr extends Error {\n    constructor(m = '') {\n      super(m);\n    }\n  },\n  _parseInt(data: Uint8Array): { d: bigint; l: Uint8Array } {\n    const { Err: E } = DER;\n    if (data.length < 2 || data[0] !== 0x02) throw new E('Invalid signature integer tag');\n    const len = data[1];\n    const res = data.subarray(2, len + 2);\n    if (!len || res.length !== len) throw new E('Invalid signature integer: wrong length');\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    if (res[0] & 0b10000000) throw new E('Invalid signature integer: negative');\n    if (res[0] === 0x00 && !(res[1] & 0b10000000))\n      throw new E('Invalid signature integer: unnecessary leading zero');\n    return { d: b2n(res), l: data.subarray(len + 2) }; // d is data, l is left\n  },\n  toSig(hex: string | Uint8Array): { r: bigint; s: bigint } {\n    // parse DER signature\n    const { Err: E } = DER;\n    const data = typeof hex === 'string' ? h2b(hex) : hex;\n    if (!(data instanceof Uint8Array)) throw new Error('ui8a expected');\n    let l = data.length;\n    if (l < 2 || data[0] != 0x30) throw new E('Invalid signature tag');\n    if (data[1] !== l - 2) throw new E('Invalid signature: incorrect length');\n    const { d: r, l: sBytes } = DER._parseInt(data.subarray(2));\n    const { d: s, l: rBytesLeft } = DER._parseInt(sBytes);\n    if (rBytesLeft.length) throw new E('Invalid signature: left bytes after parsing');\n    return { r, s };\n  },\n  hexFromSig(sig: { r: bigint; s: bigint }): string {\n    // Add leading zero if first byte has negative bit enabled. More details in '_parseInt'\n    const slice = (s: string): string => (Number.parseInt(s[0], 16) & 0b1000 ? '00' + s : s);\n    const h = (num: number | bigint) => {\n      const hex = num.toString(16);\n      return hex.length & 1 ? `0${hex}` : hex;\n    };\n    const s = slice(h(sig.s));\n    const r = slice(h(sig.r));\n    const shl = s.length / 2;\n    const rhl = r.length / 2;\n    const sl = h(shl);\n    const rl = h(rhl);\n    return `30${h(rhl + shl + 4)}02${rl}${r}02${sl}${s}`;\n  },\n};\n\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\n\nexport function weierstrassPoints<T>(opts: CurvePointsType<T>) {\n  const CURVE = validatePointOpts(opts);\n  const { Fp } = CURVE; // All curves has same field / group length as for now, but they can differ\n\n  const toBytes =\n    CURVE.toBytes ||\n    ((_c: ProjConstructor<T>, point: ProjPointType<T>, _isCompressed: boolean) => {\n      const a = point.toAffine();\n      return ut.concatBytes(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));\n    });\n  const fromBytes =\n    CURVE.fromBytes ||\n    ((bytes: Uint8Array) => {\n      // const head = bytes[0];\n      const tail = bytes.subarray(1);\n      // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');\n      const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n      const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n      return { x, y };\n    });\n\n  /**\n   * y\u00B2 = x\u00B3 + ax + b: Short weierstrass curve formula\n   * @returns y\u00B2\n   */\n  function weierstrassEquation(x: T): T {\n    const { a, b } = CURVE;\n    const x2 = Fp.sqr(x); // x * x\n    const x3 = Fp.mul(x2, x); // x2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x3 + a * x + b\n  }\n  // Validate whether the passed curve params are valid.\n  // We check if curve equation works for generator point.\n  // `assertValidity()` won't work: `isTorsionFree()` is not available at this point in bls12-381.\n  // ProjectivePoint class has not been initialized yet.\n  if (!Fp.eql(Fp.sqr(CURVE.Gy), weierstrassEquation(CURVE.Gx)))\n    throw new Error('bad generator point: equation left != right');\n\n  // Valid group elements reside in range 1..n-1\n  function isWithinCurveOrder(num: bigint): boolean {\n    return typeof num === 'bigint' && _0n < num && num < CURVE.n;\n  }\n  function assertGE(num: bigint) {\n    if (!isWithinCurveOrder(num)) throw new Error('Expected valid bigint: 0 < bigint < curve.n');\n  }\n  // Validates if priv key is valid and converts it to bigint.\n  // Supports options allowedPrivateKeyLengths and wrapPrivateKey.\n  function normPrivateKeyToScalar(key: PrivKey): bigint {\n    const { allowedPrivateKeyLengths: lengths, nByteLength, wrapPrivateKey, n } = CURVE;\n    if (lengths && typeof key !== 'bigint') {\n      if (key instanceof Uint8Array) key = ut.bytesToHex(key);\n      // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes\n      if (typeof key !== 'string' || !lengths.includes(key.length)) throw new Error('Invalid key');\n      key = key.padStart(nByteLength * 2, '0');\n    }\n    let num: bigint;\n    try {\n      num =\n        typeof key === 'bigint'\n          ? key\n          : ut.bytesToNumberBE(ensureBytes('private key', key, nByteLength));\n    } catch (error) {\n      throw new Error(`private key must be ${nByteLength} bytes, hex or bigint, not ${typeof key}`);\n    }\n    if (wrapPrivateKey) num = mod.mod(num, n); // disabled by default, enabled for BLS\n    assertGE(num); // num in range [1..N-1]\n    return num;\n  }\n\n  const pointPrecomputes = new Map<Point, Point[]>();\n  function assertPrjPoint(other: unknown) {\n    if (!(other instanceof Point)) throw new Error('ProjectivePoint expected');\n  }\n  /**\n   * Projective Point works in 3d / projective (homogeneous) coordinates: (x, y, z) \u220B (x=x/z, y=y/z)\n   * Default Point works in 2d / affine coordinates: (x, y)\n   * We're doing calculations in projective, because its operations don't require costly inversion.\n   */\n  class Point implements ProjPointType<T> {\n    static readonly BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    static readonly ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO);\n\n    constructor(readonly px: T, readonly py: T, readonly pz: T) {\n      if (px == null || !Fp.isValid(px)) throw new Error('x required');\n      if (py == null || !Fp.isValid(py)) throw new Error('y required');\n      if (pz == null || !Fp.isValid(pz)) throw new Error('z required');\n    }\n\n    // Does not validate if the point is on-curve.\n    // Use fromHex instead, or call assertValidity() later.\n    static fromAffine(p: AffinePoint<T>): Point {\n      const { x, y } = p || {};\n      if (!p || !Fp.isValid(x) || !Fp.isValid(y)) throw new Error('invalid affine point');\n      if (p instanceof Point) throw new Error('projective point not allowed');\n      const is0 = (i: T) => Fp.eql(i, Fp.ZERO);\n      // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)\n      if (is0(x) && is0(y)) return Point.ZERO;\n      return new Point(x, y, Fp.ONE);\n    }\n\n    get x(): T {\n      return this.toAffine().x;\n    }\n    get y(): T {\n      return this.toAffine().y;\n    }\n\n    /**\n     * Takes a bunch of Projective Points but executes only one\n     * inversion on all of them. Inversion is very slow operation,\n     * so this improves performance massively.\n     * Optimization: converts a list of projective points to a list of identical points with Z=1.\n     */\n    static normalizeZ(points: Point[]): Point[] {\n      const toInv = Fp.invertBatch(points.map((p) => p.pz));\n      return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n    }\n\n    /**\n     * Converts hash string or Uint8Array to Point.\n     * @param hex short/long ECDSA hex\n     */\n    static fromHex(hex: Hex): Point {\n      const P = Point.fromAffine(fromBytes(ensureBytes('pointHex', hex)));\n      P.assertValidity();\n      return P;\n    }\n\n    // Multiplies generator point by privateKey.\n    static fromPrivateKey(privateKey: PrivKey) {\n      return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n    }\n\n    // We calculate precomputes for elliptic curve point multiplication\n    // using windowed method. This specifies window size and\n    // stores precomputed values. Usually only base point would be precomputed.\n    _WINDOW_SIZE?: number;\n\n    // \"Private method\", don't use it directly\n    _setWindowSize(windowSize: number) {\n      this._WINDOW_SIZE = windowSize;\n      pointPrecomputes.delete(this);\n    }\n\n    // A point on curve is valid if it conforms to equation.\n    assertValidity(): void {\n      if (this.is0()) {\n        // (0, 1, 0) aka ZERO is invalid in most contexts.\n        // In BLS, ZERO can be serialized, so we allow it.\n        // (0, 0, 0) is wrong representation of ZERO and is always invalid.\n        if (CURVE.allowInfinityPoint && !Fp.is0(this.py)) return;\n        throw new Error('bad point: ZERO');\n      }\n      // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n      const { x, y } = this.toAffine();\n      // Check if x, y are valid field elements\n      if (!Fp.isValid(x) || !Fp.isValid(y)) throw new Error('bad point: x or y not FE');\n      const left = Fp.sqr(y); // y\u00B2\n      const right = weierstrassEquation(x); // x\u00B3 + ax + b\n      if (!Fp.eql(left, right)) throw new Error('bad point: equation left != right');\n      if (!this.isTorsionFree()) throw new Error('bad point: not in prime-order subgroup');\n    }\n    hasEvenY(): boolean {\n      const { y } = this.toAffine();\n      if (Fp.isOdd) return !Fp.isOdd(y);\n      throw new Error(\"Field doesn't support isOdd\");\n    }\n\n    /**\n     * Compare one point to another.\n     */\n    equals(other: Point): boolean {\n      assertPrjPoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n      const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n      return U1 && U2;\n    }\n\n    /**\n     * Flips point to one corresponding to (x, -y) in Affine coordinates.\n     */\n    negate(): Point {\n      return new Point(this.px, Fp.neg(this.py), this.pz);\n    }\n\n    // Renes-Costello-Batina exception-free doubling formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 3\n    // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n    double() {\n      const { a, b } = CURVE;\n      const b3 = Fp.mul(b, _3n);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      let t0 = Fp.mul(X1, X1); // step 1\n      let t1 = Fp.mul(Y1, Y1);\n      let t2 = Fp.mul(Z1, Z1);\n      let t3 = Fp.mul(X1, Y1);\n      t3 = Fp.add(t3, t3); // step 5\n      Z3 = Fp.mul(X1, Z1);\n      Z3 = Fp.add(Z3, Z3);\n      X3 = Fp.mul(a, Z3);\n      Y3 = Fp.mul(b3, t2);\n      Y3 = Fp.add(X3, Y3); // step 10\n      X3 = Fp.sub(t1, Y3);\n      Y3 = Fp.add(t1, Y3);\n      Y3 = Fp.mul(X3, Y3);\n      X3 = Fp.mul(t3, X3);\n      Z3 = Fp.mul(b3, Z3); // step 15\n      t2 = Fp.mul(a, t2);\n      t3 = Fp.sub(t0, t2);\n      t3 = Fp.mul(a, t3);\n      t3 = Fp.add(t3, Z3);\n      Z3 = Fp.add(t0, t0); // step 20\n      t0 = Fp.add(Z3, t0);\n      t0 = Fp.add(t0, t2);\n      t0 = Fp.mul(t0, t3);\n      Y3 = Fp.add(Y3, t0);\n      t2 = Fp.mul(Y1, Z1); // step 25\n      t2 = Fp.add(t2, t2);\n      t0 = Fp.mul(t2, t3);\n      X3 = Fp.sub(X3, t0);\n      Z3 = Fp.mul(t2, t1);\n      Z3 = Fp.add(Z3, Z3); // step 30\n      Z3 = Fp.add(Z3, Z3);\n      return new Point(X3, Y3, Z3);\n    }\n\n    // Renes-Costello-Batina exception-free addition formula.\n    // There is 30% faster Jacobian formula, but it is not complete.\n    // https://eprint.iacr.org/2015/1060, algorithm 1\n    // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n    add(other: Point): Point {\n      assertPrjPoint(other);\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = other;\n      let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n      const a = CURVE.a;\n      const b3 = Fp.mul(CURVE.b, _3n);\n      let t0 = Fp.mul(X1, X2); // step 1\n      let t1 = Fp.mul(Y1, Y2);\n      let t2 = Fp.mul(Z1, Z2);\n      let t3 = Fp.add(X1, Y1);\n      let t4 = Fp.add(X2, Y2); // step 5\n      t3 = Fp.mul(t3, t4);\n      t4 = Fp.add(t0, t1);\n      t3 = Fp.sub(t3, t4);\n      t4 = Fp.add(X1, Z1);\n      let t5 = Fp.add(X2, Z2); // step 10\n      t4 = Fp.mul(t4, t5);\n      t5 = Fp.add(t0, t2);\n      t4 = Fp.sub(t4, t5);\n      t5 = Fp.add(Y1, Z1);\n      X3 = Fp.add(Y2, Z2); // step 15\n      t5 = Fp.mul(t5, X3);\n      X3 = Fp.add(t1, t2);\n      t5 = Fp.sub(t5, X3);\n      Z3 = Fp.mul(a, t4);\n      X3 = Fp.mul(b3, t2); // step 20\n      Z3 = Fp.add(X3, Z3);\n      X3 = Fp.sub(t1, Z3);\n      Z3 = Fp.add(t1, Z3);\n      Y3 = Fp.mul(X3, Z3);\n      t1 = Fp.add(t0, t0); // step 25\n      t1 = Fp.add(t1, t0);\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.mul(b3, t4);\n      t1 = Fp.add(t1, t2);\n      t2 = Fp.sub(t0, t2); // step 30\n      t2 = Fp.mul(a, t2);\n      t4 = Fp.add(t4, t2);\n      t0 = Fp.mul(t1, t4);\n      Y3 = Fp.add(Y3, t0);\n      t0 = Fp.mul(t5, t4); // step 35\n      X3 = Fp.mul(t3, X3);\n      X3 = Fp.sub(X3, t0);\n      t0 = Fp.mul(t3, t1);\n      Z3 = Fp.mul(t5, Z3);\n      Z3 = Fp.add(Z3, t0); // step 40\n      return new Point(X3, Y3, Z3);\n    }\n\n    subtract(other: Point) {\n      return this.add(other.negate());\n    }\n\n    private is0() {\n      return this.equals(Point.ZERO);\n    }\n    private wNAF(n: bigint): { p: Point; f: Point } {\n      return wnaf.wNAFCached(this, pointPrecomputes, n, (comp: Point[]) => {\n        const toInv = Fp.invertBatch(comp.map((p) => p.pz));\n        return comp.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n      });\n    }\n\n    /**\n     * Non-constant-time multiplication. Uses double-and-add algorithm.\n     * It's faster, but should only be used when you don't care about\n     * an exposed private key e.g. sig verification, which works over *public* keys.\n     */\n    multiplyUnsafe(n: bigint): Point {\n      const I = Point.ZERO;\n      if (n === _0n) return I;\n      assertGE(n); // Will throw on 0\n      if (n === _1n) return this;\n      const { endo } = CURVE;\n      if (!endo) return wnaf.unsafeLadder(this, n);\n\n      // Apply endomorphism\n      let { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n      let k1p = I;\n      let k2p = I;\n      let d: Point = this;\n      while (k1 > _0n || k2 > _0n) {\n        if (k1 & _1n) k1p = k1p.add(d);\n        if (k2 & _1n) k2p = k2p.add(d);\n        d = d.double();\n        k1 >>= _1n;\n        k2 >>= _1n;\n      }\n      if (k1neg) k1p = k1p.negate();\n      if (k2neg) k2p = k2p.negate();\n      k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n      return k1p.add(k2p);\n    }\n\n    /**\n     * Constant time multiplication.\n     * Uses wNAF method. Windowed method may be 10% faster,\n     * but takes 2x longer to generate and consumes 2x memory.\n     * Uses precomputes when available.\n     * Uses endomorphism for Koblitz curves.\n     * @param scalar by which the point would be multiplied\n     * @returns New point\n     */\n    multiply(scalar: bigint): Point {\n      assertGE(scalar);\n      let n = scalar;\n      let point: Point, fake: Point; // Fake point is used to const-time mult\n      const { endo } = CURVE;\n      if (endo) {\n        const { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n        let { p: k1p, f: f1p } = this.wNAF(k1);\n        let { p: k2p, f: f2p } = this.wNAF(k2);\n        k1p = wnaf.constTimeNegate(k1neg, k1p);\n        k2p = wnaf.constTimeNegate(k2neg, k2p);\n        k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n        point = k1p.add(k2p);\n        fake = f1p.add(f2p);\n      } else {\n        const { p, f } = this.wNAF(n);\n        point = p;\n        fake = f;\n      }\n      // Normalize `z` for both points, but return only real one\n      return Point.normalizeZ([point, fake])[0];\n    }\n\n    /**\n     * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.\n     * Not using Strauss-Shamir trick: precomputation tables are faster.\n     * The trick could be useful if both P and Q are not G (not in our case).\n     * @returns non-zero affine point\n     */\n    multiplyAndAddUnsafe(Q: Point, a: bigint, b: bigint): Point | undefined {\n      const G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes\n      const mul = (\n        P: Point,\n        a: bigint // Select faster multiply() method\n      ) => (a === _0n || a === _1n || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a));\n      const sum = mul(this, a).add(mul(Q, b));\n      return sum.is0() ? undefined : sum;\n    }\n\n    // Converts Projective point to affine (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    // (x, y, z) \u220B (x=x/z, y=y/z)\n    toAffine(iz?: T): AffinePoint<T> {\n      const { px: x, py: y, pz: z } = this;\n      const is0 = this.is0();\n      // If invZ was 0, we return zero point. However we still want to execute\n      // all operations, so we replace invZ with a random number, 1.\n      if (iz == null) iz = is0 ? Fp.ONE : Fp.inv(z);\n      const ax = Fp.mul(x, iz);\n      const ay = Fp.mul(y, iz);\n      const zz = Fp.mul(z, iz);\n      if (is0) return { x: Fp.ZERO, y: Fp.ZERO };\n      if (!Fp.eql(zz, Fp.ONE)) throw new Error('invZ was invalid');\n      return { x: ax, y: ay };\n    }\n    isTorsionFree(): boolean {\n      const { h: cofactor, isTorsionFree } = CURVE;\n      if (cofactor === _1n) return true; // No subgroups, always torsion-free\n      if (isTorsionFree) return isTorsionFree(Point, this);\n      throw new Error('isTorsionFree() has not been declared for the elliptic curve');\n    }\n    clearCofactor(): Point {\n      const { h: cofactor, clearCofactor } = CURVE;\n      if (cofactor === _1n) return this; // Fast-path\n      if (clearCofactor) return clearCofactor(Point, this) as Point;\n      return this.multiplyUnsafe(CURVE.h);\n    }\n\n    toRawBytes(isCompressed = true): Uint8Array {\n      this.assertValidity();\n      return toBytes(Point, this, isCompressed);\n    }\n\n    toHex(isCompressed = true): string {\n      return ut.bytesToHex(this.toRawBytes(isCompressed));\n    }\n  }\n  const _bits = CURVE.nBitLength;\n  const wnaf = wNAF(Point, CURVE.endo ? Math.ceil(_bits / 2) : _bits);\n  // Validate if generator point is on curve\n  return {\n    CURVE,\n    ProjectivePoint: Point as ProjConstructor<T>,\n    normPrivateKeyToScalar,\n    weierstrassEquation,\n    isWithinCurveOrder,\n  };\n}\n\n// Instance\nexport interface SignatureType {\n  readonly r: bigint;\n  readonly s: bigint;\n  readonly recovery?: number;\n  assertValidity(): void;\n  addRecoveryBit(recovery: number): RecoveredSignatureType;\n  hasHighS(): boolean;\n  normalizeS(): SignatureType;\n  recoverPublicKey(msgHash: Hex): ProjPointType<bigint>;\n  toCompactRawBytes(): Uint8Array;\n  toCompactHex(): string;\n  // DER-encoded\n  toDERRawBytes(isCompressed?: boolean): Uint8Array;\n  toDERHex(isCompressed?: boolean): string;\n}\nexport type RecoveredSignatureType = SignatureType & {\n  readonly recovery: number;\n};\n// Static methods\nexport type SignatureConstructor = {\n  new (r: bigint, s: bigint): SignatureType;\n  fromCompact(hex: Hex): SignatureType;\n  fromDER(hex: Hex): SignatureType;\n};\ntype SignatureLike = { r: bigint; s: bigint };\n\nexport type PubKey = Hex | ProjPointType<bigint>;\n\nexport type CurveType = BasicWCurve<bigint> & {\n  hash: CHash; // CHash not FHash because we need outputLen for DRBG\n  hmac: HmacFnSync;\n  randomBytes: (bytesLength?: number) => Uint8Array;\n  lowS?: boolean;\n  bits2int?: (bytes: Uint8Array) => bigint;\n  bits2int_modN?: (bytes: Uint8Array) => bigint;\n};\n\nfunction validateOpts(curve: CurveType) {\n  const opts = validateBasic(curve);\n  ut.validateObject(\n    opts,\n    {\n      hash: 'hash',\n      hmac: 'function',\n      randomBytes: 'function',\n    },\n    {\n      bits2int: 'function',\n      bits2int_modN: 'function',\n      lowS: 'boolean',\n    }\n  );\n  return Object.freeze({ lowS: true, ...opts } as const);\n}\n\nexport type CurveFn = {\n  CURVE: ReturnType<typeof validateOpts>;\n  getPublicKey: (privateKey: PrivKey, isCompressed?: boolean) => Uint8Array;\n  getSharedSecret: (privateA: PrivKey, publicB: Hex, isCompressed?: boolean) => Uint8Array;\n  sign: (msgHash: Hex, privKey: PrivKey, opts?: SignOpts) => RecoveredSignatureType;\n  verify: (signature: Hex | SignatureLike, msgHash: Hex, publicKey: Hex, opts?: VerOpts) => boolean;\n  ProjectivePoint: ProjConstructor<bigint>;\n  Signature: SignatureConstructor;\n  utils: {\n    normPrivateKeyToScalar: (key: PrivKey) => bigint;\n    isValidPrivateKey(privateKey: PrivKey): boolean;\n    randomPrivateKey: () => Uint8Array;\n    precompute: (windowSize?: number, point?: ProjPointType<bigint>) => ProjPointType<bigint>;\n  };\n};\n\nexport function weierstrass(curveDef: CurveType): CurveFn {\n  const CURVE = validateOpts(curveDef) as ReturnType<typeof validateOpts>;\n  const { Fp, n: CURVE_ORDER } = CURVE;\n  const compressedLen = Fp.BYTES + 1; // e.g. 33 for 32\n  const uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32\n\n  function isValidFieldElement(num: bigint): boolean {\n    return _0n < num && num < Fp.ORDER; // 0 is banned since it's not invertible FE\n  }\n  function modN(a: bigint) {\n    return mod.mod(a, CURVE_ORDER);\n  }\n  function invN(a: bigint) {\n    return mod.invert(a, CURVE_ORDER);\n  }\n\n  const {\n    ProjectivePoint: Point,\n    normPrivateKeyToScalar,\n    weierstrassEquation,\n    isWithinCurveOrder,\n  } = weierstrassPoints({\n    ...CURVE,\n    toBytes(_c, point, isCompressed: boolean): Uint8Array {\n      const a = point.toAffine();\n      const x = Fp.toBytes(a.x);\n      const cat = ut.concatBytes;\n      if (isCompressed) {\n        return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);\n      } else {\n        return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));\n      }\n    },\n    fromBytes(bytes: Uint8Array) {\n      const len = bytes.length;\n      const head = bytes[0];\n      const tail = bytes.subarray(1);\n      // this.assertValidity() is done inside of fromHex\n      if (len === compressedLen && (head === 0x02 || head === 0x03)) {\n        const x = ut.bytesToNumberBE(tail);\n        if (!isValidFieldElement(x)) throw new Error('Point is not on curve');\n        const y2 = weierstrassEquation(x); // y\u00B2 = x\u00B3 + ax + b\n        let y = Fp.sqrt(y2); // y = y\u00B2 ^ (p+1)/4\n        const isYOdd = (y & _1n) === _1n;\n        // ECDSA\n        const isHeadOdd = (head & 1) === 1;\n        if (isHeadOdd !== isYOdd) y = Fp.neg(y);\n        return { x, y };\n      } else if (len === uncompressedLen && head === 0x04) {\n        const x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n        const y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n        return { x, y };\n      } else {\n        throw new Error(\n          `Point of length ${len} was invalid. Expected ${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes`\n        );\n      }\n    },\n  });\n  const numToNByteStr = (num: bigint): string =>\n    ut.bytesToHex(ut.numberToBytesBE(num, CURVE.nByteLength));\n\n  function isBiggerThanHalfOrder(number: bigint) {\n    const HALF = CURVE_ORDER >> _1n;\n    return number > HALF;\n  }\n\n  function normalizeS(s: bigint) {\n    return isBiggerThanHalfOrder(s) ? modN(-s) : s;\n  }\n  // slice bytes num\n  const slcNum = (b: Uint8Array, from: number, to: number) => ut.bytesToNumberBE(b.slice(from, to));\n\n  /**\n   * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n   */\n  class Signature implements SignatureType {\n    constructor(readonly r: bigint, readonly s: bigint, readonly recovery?: number) {\n      this.assertValidity();\n    }\n\n    // pair (bytes of r, bytes of s)\n    static fromCompact(hex: Hex) {\n      const l = CURVE.nByteLength;\n      hex = ensureBytes('compactSignature', hex, l * 2);\n      return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));\n    }\n\n    // DER encoded ECDSA signature\n    // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n    static fromDER(hex: Hex) {\n      const { r, s } = DER.toSig(ensureBytes('DER', hex));\n      return new Signature(r, s);\n    }\n\n    assertValidity(): void {\n      // can use assertGE here\n      if (!isWithinCurveOrder(this.r)) throw new Error('r must be 0 < r < CURVE.n');\n      if (!isWithinCurveOrder(this.s)) throw new Error('s must be 0 < s < CURVE.n');\n    }\n\n    addRecoveryBit(recovery: number): RecoveredSignature {\n      return new Signature(this.r, this.s, recovery) as RecoveredSignature;\n    }\n\n    recoverPublicKey(msgHash: Hex): typeof Point.BASE {\n      const { r, s, recovery: rec } = this;\n      const h = bits2int_modN(ensureBytes('msgHash', msgHash)); // Truncate hash\n      if (rec == null || ![0, 1, 2, 3].includes(rec)) throw new Error('recovery id invalid');\n      const radj = rec === 2 || rec === 3 ? r + CURVE.n : r;\n      if (radj >= Fp.ORDER) throw new Error('recovery id 2 or 3 invalid');\n      const prefix = (rec & 1) === 0 ? '02' : '03';\n      const R = Point.fromHex(prefix + numToNByteStr(radj));\n      const ir = invN(radj); // r^-1\n      const u1 = modN(-h * ir); // -hr^-1\n      const u2 = modN(s * ir); // sr^-1\n      const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)\n      if (!Q) throw new Error('point at infinify'); // unsafe is fine: no priv data leaked\n      Q.assertValidity();\n      return Q;\n    }\n\n    // Signatures should be low-s, to prevent malleability.\n    hasHighS(): boolean {\n      return isBiggerThanHalfOrder(this.s);\n    }\n\n    normalizeS() {\n      return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;\n    }\n\n    // DER-encoded\n    toDERRawBytes() {\n      return ut.hexToBytes(this.toDERHex());\n    }\n    toDERHex() {\n      return DER.hexFromSig({ r: this.r, s: this.s });\n    }\n\n    // padded bytes of r, then padded bytes of s\n    toCompactRawBytes() {\n      return ut.hexToBytes(this.toCompactHex());\n    }\n    toCompactHex() {\n      return numToNByteStr(this.r) + numToNByteStr(this.s);\n    }\n  }\n  type RecoveredSignature = Signature & { recovery: number };\n\n  const utils = {\n    isValidPrivateKey(privateKey: PrivKey) {\n      try {\n        normPrivateKeyToScalar(privateKey);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    },\n    normPrivateKeyToScalar: normPrivateKeyToScalar,\n\n    /**\n     * Produces cryptographically secure private key from random of size\n     * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n     */\n    randomPrivateKey: (): Uint8Array => {\n      const length = mod.getMinHashLength(CURVE.n);\n      return mod.mapHashToField(CURVE.randomBytes(length), CURVE.n);\n    },\n\n    /**\n     * Creates precompute table for an arbitrary EC point. Makes point \"cached\".\n     * Allows to massively speed-up `point.multiply(scalar)`.\n     * @returns cached point\n     * @example\n     * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));\n     * fast.multiply(privKey); // much faster ECDH now\n     */\n    precompute(windowSize = 8, point = Point.BASE): typeof Point.BASE {\n      point._setWindowSize(windowSize);\n      point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here\n      return point;\n    },\n  };\n\n  /**\n   * Computes public key for a private key. Checks for validity of the private key.\n   * @param privateKey private key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns Public key, full when isCompressed=false; short when isCompressed=true\n   */\n  function getPublicKey(privateKey: PrivKey, isCompressed = true): Uint8Array {\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n  }\n\n  /**\n   * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n   */\n  function isProbPub(item: PrivKey | PubKey): boolean {\n    const arr = item instanceof Uint8Array;\n    const str = typeof item === 'string';\n    const len = (arr || str) && (item as Hex).length;\n    if (arr) return len === compressedLen || len === uncompressedLen;\n    if (str) return len === 2 * compressedLen || len === 2 * uncompressedLen;\n    if (item instanceof Point) return true;\n    return false;\n  }\n\n  /**\n   * ECDH (Elliptic Curve Diffie Hellman).\n   * Computes shared public key from private key and public key.\n   * Checks: 1) private key validity 2) shared key is on-curve.\n   * Does NOT hash the result.\n   * @param privateA private key\n   * @param publicB different public key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns shared public key\n   */\n  function getSharedSecret(privateA: PrivKey, publicB: Hex, isCompressed = true): Uint8Array {\n    if (isProbPub(privateA)) throw new Error('first arg must be private key');\n    if (!isProbPub(publicB)) throw new Error('second arg must be public key');\n    const b = Point.fromHex(publicB); // check for being on-curve\n    return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);\n  }\n\n  // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n  // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n  // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n  // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n  const bits2int =\n    CURVE.bits2int ||\n    function (bytes: Uint8Array): bigint {\n      // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n      // for some cases, since bytes.length * 8 is not actual bitLength.\n      const num = ut.bytesToNumberBE(bytes); // check for == u8 done here\n      const delta = bytes.length * 8 - CURVE.nBitLength; // truncate to nBitLength leftmost bits\n      return delta > 0 ? num >> BigInt(delta) : num;\n    };\n  const bits2int_modN =\n    CURVE.bits2int_modN ||\n    function (bytes: Uint8Array): bigint {\n      return modN(bits2int(bytes)); // can't use bytesToNumberBE here\n    };\n  // NOTE: pads output with zero as per spec\n  const ORDER_MASK = ut.bitMask(CURVE.nBitLength);\n  /**\n   * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n   */\n  function int2octets(num: bigint): Uint8Array {\n    if (typeof num !== 'bigint') throw new Error('bigint expected');\n    if (!(_0n <= num && num < ORDER_MASK))\n      throw new Error(`bigint expected < 2^${CURVE.nBitLength}`);\n    // works with order, can have different size than numToField!\n    return ut.numberToBytesBE(num, CURVE.nByteLength);\n  }\n\n  // Steps A, D of RFC6979 3.2\n  // Creates RFC6979 seed; converts msg/privKey to numbers.\n  // Used only in sign, not in verify.\n  // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order, this will be wrong at least for P521.\n  // Also it can be bigger for P224 + SHA256\n  function prepSig(msgHash: Hex, privateKey: PrivKey, opts = defaultSigOpts) {\n    if (['recovered', 'canonical'].some((k) => k in opts))\n      throw new Error('sign() legacy options not supported');\n    const { hash, randomBytes } = CURVE;\n    let { lowS, prehash, extraEntropy: ent } = opts; // generates low-s sigs by default\n    if (lowS == null) lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n    msgHash = ensureBytes('msgHash', msgHash);\n    if (prehash) msgHash = ensureBytes('prehashed msgHash', hash(msgHash));\n\n    // We can't later call bits2octets, since nested bits2int is broken for curves\n    // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n    // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n    const h1int = bits2int_modN(msgHash);\n    const d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n    const seedArgs = [int2octets(d), int2octets(h1int)];\n    // extraEntropy. RFC6979 3.6: additional k' (optional).\n    if (ent != null) {\n      // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n      const e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n      seedArgs.push(ensureBytes('extraEntropy', e)); // check for being bytes\n    }\n    const seed = ut.concatBytes(...seedArgs); // Step D of RFC6979 3.2\n    const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n    // Converts signature params into point w r/s, checks result for validity.\n    function k2sig(kBytes: Uint8Array): RecoveredSignature | undefined {\n      // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n      const k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n      if (!isWithinCurveOrder(k)) return; // Important: all mod() calls here must be done over N\n      const ik = invN(k); // k^-1 mod n\n      const q = Point.BASE.multiply(k).toAffine(); // q = Gk\n      const r = modN(q.x); // r = q.x mod n\n      if (r === _0n) return;\n      // Can use scalar blinding b^-1(bm + bdr) where b \u2208 [1,q\u22121] according to\n      // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n      // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n      const s = modN(ik * modN(m + r * d)); // Not using blinding here\n      if (s === _0n) return;\n      let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n      let normS = s;\n      if (lowS && isBiggerThanHalfOrder(s)) {\n        normS = normalizeS(s); // if lowS was passed, ensure s is always\n        recovery ^= 1; // // in the bottom half of N\n      }\n      return new Signature(r, normS, recovery) as RecoveredSignature; // use normS, not s\n    }\n    return { seed, k2sig };\n  }\n  const defaultSigOpts: SignOpts = { lowS: CURVE.lowS, prehash: false };\n  const defaultVerOpts: VerOpts = { lowS: CURVE.lowS, prehash: false };\n\n  /**\n   * Signs message hash with a private key.\n   * ```\n   * sign(m, d, k) where\n   *   (x, y) = G \u00D7 k\n   *   r = x mod n\n   *   s = (m + dr)/k mod n\n   * ```\n   * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n   * @param privKey private key\n   * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n   * @returns signature with recovery param\n   */\n  function sign(msgHash: Hex, privKey: PrivKey, opts = defaultSigOpts): RecoveredSignature {\n    const { seed, k2sig } = prepSig(msgHash, privKey, opts); // Steps A, D of RFC6979 3.2.\n    const C = CURVE;\n    const drbg = ut.createHmacDrbg<RecoveredSignature>(C.hash.outputLen, C.nByteLength, C.hmac);\n    return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n  }\n\n  // Enable precomputes. Slows down first publicKey computation by 20ms.\n  Point.BASE._setWindowSize(8);\n  // utils.precompute(8, ProjectivePoint.BASE)\n\n  /**\n   * Verifies a signature against message hash and public key.\n   * Rejects lowS signatures by default: to override,\n   * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n   *\n   * ```\n   * verify(r, s, h, P) where\n   *   U1 = hs^-1 mod n\n   *   U2 = rs^-1 mod n\n   *   R = U1\u22C5G - U2\u22C5P\n   *   mod(R.x, n) == r\n   * ```\n   */\n  function verify(\n    signature: Hex | SignatureLike,\n    msgHash: Hex,\n    publicKey: Hex,\n    opts = defaultVerOpts\n  ): boolean {\n    const sg = signature;\n    msgHash = ensureBytes('msgHash', msgHash);\n    publicKey = ensureBytes('publicKey', publicKey);\n    if ('strict' in opts) throw new Error('options.strict was renamed to lowS');\n    const { lowS, prehash } = opts;\n\n    let _sig: Signature | undefined = undefined;\n    let P: ProjPointType<bigint>;\n    try {\n      if (typeof sg === 'string' || sg instanceof Uint8Array) {\n        // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).\n        // Since DER can also be 2*nByteLength bytes, we check for it first.\n        try {\n          _sig = Signature.fromDER(sg);\n        } catch (derError) {\n          if (!(derError instanceof DER.Err)) throw derError;\n          _sig = Signature.fromCompact(sg);\n        }\n      } else if (typeof sg === 'object' && typeof sg.r === 'bigint' && typeof sg.s === 'bigint') {\n        const { r, s } = sg;\n        _sig = new Signature(r, s);\n      } else {\n        throw new Error('PARSE');\n      }\n      P = Point.fromHex(publicKey);\n    } catch (error) {\n      if ((error as Error).message === 'PARSE')\n        throw new Error(`signature must be Signature instance, Uint8Array or hex string`);\n      return false;\n    }\n    if (lowS && _sig.hasHighS()) return false;\n    if (prehash) msgHash = CURVE.hash(msgHash);\n    const { r, s } = _sig;\n    const h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n    const is = invN(s); // s^-1\n    const u1 = modN(h * is); // u1 = hs^-1 mod n\n    const u2 = modN(r * is); // u2 = rs^-1 mod n\n    const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)?.toAffine(); // R = u1\u22C5G + u2\u22C5P\n    if (!R) return false;\n    const v = modN(R.x);\n    return v === r;\n  }\n  return {\n    CURVE,\n    getPublicKey,\n    getSharedSecret,\n    sign,\n    verify,\n    ProjectivePoint: Point,\n    Signature,\n    utils,\n  };\n}\n\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio<T>(Fp: mod.IField<T>, Z: T) {\n  // Generic implementation\n  const q = Fp.ORDER;\n  let l = _0n;\n  for (let o = q - _1n; o % _2n === _0n; o /= _2n) l += _1n;\n  const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n  // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n  // 2n ** c1 == 2n << (c1-1)\n  const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n  const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n  const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n  const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n  const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n  const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n  const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n  const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n  let sqrtRatio = (u: T, v: T): { isValid: boolean; value: T } => {\n    let tv1 = c6; // 1. tv1 = c6\n    let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n    let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n    tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n    let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n    tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n    tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n    tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n    tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n    let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n    tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n    let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n    tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n    tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n    tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n    tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n    // 17. for i in (c1, c1 - 1, ..., 2):\n    for (let i = c1; i > _1n; i--) {\n      let tv5 = i - _2n; // 18.    tv5 = i - 2\n      tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n      let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n      const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n      tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n      tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n      tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n      tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n      tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n    }\n    return { isValid: isQR, value: tv3 };\n  };\n  if (Fp.ORDER % _4n === _3n) {\n    // sqrt_ratio_3mod4(u, v)\n    const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n    const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n    sqrtRatio = (u: T, v: T) => {\n      let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n      const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n      tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n      let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n      y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n      const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n      const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n      const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n      let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n      return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n    };\n  }\n  // No curves uses that\n  // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n  return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nexport function mapToCurveSimpleSWU<T>(\n  Fp: mod.IField<T>,\n  opts: {\n    A: T;\n    B: T;\n    Z: T;\n  }\n) {\n  mod.validateField(Fp);\n  if (!Fp.isValid(opts.A) || !Fp.isValid(opts.B) || !Fp.isValid(opts.Z))\n    throw new Error('mapToCurveSimpleSWU: invalid opts');\n  const sqrtRatio = SWUFpSqrtRatio(Fp, opts.Z);\n  if (!Fp.isOdd) throw new Error('Fp.isOdd is not implemented!');\n  // Input: u, an element of F.\n  // Output: (x, y), a point on E.\n  return (u: T): { x: T; y: T } => {\n    // prettier-ignore\n    let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n    tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, opts.Z); // 2.  tv1 = Z * tv1\n    tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n    tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n    tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n    tv3 = Fp.mul(tv3, opts.B); // 6.  tv3 = B * tv3\n    tv4 = Fp.cmov(opts.Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n    tv4 = Fp.mul(tv4, opts.A); // 8.  tv4 = A * tv4\n    tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n    tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n    tv5 = Fp.mul(tv6, opts.A); // 11. tv5 = A * tv6\n    tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n    tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n    tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n    tv5 = Fp.mul(tv6, opts.B); // 15. tv5 = B * tv6\n    tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n    x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n    const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n    y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n    y = Fp.mul(y, value); // 20.   y = y * y1\n    x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n    y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n    const e1 = Fp.isOdd!(u) === Fp.isOdd!(y); // 23.  e1 = sgn0(u) == sgn0(y)\n    y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n    x = Fp.div(x, tv4); // 25.   x = x / tv4\n    return { x, y };\n  };\n}\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Abelian group utilities\nimport { IField, validateField, nLength } from './modular.js';\nimport { validateObject } from './utils.js';\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\n\nexport type AffinePoint<T> = {\n  x: T;\n  y: T;\n} & { z?: never; t?: never };\n\nexport interface Group<T extends Group<T>> {\n  double(): T;\n  negate(): T;\n  add(other: T): T;\n  subtract(other: T): T;\n  equals(other: T): boolean;\n  multiply(scalar: bigint): T;\n}\n\nexport type GroupConstructor<T> = {\n  BASE: T;\n  ZERO: T;\n};\nexport type Mapper<T> = (i: T[]) => T[];\n\n// Elliptic curve multiplication of Point by scalar. Fragile.\n// Scalars should always be less than curve order: this should be checked inside of a curve itself.\n// Creates precomputation tables for fast multiplication:\n// - private scalar is split by fixed size windows of W bits\n// - every window point is collected from window's table & added to accumulator\n// - since windows are different, same point inside tables won't be accessed more than once per calc\n// - each multiplication is 'Math.ceil(CURVE_ORDER / \uD835\uDC4A) + 1' point additions (fixed for any scalar)\n// - +1 window is neccessary for wNAF\n// - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n// TODO: Research returning 2d JS array of windows, instead of a single window. This would allow\n// windows to be in different memory locations\nexport function wNAF<T extends Group<T>>(c: GroupConstructor<T>, bits: number) {\n  const constTimeNegate = (condition: boolean, item: T): T => {\n    const neg = item.negate();\n    return condition ? neg : item;\n  };\n  const opts = (W: number) => {\n    const windows = Math.ceil(bits / W) + 1; // +1, because\n    const windowSize = 2 ** (W - 1); // -1 because we skip zero\n    return { windows, windowSize };\n  };\n  return {\n    constTimeNegate,\n    // non-const time multiplication ladder\n    unsafeLadder(elm: T, n: bigint) {\n      let p = c.ZERO;\n      let d: T = elm;\n      while (n > _0n) {\n        if (n & _1n) p = p.add(d);\n        d = d.double();\n        n >>= _1n;\n      }\n      return p;\n    },\n\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(\uD835\uDC4A\u22121) * (Math.ceil(\uD835\uDC5B / \uD835\uDC4A) + 1), where:\n     * - \uD835\uDC4A is the window size\n     * - \uD835\uDC5B is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow(elm: T, W: number): Group<T>[] {\n      const { windows, windowSize } = opts(W);\n      const points: T[] = [];\n      let p: T = elm;\n      let base = p;\n      for (let window = 0; window < windows; window++) {\n        base = p;\n        points.push(base);\n        // =1, because we skip zero\n        for (let i = 1; i < windowSize; i++) {\n          base = base.add(p);\n          points.push(base);\n        }\n        p = base.double();\n      }\n      return points;\n    },\n\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @returns real and fake (for const-time) points\n     */\n    wNAF(W: number, precomputes: T[], n: bigint): { p: T; f: T } {\n      // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise\n      // But need to carefully remove other checks before wNAF. ORDER == bits here\n      const { windows, windowSize } = opts(W);\n\n      let p = c.ZERO;\n      let f = c.BASE;\n\n      const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n      const maxNumber = 2 ** W;\n      const shiftBy = BigInt(W);\n\n      for (let window = 0; window < windows; window++) {\n        const offset = window * windowSize;\n        // Extract W bits.\n        let wbits = Number(n & mask);\n\n        // Shift number by W bits.\n        n >>= shiftBy;\n\n        // If the bits are bigger than max size, we'll split those.\n        // +224 => 256 - 32\n        if (wbits > windowSize) {\n          wbits -= maxNumber;\n          n += _1n;\n        }\n\n        // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n        // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n        // there is negate now: it is possible that negated element from low value\n        // would be the same as high element, which will create carry into next window.\n        // It's not obvious how this can fail, but still worth investigating later.\n\n        // Check if we're onto Zero point.\n        // Add random point inside current window to f.\n        const offset1 = offset;\n        const offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero\n        const cond1 = window % 2 !== 0;\n        const cond2 = wbits < 0;\n        if (wbits === 0) {\n          // The most important part for const-time getPublicKey\n          f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n        } else {\n          p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n        }\n      }\n      // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()\n      // Even if the variable is still unused, there are some checks which will\n      // throw an exception, so compiler needs to prove they won't happen, which is hard.\n      // At this point there is a way to F be infinity-point even if p is not,\n      // which makes it less const-time: around 1 bigint multiply.\n      return { p, f };\n    },\n\n    wNAFCached(P: T, precomputesMap: Map<T, T[]>, n: bigint, transform: Mapper<T>): { p: T; f: T } {\n      // @ts-ignore\n      const W: number = P._WINDOW_SIZE || 1;\n      // Calculate precomputes on a first run, reuse them after\n      let comp = precomputesMap.get(P);\n      if (!comp) {\n        comp = this.precomputeWindow(P, W) as T[];\n        if (W !== 1) {\n          precomputesMap.set(P, transform(comp));\n        }\n      }\n      return this.wNAF(W, comp, n);\n    },\n  };\n}\n\n// Generic BasicCurve interface: works even for polynomial fields (BLS): P, n, h would be ok.\n// Though generator can be different (Fp2 / Fp6 for BLS).\nexport type BasicCurve<T> = {\n  Fp: IField<T>; // Field over which we'll do calculations (Fp)\n  n: bigint; // Curve order, total count of valid points in the field\n  nBitLength?: number; // bit length of curve order\n  nByteLength?: number; // byte length of curve order\n  h: bigint; // cofactor. we can assign default=1, but users will just ignore it w/o validation\n  hEff?: bigint; // Number to multiply to clear cofactor\n  Gx: T; // base point X coordinate\n  Gy: T; // base point Y coordinate\n  allowInfinityPoint?: boolean; // bls12-381 requires it. ZERO point is valid, but invalid pubkey\n};\n\nexport function validateBasic<FP, T>(curve: BasicCurve<FP> & T) {\n  validateField(curve.Fp);\n  validateObject(\n    curve,\n    {\n      n: 'bigint',\n      h: 'bigint',\n      Gx: 'field',\n      Gy: 'field',\n    },\n    {\n      nBitLength: 'isSafeInteger',\n      nByteLength: 'isSafeInteger',\n    }\n  );\n  // Set defaults\n  return Object.freeze({\n    ...nLength(curve.n, curve.nBitLength),\n    ...curve,\n    ...{ p: curve.Fp.ORDER },\n  } as const);\n}\n", "/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac } from '@noble/hashes/hmac';\nimport { concatBytes, randomBytes } from '@noble/hashes/utils';\nimport { weierstrass, CurveType } from './abstract/weierstrass.js';\nimport { CHash } from './abstract/utils.js';\n\n// connects noble-curves to noble-hashes\nexport function getHash(hash: CHash) {\n  return {\n    hash,\n    hmac: (key: Uint8Array, ...msgs: Uint8Array[]) => hmac(hash, key, concatBytes(...msgs)),\n    randomBytes,\n  };\n}\n// Same API as @noble/hashes, with ability to create curve with custom hash\ntype CurveDef = Readonly<Omit<CurveType, 'hash' | 'hmac' | 'randomBytes'>>;\nexport function createCurve(curveDef: CurveDef, defHash: CHash) {\n  const create = (hash: CHash) => weierstrass({ ...curveDef, ...getHash(hash) });\n  return Object.freeze({ ...create(defHash), create });\n}\n", "import { hash as assertHash, bytes as assertBytes, exists as assertExists } from './_assert.js';\nimport { Hash, CHash, Input, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport class HMAC<T extends Hash<T>> extends Hash<HMAC<T>> {\n  oHash: T;\n  iHash: T;\n  blockLen: number;\n  outputLen: number;\n  private finished = false;\n  private destroyed = false;\n\n  constructor(hash: CHash, _key: Input) {\n    super();\n    assertHash(hash);\n    const key = toBytes(_key);\n    this.iHash = hash.create() as T;\n    if (typeof this.iHash.update !== 'function')\n      throw new Error('Expected instance of class which extends utils.Hash');\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n    this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    this.oHash = hash.create() as T;\n    // Undo internal XOR && apply outer XOR\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n    this.oHash.update(pad);\n    pad.fill(0);\n  }\n  update(buf: Input) {\n    assertExists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assertExists(this);\n    assertBytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest() {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to?: HMAC<T>): HMAC<T> {\n    // Create new instance without calling constructor since key already in state and we don't know it.\n    to ||= Object.create(Object.getPrototypeOf(this), {});\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to as this;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  destroy() {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n}\n\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash: CHash, key: Input, message: Input): Uint8Array =>\n  new HMAC<any>(hash, key).update(message).digest();\nhmac.create = (hash: CHash, key: Input) => new HMAC<any>(hash, key);\n", "/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\nconst u8a = (a: any): a is Uint8Array => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word: number, shift: number) => (word << (32 - shift)) | (word >>> shift);\n\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  const array = new Uint8Array(len / 2);\n  for (let i = 0; i < array.length; i++) {\n    const j = i * 2;\n    const hexByte = hex.slice(j, j + 2);\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(`expected Uint8Array, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n  let pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach((a) => {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nconst isPlainObject = (obj: any) =>\n  Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts)))\n    throw new Error('Options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\nexport type CHash = ReturnType<typeof wrapConstructor>;\n\nexport function wrapConstructor<T extends Hash<T>>(hashCons: () => Hash<T>) {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function wrapConstructorWithOpts<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function wrapXOFConstructorWithOpts<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n", "// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// See utils.ts for details.\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n", "import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n\n// Choice: a ? b : c\nconst Chi = (a: number, b: number, c: number) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a: number, b: number, c: number) => (a & b) ^ (a & c) ^ (b & c);\n\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = new Uint32Array([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = new Uint32Array([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = new Uint32Array(64);\nclass SHA256 extends SHA2<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  A = IV[0] | 0;\n  B = IV[1] | 0;\n  C = IV[2] | 0;\n  D = IV[3] | 0;\n  E = IV[4] | 0;\n  F = IV[5] | 0;\n  G = IV[6] | 0;\n  H = IV[7] | 0;\n\n  constructor() {\n    super(64, 32, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ) {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean() {\n    SHA256_W.fill(0);\n  }\n  destroy() {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    this.buffer.fill(0);\n  }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n  A = 0xc1059ed8 | 0;\n  B = 0x367cd507 | 0;\n  C = 0x3070dd17 | 0;\n  D = 0xf70e5939 | 0;\n  E = 0xffc00b31 | 0;\n  F = 0x68581511 | 0;\n  G = 0x64f98fa7 | 0;\n  H = 0xbefa4fa4 | 0;\n  constructor() {\n    super();\n    this.outputLen = 28;\n  }\n}\n\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = wrapConstructor(() => new SHA256());\nexport const sha224 = wrapConstructor(() => new SHA224());\n", "import assert from './_assert.js';\nimport { Hash, createView, Input, toBytes } from './utils.js';\n\n// Polyfill for Safari 14\nfunction setBigUint64(view: DataView, byteOffset: number, value: bigint, isLE: boolean): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n// Base SHA2 class (RFC 6234)\nexport abstract class SHA2<T extends SHA2<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(\n    readonly blockLen: number,\n    public outputLen: number,\n    readonly padOffset: number,\n    readonly isLE: boolean\n  ) {\n    super();\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    assert.exists(this);\n    const { view, buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assert.exists(this);\n    assert.output(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    this.buffer.subarray(pos).fill(0);\n    // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest() {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.length = length;\n    to.pos = pos;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n}\n", "export function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nexport function bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\nexport function bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\ntype Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nexport function hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nexport function exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nexport function output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nconst assert = {\n  number,\n  bool,\n  bytes,\n  hash,\n  exists,\n  output,\n};\n\nexport default assert;\n", "/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nexport function assertNumber(n) {\n    if (!Number.isSafeInteger(n))\n        throw new Error(`Wrong integer: ${n}`);\n}\nfunction chain(...args) {\n    const wrap = (a, b) => (c) => a(b(c));\n    const encode = Array.from(args)\n        .reverse()\n        .reduce((acc, i) => (acc ? wrap(acc, i.encode) : i.encode), undefined);\n    const decode = args.reduce((acc, i) => (acc ? wrap(acc, i.decode) : i.decode), undefined);\n    return { encode, decode };\n}\nfunction alphabet(alphabet) {\n    return {\n        encode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('alphabet.encode input should be an array of numbers');\n            return digits.map((i) => {\n                assertNumber(i);\n                if (i < 0 || i >= alphabet.length)\n                    throw new Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);\n                return alphabet[i];\n            });\n        },\n        decode: (input) => {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('alphabet.decode input should be array of strings');\n            return input.map((letter) => {\n                if (typeof letter !== 'string')\n                    throw new Error(`alphabet.decode: not string element=${letter}`);\n                const index = alphabet.indexOf(letter);\n                if (index === -1)\n                    throw new Error(`Unknown letter: \"${letter}\". Allowed: ${alphabet}`);\n                return index;\n            });\n        },\n    };\n}\nfunction join(separator = '') {\n    if (typeof separator !== 'string')\n        throw new Error('join separator should be string');\n    return {\n        encode: (from) => {\n            if (!Array.isArray(from) || (from.length && typeof from[0] !== 'string'))\n                throw new Error('join.encode input should be array of strings');\n            for (let i of from)\n                if (typeof i !== 'string')\n                    throw new Error(`join.encode: non-string input=${i}`);\n            return from.join(separator);\n        },\n        decode: (to) => {\n            if (typeof to !== 'string')\n                throw new Error('join.decode input should be string');\n            return to.split(separator);\n        },\n    };\n}\nfunction padding(bits, chr = '=') {\n    assertNumber(bits);\n    if (typeof chr !== 'string')\n        throw new Error('padding chr should be string');\n    return {\n        encode(data) {\n            if (!Array.isArray(data) || (data.length && typeof data[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of data)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.encode: non-string input=${i}`);\n            while ((data.length * bits) % 8)\n                data.push(chr);\n            return data;\n        },\n        decode(input) {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of input)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.decode: non-string input=${i}`);\n            let end = input.length;\n            if ((end * bits) % 8)\n                throw new Error('Invalid padding: string should have whole number of bytes');\n            for (; end > 0 && input[end - 1] === chr; end--) {\n                if (!(((end - 1) * bits) % 8))\n                    throw new Error('Invalid padding: string has too much padding');\n            }\n            return input.slice(0, end);\n        },\n    };\n}\nfunction normalize(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('normalize fn should be function');\n    return { encode: (from) => from, decode: (to) => fn(to) };\n}\nfunction convertRadix(data, from, to) {\n    if (from < 2)\n        throw new Error(`convertRadix: wrong from=${from}, base cannot be less than 2`);\n    if (to < 2)\n        throw new Error(`convertRadix: wrong to=${to}, base cannot be less than 2`);\n    if (!Array.isArray(data))\n        throw new Error('convertRadix: data should be array');\n    if (!data.length)\n        return [];\n    let pos = 0;\n    const res = [];\n    const digits = Array.from(data);\n    digits.forEach((d) => {\n        assertNumber(d);\n        if (d < 0 || d >= from)\n            throw new Error(`Wrong integer: ${d}`);\n    });\n    while (true) {\n        let carry = 0;\n        let done = true;\n        for (let i = pos; i < digits.length; i++) {\n            const digit = digits[i];\n            const digitBase = from * carry + digit;\n            if (!Number.isSafeInteger(digitBase) ||\n                (from * carry) / from !== carry ||\n                digitBase - digit !== from * carry) {\n                throw new Error('convertRadix: carry overflow');\n            }\n            carry = digitBase % to;\n            digits[i] = Math.floor(digitBase / to);\n            if (!Number.isSafeInteger(digits[i]) || digits[i] * to + carry !== digitBase)\n                throw new Error('convertRadix: carry overflow');\n            if (!done)\n                continue;\n            else if (!digits[i])\n                pos = i;\n            else\n                done = false;\n        }\n        res.push(carry);\n        if (done)\n            break;\n    }\n    for (let i = 0; i < data.length - 1 && data[i] === 0; i++)\n        res.push(0);\n    return res.reverse();\n}\nconst gcd = (a, b) => (!b ? a : gcd(b, a % b));\nconst radix2carry = (from, to) => from + (to - gcd(from, to));\nfunction convertRadix2(data, from, to, padding) {\n    if (!Array.isArray(data))\n        throw new Error('convertRadix2: data should be array');\n    if (from <= 0 || from > 32)\n        throw new Error(`convertRadix2: wrong from=${from}`);\n    if (to <= 0 || to > 32)\n        throw new Error(`convertRadix2: wrong to=${to}`);\n    if (radix2carry(from, to) > 32) {\n        throw new Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`);\n    }\n    let carry = 0;\n    let pos = 0;\n    const mask = 2 ** to - 1;\n    const res = [];\n    for (const n of data) {\n        assertNumber(n);\n        if (n >= 2 ** from)\n            throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n        carry = (carry << from) | n;\n        if (pos + from > 32)\n            throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n        pos += from;\n        for (; pos >= to; pos -= to)\n            res.push(((carry >> (pos - to)) & mask) >>> 0);\n        carry &= 2 ** pos - 1;\n    }\n    carry = (carry << (to - pos)) & mask;\n    if (!padding && pos >= from)\n        throw new Error('Excess padding');\n    if (!padding && carry)\n        throw new Error(`Non-zero padding: ${carry}`);\n    if (padding && pos > 0)\n        res.push(carry >>> 0);\n    return res;\n}\nfunction radix(num) {\n    assertNumber(num);\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix.encode input should be Uint8Array');\n            return convertRadix(Array.from(bytes), 2 ** 8, num);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix.decode input should be array of strings');\n            return Uint8Array.from(convertRadix(digits, num, 2 ** 8));\n        },\n    };\n}\nfunction radix2(bits, revPadding = false) {\n    assertNumber(bits);\n    if (bits <= 0 || bits > 32)\n        throw new Error('radix2: bits should be in (0..32]');\n    if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n        throw new Error('radix2: carry overflow');\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix2.encode input should be Uint8Array');\n            return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix2.decode input should be array of strings');\n            return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n        },\n    };\n}\nfunction unsafeWrapper(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('unsafeWrapper fn should be function');\n    return function (...args) {\n        try {\n            return fn.apply(null, args);\n        }\n        catch (e) { }\n    };\n}\nfunction checksum(len, fn) {\n    assertNumber(len);\n    if (typeof fn !== 'function')\n        throw new Error('checksum fn should be function');\n    return {\n        encode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.encode: input should be Uint8Array');\n            const checksum = fn(data).slice(0, len);\n            const res = new Uint8Array(data.length + len);\n            res.set(data);\n            res.set(checksum, data.length);\n            return res;\n        },\n        decode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.decode: input should be Uint8Array');\n            const payload = data.slice(0, -len);\n            const newChecksum = fn(payload).slice(0, len);\n            const oldChecksum = data.slice(-len);\n            for (let i = 0; i < len; i++)\n                if (newChecksum[i] !== oldChecksum[i])\n                    throw new Error('Invalid checksum');\n            return payload;\n        },\n    };\n}\nexport const utils = { alphabet, chain, checksum, radix, radix2, join, padding };\nexport const base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexport const base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexport const base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexport const base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize((s) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1')));\nexport const base64 = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexport const base64url = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nconst genBase58 = (abc) => chain(radix(58), alphabet(abc), join(''));\nexport const base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexport const base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexport const base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexport const base58xmr = {\n    encode(data) {\n        let res = '';\n        for (let i = 0; i < data.length; i += 8) {\n            const block = data.subarray(i, i + 8);\n            res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n        }\n        return res;\n    },\n    decode(str) {\n        let res = [];\n        for (let i = 0; i < str.length; i += 11) {\n            const slice = str.slice(i, i + 11);\n            const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n            const block = base58.decode(slice);\n            for (let j = 0; j < block.length - blockLen; j++) {\n                if (block[j] !== 0)\n                    throw new Error('base58xmr: wrong padding');\n            }\n            res = res.concat(Array.from(block.slice(block.length - blockLen)));\n        }\n        return Uint8Array.from(res);\n    },\n};\nexport const base58check = (sha256) => chain(checksum(4, (data) => sha256(sha256(data))), base58);\nconst BECH_ALPHABET = chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre) {\n    const b = pre >> 25;\n    let chk = (pre & 0x1ffffff) << 5;\n    for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n        if (((b >> i) & 1) === 1)\n            chk ^= POLYMOD_GENERATORS[i];\n    }\n    return chk;\n}\nfunction bechChecksum(prefix, words, encodingConst = 1) {\n    const len = prefix.length;\n    let chk = 1;\n    for (let i = 0; i < len; i++) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            throw new Error(`Invalid prefix (${prefix})`);\n        chk = bech32Polymod(chk) ^ (c >> 5);\n    }\n    chk = bech32Polymod(chk);\n    for (let i = 0; i < len; i++)\n        chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n    for (let v of words)\n        chk = bech32Polymod(chk) ^ v;\n    for (let i = 0; i < 6; i++)\n        chk = bech32Polymod(chk);\n    chk ^= encodingConst;\n    return BECH_ALPHABET.encode(convertRadix2([chk % 2 ** 30], 30, 5, false));\n}\nfunction genBech32(encoding) {\n    const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n    const _words = radix2(5);\n    const fromWords = _words.decode;\n    const toWords = _words.encode;\n    const fromWordsUnsafe = unsafeWrapper(fromWords);\n    function encode(prefix, words, limit = 90) {\n        if (typeof prefix !== 'string')\n            throw new Error(`bech32.encode prefix should be string, not ${typeof prefix}`);\n        if (!Array.isArray(words) || (words.length && typeof words[0] !== 'number'))\n            throw new Error(`bech32.encode words should be array of numbers, not ${typeof words}`);\n        const actualLength = prefix.length + 7 + words.length;\n        if (limit !== false && actualLength > limit)\n            throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n        prefix = prefix.toLowerCase();\n        return `${prefix}1${BECH_ALPHABET.encode(words)}${bechChecksum(prefix, words, ENCODING_CONST)}`;\n    }\n    function decode(str, limit = 90) {\n        if (typeof str !== 'string')\n            throw new Error(`bech32.decode input should be string, not ${typeof str}`);\n        if (str.length < 8 || (limit !== false && str.length > limit))\n            throw new TypeError(`Wrong string length: ${str.length} (${str}). Expected (8..${limit})`);\n        const lowered = str.toLowerCase();\n        if (str !== lowered && str !== str.toUpperCase())\n            throw new Error(`String must be lowercase or uppercase`);\n        str = lowered;\n        const sepIndex = str.lastIndexOf('1');\n        if (sepIndex === 0 || sepIndex === -1)\n            throw new Error(`Letter \"1\" must be present between prefix and data only`);\n        const prefix = str.slice(0, sepIndex);\n        const _words = str.slice(sepIndex + 1);\n        if (_words.length < 6)\n            throw new Error('Data must be at least 6 characters long');\n        const words = BECH_ALPHABET.decode(_words).slice(0, -6);\n        const sum = bechChecksum(prefix, words, ENCODING_CONST);\n        if (!_words.endsWith(sum))\n            throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n        return { prefix, words };\n    }\n    const decodeUnsafe = unsafeWrapper(decode);\n    function decodeToBytes(str) {\n        const { prefix, words } = decode(str, false);\n        return { prefix, words, bytes: fromWords(words) };\n    }\n    return { encode, decode, decodeToBytes, decodeUnsafe, fromWords, fromWordsUnsafe, toWords };\n}\nexport const bech32 = genBech32('bech32');\nexport const bech32m = genBech32('bech32m');\nexport const utf8 = {\n    encode: (data) => new TextDecoder().decode(data),\n    decode: (str) => new TextEncoder().encode(str),\n};\nexport const hex = chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize((s) => {\n    if (typeof s !== 'string' || s.length % 2)\n        throw new TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);\n    return s.toLowerCase();\n}));\nconst CODERS = {\n    utf8, hex, base16, base32, base64, base64url, base58, base58xmr\n};\nconst coderTypeError = `Invalid encoding type. Available types: ${Object.keys(CODERS).join(', ')}`;\nexport const bytesToString = (type, bytes) => {\n    if (typeof type !== 'string' || !CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (!(bytes instanceof Uint8Array))\n        throw new TypeError('bytesToString() expects Uint8Array');\n    return CODERS[type].encode(bytes);\n};\nexport const str = bytesToString;\nexport const stringToBytes = (type, str) => {\n    if (!CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (typeof str !== 'string')\n        throw new TypeError('stringToBytes() expects string');\n    return CODERS[type].decode(str);\n};\nexport const bytes = stringToBytes;\n", "// prettier-ignore\nimport {\n  wrapCipher, Cipher, CipherWithOutput,\n  createView, setBigUint64, equalBytes, u32, u8,\n} from './utils.js';\nimport { ghash, polyval } from './_polyval.js';\nimport { bytes as abytes } from './_assert.js';\n\n/*\nAES (Advanced Encryption Standard) aka Rijndael block cipher.\n\nData is split into 128-bit blocks. Encrypted in 10/12/14 rounds (128/192/256 bits). In every round:\n1. **S-box**, table substitution\n2. **Shift rows**, cyclic shift left of all rows of data array\n3. **Mix columns**, multiplying every column by fixed polynomial\n4. **Add round key**, round_key xor i-th column of array\n\nResources:\n- FIPS-197 https://csrc.nist.gov/files/pubs/fips/197/final/docs/fips-197.pdf\n- Original proposal: https://csrc.nist.gov/csrc/media/projects/cryptographic-standards-and-guidelines/documents/aes-development/rijndael-ammended.pdf\n*/\n\nconst BLOCK_SIZE = 16;\nconst BLOCK_SIZE32 = 4;\nconst EMPTY_BLOCK = new Uint8Array(BLOCK_SIZE);\nconst POLY = 0x11b; // 1 + x + x**3 + x**4 + x**8\n\n// TODO: remove multiplication, binary ops only\nfunction mul2(n: number) {\n  return (n << 1) ^ (POLY & -(n >> 7));\n}\n\nfunction mul(a: number, b: number) {\n  let res = 0;\n  for (; b > 0; b >>= 1) {\n    // Montgomery ladder\n    res ^= a & -(b & 1); // if (b&1) res ^=a (but const-time).\n    a = mul2(a); // a = 2*a\n  }\n  return res;\n}\n\n// AES S-box is generated using finite field inversion,\n// an affine transform, and xor of a constant 0x63.\nconst sbox = /* @__PURE__ */ (() => {\n  let t = new Uint8Array(256);\n  for (let i = 0, x = 1; i < 256; i++, x ^= mul2(x)) t[i] = x;\n  const box = new Uint8Array(256);\n  box[0] = 0x63; // first elm\n  for (let i = 0; i < 255; i++) {\n    let x = t[255 - i];\n    x |= x << 8;\n    box[t[i]] = (x ^ (x >> 4) ^ (x >> 5) ^ (x >> 6) ^ (x >> 7) ^ 0x63) & 0xff;\n  }\n  return box;\n})();\n\n// Inverted S-box\nconst invSbox = /* @__PURE__ */ sbox.map((_, j) => sbox.indexOf(j));\n\n// Rotate u32 by 8\nconst rotr32_8 = (n: number) => (n << 24) | (n >>> 8);\nconst rotl32_8 = (n: number) => (n << 8) | (n >>> 24);\n\n// T-table is optimization suggested in 5.2 of original proposal (missed from FIPS-197). Changes:\n// - LE instead of BE\n// - bigger tables: T0 and T1 are merged into T01 table and T2 & T3 into T23;\n//   so index is u16, instead of u8. This speeds up things, unexpectedly\nfunction genTtable(sbox: Uint8Array, fn: (n: number) => number) {\n  if (sbox.length !== 256) throw new Error('Wrong sbox length');\n  const T0 = new Uint32Array(256).map((_, j) => fn(sbox[j]));\n  const T1 = T0.map(rotl32_8);\n  const T2 = T1.map(rotl32_8);\n  const T3 = T2.map(rotl32_8);\n  const T01 = new Uint32Array(256 * 256);\n  const T23 = new Uint32Array(256 * 256);\n  const sbox2 = new Uint16Array(256 * 256);\n  for (let i = 0; i < 256; i++) {\n    for (let j = 0; j < 256; j++) {\n      const idx = i * 256 + j;\n      T01[idx] = T0[i] ^ T1[j];\n      T23[idx] = T2[i] ^ T3[j];\n      sbox2[idx] = (sbox[i] << 8) | sbox[j];\n    }\n  }\n  return { sbox, sbox2, T0, T1, T2, T3, T01, T23 };\n}\n\nconst tableEncoding = /* @__PURE__ */ genTtable(\n  sbox,\n  (s: number) => (mul(s, 3) << 24) | (s << 16) | (s << 8) | mul(s, 2)\n);\nconst tableDecoding = /* @__PURE__ */ genTtable(\n  invSbox,\n  (s) => (mul(s, 11) << 24) | (mul(s, 13) << 16) | (mul(s, 9) << 8) | mul(s, 14)\n);\n\nconst xPowers = /* @__PURE__ */ (() => {\n  const p = new Uint8Array(16);\n  for (let i = 0, x = 1; i < 16; i++, x = mul2(x)) p[i] = x;\n  return p;\n})();\n\nexport function expandKeyLE(key: Uint8Array): Uint32Array {\n  abytes(key);\n  const len = key.length;\n  if (![16, 24, 32].includes(len))\n    throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${len}`);\n  const { sbox2 } = tableEncoding;\n  const k32 = u32(key);\n  const Nk = k32.length;\n  const subByte = (n: number) => applySbox(sbox2, n, n, n, n);\n  const xk = new Uint32Array(len + 28); // expanded key\n  xk.set(k32);\n  // 4.3.1 Key expansion\n  for (let i = Nk; i < xk.length; i++) {\n    let t = xk[i - 1];\n    if (i % Nk === 0) t = subByte(rotr32_8(t)) ^ xPowers[i / Nk - 1];\n    else if (Nk > 6 && i % Nk === 4) t = subByte(t);\n    xk[i] = xk[i - Nk] ^ t;\n  }\n  return xk;\n}\n\nexport function expandKeyDecLE(key: Uint8Array): Uint32Array {\n  const encKey = expandKeyLE(key);\n  const xk = encKey.slice();\n  const Nk = encKey.length;\n  const { sbox2 } = tableEncoding;\n  const { T0, T1, T2, T3 } = tableDecoding;\n  // Inverse key by chunks of 4 (rounds)\n  for (let i = 0; i < Nk; i += 4) {\n    for (let j = 0; j < 4; j++) xk[i + j] = encKey[Nk - i - 4 + j];\n  }\n  encKey.fill(0);\n  // apply InvMixColumn except first & last round\n  for (let i = 4; i < Nk - 4; i++) {\n    const x = xk[i];\n    const w = applySbox(sbox2, x, x, x, x);\n    xk[i] = T0[w & 0xff] ^ T1[(w >>> 8) & 0xff] ^ T2[(w >>> 16) & 0xff] ^ T3[w >>> 24];\n  }\n  return xk;\n}\n\n// Apply tables\nfunction apply0123(\n  T01: Uint32Array,\n  T23: Uint32Array,\n  s0: number,\n  s1: number,\n  s2: number,\n  s3: number\n) {\n  return (\n    T01[((s0 << 8) & 0xff00) | ((s1 >>> 8) & 0xff)] ^\n    T23[((s2 >>> 8) & 0xff00) | ((s3 >>> 24) & 0xff)]\n  );\n}\n\nfunction applySbox(sbox2: Uint16Array, s0: number, s1: number, s2: number, s3: number) {\n  return (\n    sbox2[(s0 & 0xff) | (s1 & 0xff00)] |\n    (sbox2[((s2 >>> 16) & 0xff) | ((s3 >>> 16) & 0xff00)] << 16)\n  );\n}\n\nfunction encrypt(xk: Uint32Array, s0: number, s1: number, s2: number, s3: number) {\n  const { sbox2, T01, T23 } = tableEncoding;\n  let k = 0;\n  (s0 ^= xk[k++]), (s1 ^= xk[k++]), (s2 ^= xk[k++]), (s3 ^= xk[k++]);\n  const rounds = xk.length / 4 - 2;\n  for (let i = 0; i < rounds; i++) {\n    const t0 = xk[k++] ^ apply0123(T01, T23, s0, s1, s2, s3);\n    const t1 = xk[k++] ^ apply0123(T01, T23, s1, s2, s3, s0);\n    const t2 = xk[k++] ^ apply0123(T01, T23, s2, s3, s0, s1);\n    const t3 = xk[k++] ^ apply0123(T01, T23, s3, s0, s1, s2);\n    (s0 = t0), (s1 = t1), (s2 = t2), (s3 = t3);\n  }\n  // last round (without mixcolumns, so using SBOX2 table)\n  const t0 = xk[k++] ^ applySbox(sbox2, s0, s1, s2, s3);\n  const t1 = xk[k++] ^ applySbox(sbox2, s1, s2, s3, s0);\n  const t2 = xk[k++] ^ applySbox(sbox2, s2, s3, s0, s1);\n  const t3 = xk[k++] ^ applySbox(sbox2, s3, s0, s1, s2);\n  return { s0: t0, s1: t1, s2: t2, s3: t3 };\n}\n\nfunction decrypt(xk: Uint32Array, s0: number, s1: number, s2: number, s3: number) {\n  const { sbox2, T01, T23 } = tableDecoding;\n  let k = 0;\n  (s0 ^= xk[k++]), (s1 ^= xk[k++]), (s2 ^= xk[k++]), (s3 ^= xk[k++]);\n  const rounds = xk.length / 4 - 2;\n  for (let i = 0; i < rounds; i++) {\n    const t0 = xk[k++] ^ apply0123(T01, T23, s0, s3, s2, s1);\n    const t1 = xk[k++] ^ apply0123(T01, T23, s1, s0, s3, s2);\n    const t2 = xk[k++] ^ apply0123(T01, T23, s2, s1, s0, s3);\n    const t3 = xk[k++] ^ apply0123(T01, T23, s3, s2, s1, s0);\n    (s0 = t0), (s1 = t1), (s2 = t2), (s3 = t3);\n  }\n  // Last round\n  const t0 = xk[k++] ^ applySbox(sbox2, s0, s3, s2, s1);\n  const t1 = xk[k++] ^ applySbox(sbox2, s1, s0, s3, s2);\n  const t2 = xk[k++] ^ applySbox(sbox2, s2, s1, s0, s3);\n  const t3 = xk[k++] ^ applySbox(sbox2, s3, s2, s1, s0);\n  return { s0: t0, s1: t1, s2: t2, s3: t3 };\n}\n\nfunction getDst(len: number, dst?: Uint8Array) {\n  if (!dst) return new Uint8Array(len);\n  abytes(dst);\n  if (dst.length < len)\n    throw new Error(`aes: wrong destination length, expected at least ${len}, got: ${dst.length}`);\n  return dst;\n}\n\n// TODO: investigate merging with ctr32\nfunction ctrCounter(xk: Uint32Array, nonce: Uint8Array, src: Uint8Array, dst?: Uint8Array) {\n  abytes(nonce, BLOCK_SIZE);\n  abytes(src);\n  const srcLen = src.length;\n  dst = getDst(srcLen, dst);\n  const ctr = nonce;\n  const c32 = u32(ctr);\n  // Fill block (empty, ctr=0)\n  let { s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]);\n  const src32 = u32(src);\n  const dst32 = u32(dst);\n  // process blocks\n  for (let i = 0; i + 4 <= src32.length; i += 4) {\n    dst32[i + 0] = src32[i + 0] ^ s0;\n    dst32[i + 1] = src32[i + 1] ^ s1;\n    dst32[i + 2] = src32[i + 2] ^ s2;\n    dst32[i + 3] = src32[i + 3] ^ s3;\n    // Full 128 bit counter with wrap around\n    let carry = 1;\n    for (let i = ctr.length - 1; i >= 0; i--) {\n      carry = (carry + (ctr[i] & 0xff)) | 0;\n      ctr[i] = carry & 0xff;\n      carry >>>= 8;\n    }\n    ({ s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]));\n  }\n  // leftovers (less than block)\n  // It's possible to handle > u32 fast, but is it worth it?\n  const start = BLOCK_SIZE * Math.floor(src32.length / BLOCK_SIZE32);\n  if (start < srcLen) {\n    const b32 = new Uint32Array([s0, s1, s2, s3]);\n    const buf = u8(b32);\n    for (let i = start, pos = 0; i < srcLen; i++, pos++) dst[i] = src[i] ^ buf[pos];\n  }\n  return dst;\n}\n\n// AES CTR with overflowing 32 bit counter\n// It's possible to do 32le significantly simpler (and probably faster) by using u32.\n// But, we need both, and perf bottleneck is in ghash anyway.\nfunction ctr32(\n  xk: Uint32Array,\n  isLE: boolean,\n  nonce: Uint8Array,\n  src: Uint8Array,\n  dst?: Uint8Array\n) {\n  abytes(nonce, BLOCK_SIZE);\n  abytes(src);\n  dst = getDst(src.length, dst);\n  const ctr = nonce; // write new value to nonce, so it can be re-used\n  const c32 = u32(ctr);\n  const view = createView(ctr);\n  const src32 = u32(src);\n  const dst32 = u32(dst);\n  const ctrPos = isLE ? 0 : 12;\n  const srcLen = src.length;\n  // Fill block (empty, ctr=0)\n  let ctrNum = view.getUint32(ctrPos, isLE); // read current counter value\n  let { s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]);\n  // process blocks\n  for (let i = 0; i + 4 <= src32.length; i += 4) {\n    dst32[i + 0] = src32[i + 0] ^ s0;\n    dst32[i + 1] = src32[i + 1] ^ s1;\n    dst32[i + 2] = src32[i + 2] ^ s2;\n    dst32[i + 3] = src32[i + 3] ^ s3;\n    ctrNum = (ctrNum + 1) >>> 0; // u32 wrap\n    view.setUint32(ctrPos, ctrNum, isLE);\n    ({ s0, s1, s2, s3 } = encrypt(xk, c32[0], c32[1], c32[2], c32[3]));\n  }\n  // leftovers (less than a block)\n  const start = BLOCK_SIZE * Math.floor(src32.length / BLOCK_SIZE32);\n  if (start < srcLen) {\n    const b32 = new Uint32Array([s0, s1, s2, s3]);\n    const buf = u8(b32);\n    for (let i = start, pos = 0; i < srcLen; i++, pos++) dst[i] = src[i] ^ buf[pos];\n  }\n  return dst;\n}\n\n/**\n * CTR: counter mode. Creates stream cipher.\n * Requires good IV. Parallelizable. OK, but no MAC.\n */\nexport const ctr = wrapCipher(\n  { blockSize: 16, nonceLength: 16 },\n  function ctr(key: Uint8Array, nonce: Uint8Array): CipherWithOutput {\n    abytes(key);\n    abytes(nonce, BLOCK_SIZE);\n    function processCtr(buf: Uint8Array, dst?: Uint8Array) {\n      const xk = expandKeyLE(key);\n      const n = nonce.slice();\n      const out = ctrCounter(xk, n, buf, dst);\n      xk.fill(0);\n      n.fill(0);\n      return out;\n    }\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => processCtr(plaintext, dst),\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => processCtr(ciphertext, dst),\n    };\n  }\n);\n\nfunction validateBlockDecrypt(data: Uint8Array) {\n  abytes(data);\n  if (data.length % BLOCK_SIZE !== 0) {\n    throw new Error(\n      `aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${BLOCK_SIZE}`\n    );\n  }\n}\n\nfunction validateBlockEncrypt(plaintext: Uint8Array, pcks5: boolean, dst?: Uint8Array) {\n  let outLen = plaintext.length;\n  const remaining = outLen % BLOCK_SIZE;\n  if (!pcks5 && remaining !== 0)\n    throw new Error('aec/(cbc-ecb): unpadded plaintext with disabled padding');\n  const b = u32(plaintext);\n  if (pcks5) {\n    let left = BLOCK_SIZE - remaining;\n    if (!left) left = BLOCK_SIZE; // if no bytes left, create empty padding block\n    outLen = outLen + left;\n  }\n  const out = getDst(outLen, dst);\n  const o = u32(out);\n  return { b, o, out };\n}\n\nfunction validatePCKS(data: Uint8Array, pcks5: boolean) {\n  if (!pcks5) return data;\n  const len = data.length;\n  if (!len) throw new Error(`aes/pcks5: empty ciphertext not allowed`);\n  const lastByte = data[len - 1];\n  if (lastByte <= 0 || lastByte > 16) throw new Error(`aes/pcks5: wrong padding byte: ${lastByte}`);\n  const out = data.subarray(0, -lastByte);\n  for (let i = 0; i < lastByte; i++)\n    if (data[len - i - 1] !== lastByte) throw new Error(`aes/pcks5: wrong padding`);\n  return out;\n}\n\nfunction padPCKS(left: Uint8Array) {\n  const tmp = new Uint8Array(16);\n  const tmp32 = u32(tmp);\n  tmp.set(left);\n  const paddingByte = BLOCK_SIZE - left.length;\n  for (let i = BLOCK_SIZE - paddingByte; i < BLOCK_SIZE; i++) tmp[i] = paddingByte;\n  return tmp32;\n}\n\nexport type BlockOpts = { disablePadding?: boolean };\n\n/**\n * ECB: Electronic CodeBook. Simple deterministic replacement.\n * Dangerous: always map x to y. See [AES Penguin](https://words.filippo.io/the-ecb-penguin/).\n */\nexport const ecb = wrapCipher(\n  { blockSize: 16 },\n  function ecb(key: Uint8Array, opts: BlockOpts = {}): CipherWithOutput {\n    abytes(key);\n    const pcks5 = !opts.disablePadding;\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => {\n        abytes(plaintext);\n        const { b, o, out: _out } = validateBlockEncrypt(plaintext, pcks5, dst);\n        const xk = expandKeyLE(key);\n        let i = 0;\n        for (; i + 4 <= b.length; ) {\n          const { s0, s1, s2, s3 } = encrypt(xk, b[i + 0], b[i + 1], b[i + 2], b[i + 3]);\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        if (pcks5) {\n          const tmp32 = padPCKS(plaintext.subarray(i * 4));\n          const { s0, s1, s2, s3 } = encrypt(xk, tmp32[0], tmp32[1], tmp32[2], tmp32[3]);\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        xk.fill(0);\n        return _out;\n      },\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => {\n        validateBlockDecrypt(ciphertext);\n        const xk = expandKeyDecLE(key);\n        const out = getDst(ciphertext.length, dst);\n        const b = u32(ciphertext);\n        const o = u32(out);\n        for (let i = 0; i + 4 <= b.length; ) {\n          const { s0, s1, s2, s3 } = decrypt(xk, b[i + 0], b[i + 1], b[i + 2], b[i + 3]);\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        xk.fill(0);\n        return validatePCKS(out, pcks5);\n      },\n    };\n  }\n);\n\n/**\n * CBC: Cipher-Block-Chaining. Key is previous round\u2019s block.\n * Fragile: needs proper padding. Unauthenticated: needs MAC.\n */\nexport const cbc = wrapCipher(\n  { blockSize: 16, nonceLength: 16 },\n  function cbc(key: Uint8Array, iv: Uint8Array, opts: BlockOpts = {}): CipherWithOutput {\n    abytes(key);\n    abytes(iv, 16);\n    const pcks5 = !opts.disablePadding;\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => {\n        const xk = expandKeyLE(key);\n        const { b, o, out: _out } = validateBlockEncrypt(plaintext, pcks5, dst);\n        const n32 = u32(iv);\n        // prettier-ignore\n        let s0 = n32[0], s1 = n32[1], s2 = n32[2], s3 = n32[3];\n        let i = 0;\n        for (; i + 4 <= b.length; ) {\n          (s0 ^= b[i + 0]), (s1 ^= b[i + 1]), (s2 ^= b[i + 2]), (s3 ^= b[i + 3]);\n          ({ s0, s1, s2, s3 } = encrypt(xk, s0, s1, s2, s3));\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        if (pcks5) {\n          const tmp32 = padPCKS(plaintext.subarray(i * 4));\n          (s0 ^= tmp32[0]), (s1 ^= tmp32[1]), (s2 ^= tmp32[2]), (s3 ^= tmp32[3]);\n          ({ s0, s1, s2, s3 } = encrypt(xk, s0, s1, s2, s3));\n          (o[i++] = s0), (o[i++] = s1), (o[i++] = s2), (o[i++] = s3);\n        }\n        xk.fill(0);\n        return _out;\n      },\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => {\n        validateBlockDecrypt(ciphertext);\n        const xk = expandKeyDecLE(key);\n        const n32 = u32(iv);\n        const out = getDst(ciphertext.length, dst);\n        const b = u32(ciphertext);\n        const o = u32(out);\n        // prettier-ignore\n        let s0 = n32[0], s1 = n32[1], s2 = n32[2], s3 = n32[3];\n        for (let i = 0; i + 4 <= b.length; ) {\n          // prettier-ignore\n          const ps0 = s0, ps1 = s1, ps2 = s2, ps3 = s3;\n          (s0 = b[i + 0]), (s1 = b[i + 1]), (s2 = b[i + 2]), (s3 = b[i + 3]);\n          const { s0: o0, s1: o1, s2: o2, s3: o3 } = decrypt(xk, s0, s1, s2, s3);\n          (o[i++] = o0 ^ ps0), (o[i++] = o1 ^ ps1), (o[i++] = o2 ^ ps2), (o[i++] = o3 ^ ps3);\n        }\n        xk.fill(0);\n        return validatePCKS(out, pcks5);\n      },\n    };\n  }\n);\n\n/**\n * CFB: Cipher Feedback Mode. The input for the block cipher is the previous cipher output.\n * Unauthenticated: needs MAC.\n */\nexport const cfb = wrapCipher(\n  { blockSize: 16, nonceLength: 16 },\n  function cfb(key: Uint8Array, iv: Uint8Array): CipherWithOutput {\n    abytes(key);\n    abytes(iv, 16);\n    function processCfb(src: Uint8Array, isEncrypt: boolean, dst?: Uint8Array) {\n      const xk = expandKeyLE(key);\n      const srcLen = src.length;\n      dst = getDst(srcLen, dst);\n      const src32 = u32(src);\n      const dst32 = u32(dst);\n      const next32 = isEncrypt ? dst32 : src32;\n      const n32 = u32(iv);\n      // prettier-ignore\n      let s0 = n32[0], s1 = n32[1], s2 = n32[2], s3 = n32[3];\n      for (let i = 0; i + 4 <= src32.length; ) {\n        const { s0: e0, s1: e1, s2: e2, s3: e3 } = encrypt(xk, s0, s1, s2, s3);\n        dst32[i + 0] = src32[i + 0] ^ e0;\n        dst32[i + 1] = src32[i + 1] ^ e1;\n        dst32[i + 2] = src32[i + 2] ^ e2;\n        dst32[i + 3] = src32[i + 3] ^ e3;\n        (s0 = next32[i++]), (s1 = next32[i++]), (s2 = next32[i++]), (s3 = next32[i++]);\n      }\n      // leftovers (less than block)\n      const start = BLOCK_SIZE * Math.floor(src32.length / BLOCK_SIZE32);\n      if (start < srcLen) {\n        ({ s0, s1, s2, s3 } = encrypt(xk, s0, s1, s2, s3));\n        const buf = u8(new Uint32Array([s0, s1, s2, s3]));\n        for (let i = start, pos = 0; i < srcLen; i++, pos++) dst[i] = src[i] ^ buf[pos];\n        buf.fill(0);\n      }\n      xk.fill(0);\n      return dst;\n    }\n    return {\n      encrypt: (plaintext: Uint8Array, dst?: Uint8Array) => processCfb(plaintext, true, dst),\n      decrypt: (ciphertext: Uint8Array, dst?: Uint8Array) => processCfb(ciphertext, false, dst),\n    };\n  }\n);\n\n// TODO: merge with chacha, however gcm has bitLen while chacha has byteLen\nfunction computeTag(\n  fn: typeof ghash,\n  isLE: boolean,\n  key: Uint8Array,\n  data: Uint8Array,\n  AAD?: Uint8Array\n) {\n  const h = fn.create(key, data.length + (AAD?.length || 0));\n  if (AAD) h.update(AAD);\n  h.update(data);\n  const num = new Uint8Array(16);\n  const view = createView(num);\n  if (AAD) setBigUint64(view, 0, BigInt(AAD.length * 8), isLE);\n  setBigUint64(view, 8, BigInt(data.length * 8), isLE);\n  h.update(num);\n  return h.digest();\n}\n\n/**\n * GCM: Galois/Counter Mode.\n * Good, modern version of CTR, parallel, with MAC.\n * Be careful: MACs can be forged.\n */\nexport const gcm = wrapCipher(\n  { blockSize: 16, nonceLength: 12, tagLength: 16 },\n  function gcm(key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): Cipher {\n    abytes(nonce);\n    // Nonce can be pretty much anything (even 1 byte). But smaller nonces less secure.\n    if (nonce.length === 0) throw new Error('aes/gcm: empty nonce');\n    const tagLength = 16;\n    function _computeTag(authKey: Uint8Array, tagMask: Uint8Array, data: Uint8Array) {\n      const tag = computeTag(ghash, false, authKey, data, AAD);\n      for (let i = 0; i < tagMask.length; i++) tag[i] ^= tagMask[i];\n      return tag;\n    }\n    function deriveKeys() {\n      const xk = expandKeyLE(key);\n      const authKey = EMPTY_BLOCK.slice();\n      const counter = EMPTY_BLOCK.slice();\n      ctr32(xk, false, counter, counter, authKey);\n      if (nonce.length === 12) {\n        counter.set(nonce);\n      } else {\n        // Spec (NIST 800-38d) supports variable size nonce.\n        // Not supported for now, but can be useful.\n        const nonceLen = EMPTY_BLOCK.slice();\n        const view = createView(nonceLen);\n        setBigUint64(view, 8, BigInt(nonce.length * 8), false);\n        // ghash(nonce || u64be(0) || u64be(nonceLen*8))\n        ghash.create(authKey).update(nonce).update(nonceLen).digestInto(counter);\n      }\n      const tagMask = ctr32(xk, false, counter, EMPTY_BLOCK);\n      return { xk, authKey, counter, tagMask };\n    }\n    return {\n      encrypt: (plaintext: Uint8Array) => {\n        abytes(plaintext);\n        const { xk, authKey, counter, tagMask } = deriveKeys();\n        const out = new Uint8Array(plaintext.length + tagLength);\n        ctr32(xk, false, counter, plaintext, out);\n        const tag = _computeTag(authKey, tagMask, out.subarray(0, out.length - tagLength));\n        out.set(tag, plaintext.length);\n        xk.fill(0);\n        return out;\n      },\n      decrypt: (ciphertext: Uint8Array) => {\n        abytes(ciphertext);\n        if (ciphertext.length < tagLength)\n          throw new Error(`aes/gcm: ciphertext less than tagLen (${tagLength})`);\n        const { xk, authKey, counter, tagMask } = deriveKeys();\n        const data = ciphertext.subarray(0, -tagLength);\n        const passedTag = ciphertext.subarray(-tagLength);\n        const tag = _computeTag(authKey, tagMask, data);\n        if (!equalBytes(tag, passedTag)) throw new Error('aes/gcm: invalid ghash tag');\n        const out = ctr32(xk, false, counter, data);\n        authKey.fill(0);\n        tagMask.fill(0);\n        xk.fill(0);\n        return out;\n      },\n    };\n  }\n);\n\nconst limit = (name: string, min: number, max: number) => (value: number) => {\n  if (!Number.isSafeInteger(value) || min > value || value > max)\n    throw new Error(`${name}: invalid value=${value}, must be [${min}..${max}]`);\n};\n\n/**\n * AES-GCM-SIV: classic AES-GCM with nonce-misuse resistance.\n * Guarantees that, when a nonce is repeated, the only security loss is that identical\n * plaintexts will produce identical ciphertexts.\n * RFC 8452, https://datatracker.ietf.org/doc/html/rfc8452\n */\nexport const siv = wrapCipher(\n  { blockSize: 16, nonceLength: 12, tagLength: 16 },\n  function siv(key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): Cipher {\n    const tagLength = 16;\n    // From RFC 8452: Section 6\n    const AAD_LIMIT = limit('AAD', 0, 2 ** 36);\n    const PLAIN_LIMIT = limit('plaintext', 0, 2 ** 36);\n    const NONCE_LIMIT = limit('nonce', 12, 12);\n    const CIPHER_LIMIT = limit('ciphertext', 16, 2 ** 36 + 16);\n    abytes(nonce);\n    NONCE_LIMIT(nonce.length);\n    if (AAD) {\n      abytes(AAD);\n      AAD_LIMIT(AAD.length);\n    }\n    function deriveKeys() {\n      const len = key.length;\n      if (len !== 16 && len !== 24 && len !== 32)\n        throw new Error(`key length must be 16, 24 or 32 bytes, got: ${len} bytes`);\n      const xk = expandKeyLE(key);\n      const encKey = new Uint8Array(len);\n      const authKey = new Uint8Array(16);\n      const n32 = u32(nonce);\n      // prettier-ignore\n      let s0 = 0, s1 = n32[0], s2 = n32[1], s3 = n32[2];\n      let counter = 0;\n      for (const derivedKey of [authKey, encKey].map(u32)) {\n        const d32 = u32(derivedKey);\n        for (let i = 0; i < d32.length; i += 2) {\n          // aes(u32le(0) || nonce)[:8] || aes(u32le(1) || nonce)[:8] ...\n          const { s0: o0, s1: o1 } = encrypt(xk, s0, s1, s2, s3);\n          d32[i + 0] = o0;\n          d32[i + 1] = o1;\n          s0 = ++counter; // increment counter inside state\n        }\n      }\n      xk.fill(0);\n      return { authKey, encKey: expandKeyLE(encKey) };\n    }\n    function _computeTag(encKey: Uint32Array, authKey: Uint8Array, data: Uint8Array) {\n      const tag = computeTag(polyval, true, authKey, data, AAD);\n      // Compute the expected tag by XORing S_s and the nonce, clearing the\n      // most significant bit of the last byte and encrypting with the\n      // message-encryption key.\n      for (let i = 0; i < 12; i++) tag[i] ^= nonce[i];\n      tag[15] &= 0x7f; // Clear the highest bit\n      // encrypt tag as block\n      const t32 = u32(tag);\n      // prettier-ignore\n      let s0 = t32[0], s1 = t32[1], s2 = t32[2], s3 = t32[3];\n      ({ s0, s1, s2, s3 } = encrypt(encKey, s0, s1, s2, s3));\n      (t32[0] = s0), (t32[1] = s1), (t32[2] = s2), (t32[3] = s3);\n      return tag;\n    }\n    // actual decrypt/encrypt of message.\n    function processSiv(encKey: Uint32Array, tag: Uint8Array, input: Uint8Array) {\n      let block = tag.slice();\n      block[15] |= 0x80; // Force highest bit\n      return ctr32(encKey, true, block, input);\n    }\n    return {\n      encrypt: (plaintext: Uint8Array) => {\n        abytes(plaintext);\n        PLAIN_LIMIT(plaintext.length);\n        const { encKey, authKey } = deriveKeys();\n        const tag = _computeTag(encKey, authKey, plaintext);\n        const out = new Uint8Array(plaintext.length + tagLength);\n        out.set(tag, plaintext.length);\n        out.set(processSiv(encKey, tag, plaintext));\n        encKey.fill(0);\n        authKey.fill(0);\n        return out;\n      },\n      decrypt: (ciphertext: Uint8Array) => {\n        abytes(ciphertext);\n        CIPHER_LIMIT(ciphertext.length);\n        const tag = ciphertext.subarray(-tagLength);\n        const { encKey, authKey } = deriveKeys();\n        const plaintext = processSiv(encKey, tag, ciphertext.subarray(0, -tagLength));\n        const expectedTag = _computeTag(encKey, authKey, plaintext);\n        encKey.fill(0);\n        authKey.fill(0);\n        if (!equalBytes(tag, expectedTag)) throw new Error('invalid polyval tag');\n        return plaintext;\n      },\n    };\n  }\n);\n\nfunction isBytes32(a: unknown): a is Uint8Array {\n  return (\n    a != null &&\n    typeof a === 'object' &&\n    (a instanceof Uint32Array || a.constructor.name === 'Uint32Array')\n  );\n}\n\nfunction encryptBlock(xk: Uint32Array, block: Uint8Array) {\n  abytes(block, 16);\n  if (!isBytes32(xk)) throw new Error('_encryptBlock accepts result of expandKeyLE');\n  const b32 = u32(block);\n  let { s0, s1, s2, s3 } = encrypt(xk, b32[0], b32[1], b32[2], b32[3]);\n  (b32[0] = s0), (b32[1] = s1), (b32[2] = s2), (b32[3] = s3);\n  return block;\n}\n\nfunction decryptBlock(xk: Uint32Array, block: Uint8Array) {\n  abytes(block, 16);\n  if (!isBytes32(xk)) throw new Error('_decryptBlock accepts result of expandKeyLE');\n  const b32 = u32(block);\n  let { s0, s1, s2, s3 } = decrypt(xk, b32[0], b32[1], b32[2], b32[3]);\n  (b32[0] = s0), (b32[1] = s1), (b32[2] = s2), (b32[3] = s3);\n  return block;\n}\n\n// Highly unsafe private functions for implementing new modes or ciphers based on AES\n// Can change at any time, no API guarantees\nexport const unsafe = {\n  expandKeyLE,\n  expandKeyDecLE,\n  encrypt,\n  decrypt,\n  encryptBlock,\n  decryptBlock,\n  ctrCounter,\n  ctr32,\n};\n", "/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */\nimport { bytes as abytes, isBytes } from './_assert.js';\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u16 = (arr: TypedArray) =>\n  new Uint16Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 2));\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// big-endian hardware is rare. Just in case someone still decides to run ciphers:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  abytes(bytes);\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 } as const;\nfunction asciiToBase16(char: number): number | undefined {\n  if (char >= asciis._0 && char <= asciis._9) return char - asciis._0;\n  if (char >= asciis._A && char <= asciis._F) return char - (asciis._A - 10);\n  if (char >= asciis._a && char <= asciis._f) return char - (asciis._a - 10);\n  return;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2;\n  }\n  return array;\n}\n\nexport function hexToNumber(hex: string): bigint {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // Big Endian\n  return BigInt(hex === '' ? '0' : `0x${hex}`);\n}\n\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes: Uint8Array): bigint {\n  return hexToNumber(bytesToHex(bytes));\n}\n\nexport function numberToBytesBE(n: number | bigint, len: number): Uint8Array {\n  return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\ndeclare const TextDecoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`string expected, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\n/**\n * @example bytesToUtf8(new Uint8Array([97, 98, 99])) // 'abc'\n */\nexport function bytesToUtf8(bytes: Uint8Array): string {\n  return new TextDecoder().decode(bytes);\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  else if (isBytes(data)) data = data.slice();\n  else throw new Error(`Uint8Array expected, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    abytes(a);\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts: T2\n): T1 & T2 {\n  if (opts == null || typeof opts !== 'object') throw new Error('options must be defined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a: Uint8Array, b: Uint8Array) {\n  if (a.length !== b.length) return false;\n  let diff = 0;\n  for (let i = 0; i < a.length; i++) diff |= a[i] ^ b[i];\n  return diff === 0;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n}\n\n// This will allow to re-use with composable things like packed & base encoders\n// Also, we probably can make tags composable\nexport type Cipher = {\n  encrypt(plaintext: Uint8Array): Uint8Array;\n  decrypt(ciphertext: Uint8Array): Uint8Array;\n};\n\nexport type AsyncCipher = {\n  encrypt(plaintext: Uint8Array): Promise<Uint8Array>;\n  decrypt(ciphertext: Uint8Array): Promise<Uint8Array>;\n};\n\nexport type CipherWithOutput = Cipher & {\n  encrypt(plaintext: Uint8Array, output?: Uint8Array): Uint8Array;\n  decrypt(ciphertext: Uint8Array, output?: Uint8Array): Uint8Array;\n};\n\n// Params is outside return type, so it is accessible before calling constructor\n// If function support multiple nonceLength's, we return best one\nexport type CipherParams = { blockSize: number; nonceLength?: number; tagLength?: number };\nexport type CipherCons<T extends any[]> = (key: Uint8Array, ...args: T) => Cipher;\n/**\n * @__NO_SIDE_EFFECTS__\n */\nexport const wrapCipher = <C extends CipherCons<any>, P extends CipherParams>(\n  params: P,\n  c: C\n): C & P => {\n  Object.assign(c, params);\n  return c as C & P;\n};\n\nexport type XorStream = (\n  key: Uint8Array,\n  nonce: Uint8Array,\n  data: Uint8Array,\n  output?: Uint8Array,\n  counter?: number\n) => Uint8Array;\n\n// Polyfill for Safari 14\nexport function setBigUint64(\n  view: DataView,\n  byteOffset: number,\n  value: bigint,\n  isLE: boolean\n): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\nexport function u64Lengths(ciphertext: Uint8Array, AAD?: Uint8Array) {\n  const num = new Uint8Array(16);\n  const view = createView(num);\n  setBigUint64(view, 0, BigInt(AAD ? AAD.length : 0), true);\n  setBigUint64(view, 8, BigInt(ciphertext.length), true);\n  return num;\n}\n", "function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`positive integer expected, not ${n}`);\n}\n\nfunction bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`boolean expected, not ${b}`);\n}\n\nexport function isBytes(a: unknown): a is Uint8Array {\n  return (\n    a instanceof Uint8Array ||\n    (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array')\n  );\n}\n\nfunction bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!isBytes(b)) throw new Error('Uint8Array expected');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`);\n}\n\nexport type Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nfunction hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('hash must be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nfunction exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\n\nfunction output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nexport { number, bool, bytes, hash, exists, output };\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n", "import { createView, toBytes, Input, Hash, u32 } from './utils.js';\nimport { bytes as abytes, exists as aexists, output as aoutput } from './_assert.js';\n\n// GHash from AES-GCM and its little-endian \"mirror image\" Polyval from AES-SIV.\n// Implemented in terms of GHash with conversion function for keys\n// GCM GHASH from NIST SP800-38d, SIV from RFC 8452.\n// https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf\n\n// GHASH   modulo: x^128 + x^7   + x^2   + x     + 1\n// POLYVAL modulo: x^128 + x^127 + x^126 + x^121 + 1\n\nconst BLOCK_SIZE = 16;\n// TODO: rewrite\n// temporary padding buffer\nconst ZEROS16 = /* @__PURE__ */ new Uint8Array(16);\nconst ZEROS32 = u32(ZEROS16);\nconst POLY = 0xe1; // v = 2*v % POLY\n\n// v = 2*v % POLY\n// NOTE: because x + x = 0 (add/sub is same), mul2(x) != x+x\n// We can multiply any number using montgomery ladder and this function (works as double, add is simple xor)\nconst mul2 = (s0: number, s1: number, s2: number, s3: number) => {\n  const hiBit = s3 & 1;\n  return {\n    s3: (s2 << 31) | (s3 >>> 1),\n    s2: (s1 << 31) | (s2 >>> 1),\n    s1: (s0 << 31) | (s1 >>> 1),\n    s0: (s0 >>> 1) ^ ((POLY << 24) & -(hiBit & 1)), // reduce % poly\n  };\n};\n\nconst swapLE = (n: number) =>\n  (((n >>> 0) & 0xff) << 24) |\n  (((n >>> 8) & 0xff) << 16) |\n  (((n >>> 16) & 0xff) << 8) |\n  ((n >>> 24) & 0xff) |\n  0;\n\n/**\n * `mulX_POLYVAL(ByteReverse(H))` from spec\n * @param k mutated in place\n */\nexport function _toGHASHKey(k: Uint8Array): Uint8Array {\n  k.reverse();\n  const hiBit = k[15] & 1;\n  // k >>= 1\n  let carry = 0;\n  for (let i = 0; i < k.length; i++) {\n    const t = k[i];\n    k[i] = (t >>> 1) | carry;\n    carry = (t & 1) << 7;\n  }\n  k[0] ^= -hiBit & 0xe1; // if (hiBit) n ^= 0xe1000000000000000000000000000000;\n  return k;\n}\n\ntype Value = { s0: number; s1: number; s2: number; s3: number };\n\nconst estimateWindow = (bytes: number) => {\n  if (bytes > 64 * 1024) return 8;\n  if (bytes > 1024) return 4;\n  return 2;\n};\n\nclass GHASH implements Hash<GHASH> {\n  readonly blockLen = BLOCK_SIZE;\n  readonly outputLen = BLOCK_SIZE;\n  protected s0 = 0;\n  protected s1 = 0;\n  protected s2 = 0;\n  protected s3 = 0;\n  protected finished = false;\n  protected t: Value[];\n  private W: number;\n  private windowSize: number;\n  // We select bits per window adaptively based on expectedLength\n  constructor(key: Input, expectedLength?: number) {\n    key = toBytes(key);\n    abytes(key, 16);\n    const kView = createView(key);\n    let k0 = kView.getUint32(0, false);\n    let k1 = kView.getUint32(4, false);\n    let k2 = kView.getUint32(8, false);\n    let k3 = kView.getUint32(12, false);\n    // generate table of doubled keys (half of montgomery ladder)\n    const doubles: Value[] = [];\n    for (let i = 0; i < 128; i++) {\n      doubles.push({ s0: swapLE(k0), s1: swapLE(k1), s2: swapLE(k2), s3: swapLE(k3) });\n      ({ s0: k0, s1: k1, s2: k2, s3: k3 } = mul2(k0, k1, k2, k3));\n    }\n    const W = estimateWindow(expectedLength || 1024);\n    if (![1, 2, 4, 8].includes(W))\n      throw new Error(`ghash: wrong window size=${W}, should be 2, 4 or 8`);\n    this.W = W;\n    const bits = 128; // always 128 bits;\n    const windows = bits / W;\n    const windowSize = (this.windowSize = 2 ** W);\n    const items: Value[] = [];\n    // Create precompute table for window of W bits\n    for (let w = 0; w < windows; w++) {\n      // truth table: 00, 01, 10, 11\n      for (let byte = 0; byte < windowSize; byte++) {\n        // prettier-ignore\n        let s0 = 0, s1 = 0, s2 = 0, s3 = 0;\n        for (let j = 0; j < W; j++) {\n          const bit = (byte >>> (W - j - 1)) & 1;\n          if (!bit) continue;\n          const { s0: d0, s1: d1, s2: d2, s3: d3 } = doubles[W * w + j];\n          (s0 ^= d0), (s1 ^= d1), (s2 ^= d2), (s3 ^= d3);\n        }\n        items.push({ s0, s1, s2, s3 });\n      }\n    }\n    this.t = items;\n  }\n  protected _updateBlock(s0: number, s1: number, s2: number, s3: number) {\n    (s0 ^= this.s0), (s1 ^= this.s1), (s2 ^= this.s2), (s3 ^= this.s3);\n    const { W, t, windowSize } = this;\n    // prettier-ignore\n    let o0 = 0, o1 = 0, o2 = 0, o3 = 0;\n    const mask = (1 << W) - 1; // 2**W will kill performance.\n    let w = 0;\n    for (const num of [s0, s1, s2, s3]) {\n      for (let bytePos = 0; bytePos < 4; bytePos++) {\n        const byte = (num >>> (8 * bytePos)) & 0xff;\n        for (let bitPos = 8 / W - 1; bitPos >= 0; bitPos--) {\n          const bit = (byte >>> (W * bitPos)) & mask;\n          const { s0: e0, s1: e1, s2: e2, s3: e3 } = t[w * windowSize + bit];\n          (o0 ^= e0), (o1 ^= e1), (o2 ^= e2), (o3 ^= e3);\n          w += 1;\n        }\n      }\n    }\n    this.s0 = o0;\n    this.s1 = o1;\n    this.s2 = o2;\n    this.s3 = o3;\n  }\n  update(data: Input): this {\n    data = toBytes(data);\n    aexists(this);\n    const b32 = u32(data);\n    const blocks = Math.floor(data.length / BLOCK_SIZE);\n    const left = data.length % BLOCK_SIZE;\n    for (let i = 0; i < blocks; i++) {\n      this._updateBlock(b32[i * 4 + 0], b32[i * 4 + 1], b32[i * 4 + 2], b32[i * 4 + 3]);\n    }\n    if (left) {\n      ZEROS16.set(data.subarray(blocks * BLOCK_SIZE));\n      this._updateBlock(ZEROS32[0], ZEROS32[1], ZEROS32[2], ZEROS32[3]);\n      ZEROS32.fill(0); // clean tmp buffer\n    }\n    return this;\n  }\n  destroy() {\n    const { t } = this;\n    // clean precompute table\n    for (const elm of t) {\n      (elm.s0 = 0), (elm.s1 = 0), (elm.s2 = 0), (elm.s3 = 0);\n    }\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    const { s0, s1, s2, s3 } = this;\n    const o32 = u32(out);\n    o32[0] = s0;\n    o32[1] = s1;\n    o32[2] = s2;\n    o32[3] = s3;\n    return out;\n  }\n  digest(): Uint8Array {\n    const res = new Uint8Array(BLOCK_SIZE);\n    this.digestInto(res);\n    this.destroy();\n    return res;\n  }\n}\n\nclass Polyval extends GHASH {\n  constructor(key: Input, expectedLength?: number) {\n    key = toBytes(key);\n    const ghKey = _toGHASHKey(key.slice());\n    super(ghKey, expectedLength);\n    ghKey.fill(0);\n  }\n  update(data: Input): this {\n    data = toBytes(data);\n    aexists(this);\n    const b32 = u32(data);\n    const left = data.length % BLOCK_SIZE;\n    const blocks = Math.floor(data.length / BLOCK_SIZE);\n    for (let i = 0; i < blocks; i++) {\n      this._updateBlock(\n        swapLE(b32[i * 4 + 3]),\n        swapLE(b32[i * 4 + 2]),\n        swapLE(b32[i * 4 + 1]),\n        swapLE(b32[i * 4 + 0])\n      );\n    }\n    if (left) {\n      ZEROS16.set(data.subarray(blocks * BLOCK_SIZE));\n      this._updateBlock(\n        swapLE(ZEROS32[3]),\n        swapLE(ZEROS32[2]),\n        swapLE(ZEROS32[1]),\n        swapLE(ZEROS32[0])\n      );\n      ZEROS32.fill(0); // clean tmp buffer\n    }\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    // tmp ugly hack\n    const { s0, s1, s2, s3 } = this;\n    const o32 = u32(out);\n    o32[0] = s0;\n    o32[1] = s1;\n    o32[2] = s2;\n    o32[3] = s3;\n    return out.reverse();\n  }\n}\n\nexport type CHash = ReturnType<typeof wrapConstructorWithKey>;\nfunction wrapConstructorWithKey<H extends Hash<H>>(\n  hashCons: (key: Input, expectedLength?: number) => Hash<H>\n) {\n  const hashC = (msg: Input, key: Input): Uint8Array =>\n    hashCons(key, msg.length).update(toBytes(msg)).digest();\n  const tmp = hashCons(new Uint8Array(16), 0);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (key: Input, expectedLength?: number) => hashCons(key, expectedLength);\n  return hashC;\n}\n\nexport const ghash = wrapConstructorWithKey(\n  (key, expectedLength) => new GHASH(key, expectedLength)\n);\nexport const polyval = wrapConstructorWithKey(\n  (key, expectedLength) => new Polyval(key, expectedLength)\n);\n", "// prettier-ignore\nimport {\n  wrapCipher, CipherWithOutput, XorStream, createView, equalBytes, setBigUint64,\n} from './utils.js';\nimport { poly1305 } from './_poly1305.js';\nimport { createCipher, rotl } from './_arx.js';\nimport { bytes as abytes } from './_assert.js';\n\n// ChaCha20 stream cipher was released in 2008. ChaCha aims to increase\n// the diffusion per round, but had slightly less cryptanalysis.\n// https://cr.yp.to/chacha.html, http://cr.yp.to/chacha/chacha-20080128.pdf\n\n/**\n * ChaCha core function.\n */\n// prettier-ignore\nfunction chachaCore(\n  s: Uint32Array, k: Uint32Array, n: Uint32Array, out: Uint32Array, cnt: number, rounds = 20\n): void {\n  let y00 = s[0], y01 = s[1], y02 = s[2], y03 = s[3], // \"expa\"   \"nd 3\"  \"2-by\"  \"te k\"\n      y04 = k[0], y05 = k[1], y06 = k[2], y07 = k[3], // Key      Key     Key     Key\n      y08 = k[4], y09 = k[5], y10 = k[6], y11 = k[7], // Key      Key     Key     Key\n      y12 = cnt,  y13 = n[0], y14 = n[1], y15 = n[2]; // Counter  Counter\tNonce   Nonce\n  // Save state to temporary variables\n  let x00 = y00, x01 = y01, x02 = y02, x03 = y03,\n      x04 = y04, x05 = y05, x06 = y06, x07 = y07,\n      x08 = y08, x09 = y09, x10 = y10, x11 = y11,\n      x12 = y12, x13 = y13, x14 = y14, x15 = y15;\n  for (let r = 0; r < rounds; r += 2) {\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 16);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 12);\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 8);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 7);\n\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 16);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 12);\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 8);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 7);\n\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 16);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 12);\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^x02, 8);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 7);\n\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 16);\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 12);\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 8)\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 7);\n\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 16);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 12);\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 8);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 7);\n\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 16);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 12);\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 8);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 7);\n\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 16);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 12);\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 8);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 7);\n\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 16)\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 12);\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 8);\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 7);\n  }\n  // Write output\n  let oi = 0;\n  out[oi++] = (y00 + x00) | 0; out[oi++] = (y01 + x01) | 0;\n  out[oi++] = (y02 + x02) | 0; out[oi++] = (y03 + x03) | 0;\n  out[oi++] = (y04 + x04) | 0; out[oi++] = (y05 + x05) | 0;\n  out[oi++] = (y06 + x06) | 0; out[oi++] = (y07 + x07) | 0;\n  out[oi++] = (y08 + x08) | 0; out[oi++] = (y09 + x09) | 0;\n  out[oi++] = (y10 + x10) | 0; out[oi++] = (y11 + x11) | 0;\n  out[oi++] = (y12 + x12) | 0; out[oi++] = (y13 + x13) | 0;\n  out[oi++] = (y14 + x14) | 0; out[oi++] = (y15 + x15) | 0;\n}\n/**\n * hchacha helper method, used primarily in xchacha, to hash\n * key and nonce into key' and nonce'.\n * Same as chachaCore, but there doesn't seem to be a way to move the block\n * out without 25% performance hit.\n */\n// prettier-ignore\nexport function hchacha(\n  s: Uint32Array, k: Uint32Array, i: Uint32Array, o32: Uint32Array\n) {\n  let x00 = s[0], x01 = s[1], x02 = s[2], x03 = s[3],\n      x04 = k[0], x05 = k[1], x06 = k[2], x07 = k[3],\n      x08 = k[4], x09 = k[5], x10 = k[6], x11 = k[7],\n      x12 = i[0], x13 = i[1], x14 = i[2], x15 = i[3];\n  for (let r = 0; r < 20; r += 2) {\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 16);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 12);\n    x00 = (x00 + x04) | 0; x12 = rotl(x12 ^ x00, 8);\n    x08 = (x08 + x12) | 0; x04 = rotl(x04 ^ x08, 7);\n\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 16);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 12);\n    x01 = (x01 + x05) | 0; x13 = rotl(x13 ^ x01, 8);\n    x09 = (x09 + x13) | 0; x05 = rotl(x05 ^ x09, 7);\n\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 16);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 12);\n    x02 = (x02 + x06) | 0; x14 = rotl(x14 ^ x02, 8);\n    x10 = (x10 + x14) | 0; x06 = rotl(x06 ^ x10, 7);\n\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 16);\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 12);\n    x03 = (x03 + x07) | 0; x15 = rotl(x15 ^ x03, 8)\n    x11 = (x11 + x15) | 0; x07 = rotl(x07 ^ x11, 7);\n\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 16);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 12);\n    x00 = (x00 + x05) | 0; x15 = rotl(x15 ^ x00, 8);\n    x10 = (x10 + x15) | 0; x05 = rotl(x05 ^ x10, 7);\n\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 16);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 12);\n    x01 = (x01 + x06) | 0; x12 = rotl(x12 ^ x01, 8);\n    x11 = (x11 + x12) | 0; x06 = rotl(x06 ^ x11, 7);\n\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 16);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 12);\n    x02 = (x02 + x07) | 0; x13 = rotl(x13 ^ x02, 8);\n    x08 = (x08 + x13) | 0; x07 = rotl(x07 ^ x08, 7);\n\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 16)\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 12);\n    x03 = (x03 + x04) | 0; x14 = rotl(x14 ^ x03, 8);\n    x09 = (x09 + x14) | 0; x04 = rotl(x04 ^ x09, 7);\n  }\n  let oi = 0;\n  o32[oi++] = x00; o32[oi++] = x01;\n  o32[oi++] = x02; o32[oi++] = x03;\n  o32[oi++] = x12; o32[oi++] = x13;\n  o32[oi++] = x14; o32[oi++] = x15;\n}\n/**\n * Original, non-RFC chacha20 from DJB. 8-byte nonce, 8-byte counter.\n */\nexport const chacha20orig = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 8,\n  allowShortKeys: true,\n});\n/**\n * ChaCha stream cipher. Conforms to RFC 8439 (IETF, TLS). 12-byte nonce, 4-byte counter.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport const chacha20 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  allowShortKeys: false,\n});\n\n/**\n * XChaCha eXtended-nonce ChaCha. 24-byte nonce.\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n */\nexport const xchacha20 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 8,\n  extendNonceFn: hchacha,\n  allowShortKeys: false,\n});\n\n/**\n * Reduced 8-round chacha, described in original paper.\n */\nexport const chacha8 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  rounds: 8,\n});\n\n/**\n * Reduced 12-round chacha, described in original paper.\n */\nexport const chacha12 = /* @__PURE__ */ createCipher(chachaCore, {\n  counterRight: false,\n  counterLength: 4,\n  rounds: 12,\n});\n\nconst ZEROS16 = /* @__PURE__ */ new Uint8Array(16);\n// Pad to digest size with zeros\nconst updatePadded = (h: ReturnType<typeof poly1305.create>, msg: Uint8Array) => {\n  h.update(msg);\n  const left = msg.length % 16;\n  if (left) h.update(ZEROS16.subarray(left));\n};\n\nconst ZEROS32 = /* @__PURE__ */ new Uint8Array(32);\nfunction computeTag(\n  fn: XorStream,\n  key: Uint8Array,\n  nonce: Uint8Array,\n  data: Uint8Array,\n  AAD?: Uint8Array\n): Uint8Array {\n  const authKey = fn(key, nonce, ZEROS32);\n  const h = poly1305.create(authKey);\n  if (AAD) updatePadded(h, AAD);\n  updatePadded(h, data);\n  const num = new Uint8Array(16);\n  const view = createView(num);\n  setBigUint64(view, 0, BigInt(AAD ? AAD.length : 0), true);\n  setBigUint64(view, 8, BigInt(data.length), true);\n  h.update(num);\n  const res = h.digest();\n  authKey.fill(0);\n  return res;\n}\n\n/**\n * AEAD algorithm from RFC 8439.\n * Salsa20 and chacha (RFC 8439) use poly1305 differently.\n * We could have composed them similar to:\n * https://github.com/paulmillr/scure-base/blob/b266c73dde977b1dd7ef40ef7a23cc15aab526b3/index.ts#L250\n * But it's hard because of authKey:\n * In salsa20, authKey changes position in salsa stream.\n * In chacha, authKey can't be computed inside computeTag, it modifies the counter.\n */\nexport const _poly1305_aead =\n  (xorStream: XorStream) =>\n  (key: Uint8Array, nonce: Uint8Array, AAD?: Uint8Array): CipherWithOutput => {\n    const tagLength = 16;\n    abytes(key, 32);\n    abytes(nonce);\n    return {\n      encrypt: (plaintext: Uint8Array, output?: Uint8Array) => {\n        const plength = plaintext.length;\n        const clength = plength + tagLength;\n        if (output) {\n          abytes(output, clength);\n        } else {\n          output = new Uint8Array(clength);\n        }\n        xorStream(key, nonce, plaintext, output, 1);\n        const tag = computeTag(xorStream, key, nonce, output.subarray(0, -tagLength), AAD);\n        output.set(tag, plength); // append tag\n        return output;\n      },\n      decrypt: (ciphertext: Uint8Array, output?: Uint8Array) => {\n        const clength = ciphertext.length;\n        const plength = clength - tagLength;\n        if (clength < tagLength)\n          throw new Error(`encrypted data must be at least ${tagLength} bytes`);\n        if (output) {\n          abytes(output, plength);\n        } else {\n          output = new Uint8Array(plength);\n        }\n        const data = ciphertext.subarray(0, -tagLength);\n        const passedTag = ciphertext.subarray(-tagLength);\n        const tag = computeTag(xorStream, key, nonce, data, AAD);\n        if (!equalBytes(passedTag, tag)) throw new Error('invalid tag');\n        xorStream(key, nonce, data, output, 1);\n        return output;\n      },\n    };\n  };\n\n/**\n * ChaCha20-Poly1305 from RFC 8439.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport const chacha20poly1305 = /* @__PURE__ */ wrapCipher(\n  { blockSize: 64, nonceLength: 12, tagLength: 16 },\n  _poly1305_aead(chacha20)\n);\n/**\n * XChaCha20-Poly1305 extended-nonce chacha.\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n */\nexport const xchacha20poly1305 = /* @__PURE__ */ wrapCipher(\n  { blockSize: 64, nonceLength: 24, tagLength: 16 },\n  _poly1305_aead(xchacha20)\n);\n", "import { exists as aexists, bytes as abytes, output as aoutput } from './_assert.js';\nimport { Input, toBytes, Hash } from './utils.js';\n\n// Poly1305 is a fast and parallel secret-key message-authentication code.\n// https://cr.yp.to/mac.html, https://cr.yp.to/mac/poly1305-20050329.pdf\n// https://datatracker.ietf.org/doc/html/rfc8439\n\n// Based on Public Domain poly1305-donna https://github.com/floodyberry/poly1305-donna\nconst u8to16 = (a: Uint8Array, i: number) => (a[i++] & 0xff) | ((a[i++] & 0xff) << 8);\nclass Poly1305 implements Hash<Poly1305> {\n  readonly blockLen = 16;\n  readonly outputLen = 16;\n  private buffer = new Uint8Array(16);\n  private r = new Uint16Array(10);\n  private h = new Uint16Array(10);\n  private pad = new Uint16Array(8);\n  private pos = 0;\n  protected finished = false;\n\n  constructor(key: Input) {\n    key = toBytes(key);\n    abytes(key, 32);\n    const t0 = u8to16(key, 0);\n    const t1 = u8to16(key, 2);\n    const t2 = u8to16(key, 4);\n    const t3 = u8to16(key, 6);\n    const t4 = u8to16(key, 8);\n    const t5 = u8to16(key, 10);\n    const t6 = u8to16(key, 12);\n    const t7 = u8to16(key, 14);\n\n    // https://github.com/floodyberry/poly1305-donna/blob/e6ad6e091d30d7f4ec2d4f978be1fcfcbce72781/poly1305-donna-16.h#L47\n    this.r[0] = t0 & 0x1fff;\n    this.r[1] = ((t0 >>> 13) | (t1 << 3)) & 0x1fff;\n    this.r[2] = ((t1 >>> 10) | (t2 << 6)) & 0x1f03;\n    this.r[3] = ((t2 >>> 7) | (t3 << 9)) & 0x1fff;\n    this.r[4] = ((t3 >>> 4) | (t4 << 12)) & 0x00ff;\n    this.r[5] = (t4 >>> 1) & 0x1ffe;\n    this.r[6] = ((t4 >>> 14) | (t5 << 2)) & 0x1fff;\n    this.r[7] = ((t5 >>> 11) | (t6 << 5)) & 0x1f81;\n    this.r[8] = ((t6 >>> 8) | (t7 << 8)) & 0x1fff;\n    this.r[9] = (t7 >>> 5) & 0x007f;\n    for (let i = 0; i < 8; i++) this.pad[i] = u8to16(key, 16 + 2 * i);\n  }\n\n  private process(data: Uint8Array, offset: number, isLast = false) {\n    const hibit = isLast ? 0 : 1 << 11;\n    const { h, r } = this;\n    const r0 = r[0];\n    const r1 = r[1];\n    const r2 = r[2];\n    const r3 = r[3];\n    const r4 = r[4];\n    const r5 = r[5];\n    const r6 = r[6];\n    const r7 = r[7];\n    const r8 = r[8];\n    const r9 = r[9];\n\n    const t0 = u8to16(data, offset + 0);\n    const t1 = u8to16(data, offset + 2);\n    const t2 = u8to16(data, offset + 4);\n    const t3 = u8to16(data, offset + 6);\n    const t4 = u8to16(data, offset + 8);\n    const t5 = u8to16(data, offset + 10);\n    const t6 = u8to16(data, offset + 12);\n    const t7 = u8to16(data, offset + 14);\n\n    let h0 = h[0] + (t0 & 0x1fff);\n    let h1 = h[1] + (((t0 >>> 13) | (t1 << 3)) & 0x1fff);\n    let h2 = h[2] + (((t1 >>> 10) | (t2 << 6)) & 0x1fff);\n    let h3 = h[3] + (((t2 >>> 7) | (t3 << 9)) & 0x1fff);\n    let h4 = h[4] + (((t3 >>> 4) | (t4 << 12)) & 0x1fff);\n    let h5 = h[5] + ((t4 >>> 1) & 0x1fff);\n    let h6 = h[6] + (((t4 >>> 14) | (t5 << 2)) & 0x1fff);\n    let h7 = h[7] + (((t5 >>> 11) | (t6 << 5)) & 0x1fff);\n    let h8 = h[8] + (((t6 >>> 8) | (t7 << 8)) & 0x1fff);\n    let h9 = h[9] + ((t7 >>> 5) | hibit);\n\n    let c = 0;\n\n    let d0 = c + h0 * r0 + h1 * (5 * r9) + h2 * (5 * r8) + h3 * (5 * r7) + h4 * (5 * r6);\n    c = d0 >>> 13;\n    d0 &= 0x1fff;\n    d0 += h5 * (5 * r5) + h6 * (5 * r4) + h7 * (5 * r3) + h8 * (5 * r2) + h9 * (5 * r1);\n    c += d0 >>> 13;\n    d0 &= 0x1fff;\n\n    let d1 = c + h0 * r1 + h1 * r0 + h2 * (5 * r9) + h3 * (5 * r8) + h4 * (5 * r7);\n    c = d1 >>> 13;\n    d1 &= 0x1fff;\n    d1 += h5 * (5 * r6) + h6 * (5 * r5) + h7 * (5 * r4) + h8 * (5 * r3) + h9 * (5 * r2);\n    c += d1 >>> 13;\n    d1 &= 0x1fff;\n\n    let d2 = c + h0 * r2 + h1 * r1 + h2 * r0 + h3 * (5 * r9) + h4 * (5 * r8);\n    c = d2 >>> 13;\n    d2 &= 0x1fff;\n    d2 += h5 * (5 * r7) + h6 * (5 * r6) + h7 * (5 * r5) + h8 * (5 * r4) + h9 * (5 * r3);\n    c += d2 >>> 13;\n    d2 &= 0x1fff;\n\n    let d3 = c + h0 * r3 + h1 * r2 + h2 * r1 + h3 * r0 + h4 * (5 * r9);\n    c = d3 >>> 13;\n    d3 &= 0x1fff;\n    d3 += h5 * (5 * r8) + h6 * (5 * r7) + h7 * (5 * r6) + h8 * (5 * r5) + h9 * (5 * r4);\n    c += d3 >>> 13;\n    d3 &= 0x1fff;\n\n    let d4 = c + h0 * r4 + h1 * r3 + h2 * r2 + h3 * r1 + h4 * r0;\n    c = d4 >>> 13;\n    d4 &= 0x1fff;\n    d4 += h5 * (5 * r9) + h6 * (5 * r8) + h7 * (5 * r7) + h8 * (5 * r6) + h9 * (5 * r5);\n    c += d4 >>> 13;\n    d4 &= 0x1fff;\n\n    let d5 = c + h0 * r5 + h1 * r4 + h2 * r3 + h3 * r2 + h4 * r1;\n    c = d5 >>> 13;\n    d5 &= 0x1fff;\n    d5 += h5 * r0 + h6 * (5 * r9) + h7 * (5 * r8) + h8 * (5 * r7) + h9 * (5 * r6);\n    c += d5 >>> 13;\n    d5 &= 0x1fff;\n\n    let d6 = c + h0 * r6 + h1 * r5 + h2 * r4 + h3 * r3 + h4 * r2;\n    c = d6 >>> 13;\n    d6 &= 0x1fff;\n    d6 += h5 * r1 + h6 * r0 + h7 * (5 * r9) + h8 * (5 * r8) + h9 * (5 * r7);\n    c += d6 >>> 13;\n    d6 &= 0x1fff;\n\n    let d7 = c + h0 * r7 + h1 * r6 + h2 * r5 + h3 * r4 + h4 * r3;\n    c = d7 >>> 13;\n    d7 &= 0x1fff;\n    d7 += h5 * r2 + h6 * r1 + h7 * r0 + h8 * (5 * r9) + h9 * (5 * r8);\n    c += d7 >>> 13;\n    d7 &= 0x1fff;\n\n    let d8 = c + h0 * r8 + h1 * r7 + h2 * r6 + h3 * r5 + h4 * r4;\n    c = d8 >>> 13;\n    d8 &= 0x1fff;\n    d8 += h5 * r3 + h6 * r2 + h7 * r1 + h8 * r0 + h9 * (5 * r9);\n    c += d8 >>> 13;\n    d8 &= 0x1fff;\n\n    let d9 = c + h0 * r9 + h1 * r8 + h2 * r7 + h3 * r6 + h4 * r5;\n    c = d9 >>> 13;\n    d9 &= 0x1fff;\n    d9 += h5 * r4 + h6 * r3 + h7 * r2 + h8 * r1 + h9 * r0;\n    c += d9 >>> 13;\n    d9 &= 0x1fff;\n\n    c = ((c << 2) + c) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = c >>> 13;\n    d1 += c;\n\n    h[0] = d0;\n    h[1] = d1;\n    h[2] = d2;\n    h[3] = d3;\n    h[4] = d4;\n    h[5] = d5;\n    h[6] = d6;\n    h[7] = d7;\n    h[8] = d8;\n    h[9] = d9;\n  }\n\n  private finalize() {\n    const { h, pad } = this;\n    const g = new Uint16Array(10);\n    let c = h[1] >>> 13;\n    h[1] &= 0x1fff;\n    for (let i = 2; i < 10; i++) {\n      h[i] += c;\n      c = h[i] >>> 13;\n      h[i] &= 0x1fff;\n    }\n    h[0] += c * 5;\n    c = h[0] >>> 13;\n    h[0] &= 0x1fff;\n    h[1] += c;\n    c = h[1] >>> 13;\n    h[1] &= 0x1fff;\n    h[2] += c;\n\n    g[0] = h[0] + 5;\n    c = g[0] >>> 13;\n    g[0] &= 0x1fff;\n    for (let i = 1; i < 10; i++) {\n      g[i] = h[i] + c;\n      c = g[i] >>> 13;\n      g[i] &= 0x1fff;\n    }\n    g[9] -= 1 << 13;\n\n    let mask = (c ^ 1) - 1;\n    for (let i = 0; i < 10; i++) g[i] &= mask;\n    mask = ~mask;\n    for (let i = 0; i < 10; i++) h[i] = (h[i] & mask) | g[i];\n    h[0] = (h[0] | (h[1] << 13)) & 0xffff;\n    h[1] = ((h[1] >>> 3) | (h[2] << 10)) & 0xffff;\n    h[2] = ((h[2] >>> 6) | (h[3] << 7)) & 0xffff;\n    h[3] = ((h[3] >>> 9) | (h[4] << 4)) & 0xffff;\n    h[4] = ((h[4] >>> 12) | (h[5] << 1) | (h[6] << 14)) & 0xffff;\n    h[5] = ((h[6] >>> 2) | (h[7] << 11)) & 0xffff;\n    h[6] = ((h[7] >>> 5) | (h[8] << 8)) & 0xffff;\n    h[7] = ((h[8] >>> 8) | (h[9] << 5)) & 0xffff;\n\n    let f = h[0] + pad[0];\n    h[0] = f & 0xffff;\n    for (let i = 1; i < 8; i++) {\n      f = (((h[i] + pad[i]) | 0) + (f >>> 16)) | 0;\n      h[i] = f & 0xffff;\n    }\n  }\n  update(data: Input): this {\n    aexists(this);\n    const { buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input\n      if (take === blockLen) {\n        for (; blockLen <= len - pos; pos += blockLen) this.process(data, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(buffer, 0, false);\n        this.pos = 0;\n      }\n    }\n    return this;\n  }\n  destroy() {\n    this.h.fill(0);\n    this.r.fill(0);\n    this.buffer.fill(0);\n    this.pad.fill(0);\n  }\n  digestInto(out: Uint8Array) {\n    aexists(this);\n    aoutput(out, this);\n    this.finished = true;\n    const { buffer, h } = this;\n    let { pos } = this;\n    if (pos) {\n      buffer[pos++] = 1;\n      // buffer.subarray(pos).fill(0);\n      for (; pos < 16; pos++) buffer[pos] = 0;\n      this.process(buffer, 0, true);\n    }\n    this.finalize();\n    let opos = 0;\n    for (let i = 0; i < 8; i++) {\n      out[opos++] = h[i] >>> 0;\n      out[opos++] = h[i] >>> 8;\n    }\n    return out;\n  }\n  digest(): Uint8Array {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n}\n\nexport type CHash = ReturnType<typeof wrapConstructorWithKey>;\nexport function wrapConstructorWithKey<H extends Hash<H>>(hashCons: (key: Input) => Hash<H>) {\n  const hashC = (msg: Input, key: Input): Uint8Array => hashCons(key).update(toBytes(msg)).digest();\n  const tmp = hashCons(new Uint8Array(32));\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (key: Input) => hashCons(key);\n  return hashC;\n}\n\nexport const poly1305 = wrapConstructorWithKey((key) => new Poly1305(key));\n", "// Basic utils for ARX (add-rotate-xor) salsa and chacha ciphers.\nimport { number as anumber, bytes as abytes, bool as abool } from './_assert.js';\nimport { XorStream, checkOpts, u32 } from './utils.js';\n\n/*\nRFC8439 requires multi-step cipher stream, where\nauthKey starts with counter: 0, actual msg with counter: 1.\n\nFor this, we need a way to re-use nonce / counter:\n\n    const counter = new Uint8Array(4);\n    chacha(..., counter, ...); // counter is now 1\n    chacha(..., counter, ...); // counter is now 2\n\nThis is complicated:\n\n- 32-bit counters are enough, no need for 64-bit: max ArrayBuffer size in JS is 4GB\n- Original papers don't allow mutating counters\n- Counter overflow is undefined [^1]\n- Idea A: allow providing (nonce | counter) instead of just nonce, re-use it\n- Caveat: Cannot be re-used through all cases:\n- * chacha has (counter | nonce)\n- * xchacha has (nonce16 | counter | nonce16)\n- Idea B: separate nonce / counter and provide separate API for counter re-use\n- Caveat: there are different counter sizes depending on an algorithm.\n- salsa & chacha also differ in structures of key & sigma:\n  salsa20:      s[0] | k(4) | s[1] | nonce(2) | ctr(2) | s[2] | k(4) | s[3]\n  chacha:       s(4) | k(8) | ctr(1) | nonce(3)\n  chacha20orig: s(4) | k(8) | ctr(2) | nonce(2)\n- Idea C: helper method such as `setSalsaState(key, nonce, sigma, data)`\n- Caveat: we can't re-use counter array\n\nxchacha [^2] uses the subkey and remaining 8 byte nonce with ChaCha20 as normal\n(prefixed by 4 NUL bytes, since [RFC8439] specifies a 12-byte nonce).\n\n[^1]: https://mailarchive.ietf.org/arch/msg/cfrg/gsOnTJzcbgG6OqD8Sc0GO5aR_tU/\n[^2]: https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha#appendix-A.2\n*/\n\n// We can't make top-level var depend on utils.utf8ToBytes\n// because it's not present in all envs. Creating a similar fn here\nconst _utf8ToBytes = (str: string) => Uint8Array.from(str.split('').map((c) => c.charCodeAt(0)));\nconst sigma16 = _utf8ToBytes('expand 16-byte k');\nconst sigma32 = _utf8ToBytes('expand 32-byte k');\nconst sigma16_32 = u32(sigma16);\nconst sigma32_32 = u32(sigma32);\nexport const sigma = sigma32_32.slice();\n\nexport function rotl(a: number, b: number): number {\n  return (a << b) | (a >>> (32 - b));\n}\n\nexport type CipherCoreFn = (\n  sigma: Uint32Array,\n  key: Uint32Array,\n  nonce: Uint32Array,\n  output: Uint32Array,\n  counter: number,\n  rounds?: number\n) => void;\n\nexport type ExtendNonceFn = (\n  sigma: Uint32Array,\n  key: Uint32Array,\n  input: Uint32Array,\n  output: Uint32Array\n) => void;\n\nexport type CipherOpts = {\n  allowShortKeys?: boolean; // Original salsa / chacha allow 16-byte keys\n  extendNonceFn?: ExtendNonceFn;\n  counterLength?: number;\n  counterRight?: boolean; // right: nonce|counter; left: counter|nonce\n  rounds?: number;\n};\n\n// Is byte array aligned to 4 byte offset (u32)?\nfunction isAligned32(b: Uint8Array) {\n  return b.byteOffset % 4 === 0;\n}\n\n// Salsa and Chacha block length is always 512-bit\nconst BLOCK_LEN = 64;\nconst BLOCK_LEN32 = 16;\n\n// new Uint32Array([2**32])   // => Uint32Array(1) [ 0 ]\n// new Uint32Array([2**32-1]) // => Uint32Array(1) [ 4294967295 ]\nconst MAX_COUNTER = 2 ** 32 - 1;\n\nconst U32_EMPTY = new Uint32Array();\nfunction runCipher(\n  core: CipherCoreFn,\n  sigma: Uint32Array,\n  key: Uint32Array,\n  nonce: Uint32Array,\n  data: Uint8Array,\n  output: Uint8Array,\n  counter: number,\n  rounds: number\n): void {\n  const len = data.length;\n  const block = new Uint8Array(BLOCK_LEN);\n  const b32 = u32(block);\n  // Make sure that buffers aligned to 4 bytes\n  const isAligned = isAligned32(data) && isAligned32(output);\n  const d32 = isAligned ? u32(data) : U32_EMPTY;\n  const o32 = isAligned ? u32(output) : U32_EMPTY;\n  for (let pos = 0; pos < len; counter++) {\n    core(sigma, key, nonce, b32, counter, rounds);\n    if (counter >= MAX_COUNTER) throw new Error('arx: counter overflow');\n    const take = Math.min(BLOCK_LEN, len - pos);\n    // aligned to 4 bytes\n    if (isAligned && take === BLOCK_LEN) {\n      const pos32 = pos / 4;\n      if (pos % 4 !== 0) throw new Error('arx: invalid block position');\n      for (let j = 0, posj: number; j < BLOCK_LEN32; j++) {\n        posj = pos32 + j;\n        o32[posj] = d32[posj] ^ b32[j];\n      }\n      pos += BLOCK_LEN;\n      continue;\n    }\n    for (let j = 0, posj; j < take; j++) {\n      posj = pos + j;\n      output[posj] = data[posj] ^ block[j];\n    }\n    pos += take;\n  }\n}\n\nexport function createCipher(core: CipherCoreFn, opts: CipherOpts): XorStream {\n  const { allowShortKeys, extendNonceFn, counterLength, counterRight, rounds } = checkOpts(\n    { allowShortKeys: false, counterLength: 8, counterRight: false, rounds: 20 },\n    opts\n  );\n  if (typeof core !== 'function') throw new Error('core must be a function');\n  anumber(counterLength);\n  anumber(rounds);\n  abool(counterRight);\n  abool(allowShortKeys);\n  return (\n    key: Uint8Array,\n    nonce: Uint8Array,\n    data: Uint8Array,\n    output?: Uint8Array,\n    counter = 0\n  ): Uint8Array => {\n    abytes(key);\n    abytes(nonce);\n    abytes(data);\n    const len = data.length;\n    if (!output) output = new Uint8Array(len);\n    abytes(output);\n    anumber(counter);\n    if (counter < 0 || counter >= MAX_COUNTER) throw new Error('arx: counter overflow');\n    if (output.length < len)\n      throw new Error(`arx: output (${output.length}) is shorter than data (${len})`);\n    const toClean = [];\n\n    // Key & sigma\n    // key=16 -> sigma16, k=key|key\n    // key=32 -> sigma32, k=key\n    let l = key.length,\n      k: Uint8Array,\n      sigma: Uint32Array;\n    if (l === 32) {\n      k = key.slice();\n      toClean.push(k);\n      sigma = sigma32_32;\n    } else if (l === 16 && allowShortKeys) {\n      k = new Uint8Array(32);\n      k.set(key);\n      k.set(key, 16);\n      sigma = sigma16_32;\n      toClean.push(k);\n    } else {\n      throw new Error(`arx: invalid 32-byte key, got length=${l}`);\n    }\n\n    // Nonce\n    // salsa20:      8   (8-byte counter)\n    // chacha20orig: 8   (8-byte counter)\n    // chacha20:     12  (4-byte counter)\n    // xsalsa20:     24  (16 -> hsalsa,  8 -> old nonce)\n    // xchacha20:    24  (16 -> hchacha, 8 -> old nonce)\n    // Align nonce to 4 bytes\n    if (!isAligned32(nonce)) {\n      nonce = nonce.slice();\n      toClean.push(nonce);\n    }\n\n    const k32 = u32(k);\n    // hsalsa & hchacha: handle extended nonce\n    if (extendNonceFn) {\n      if (nonce.length !== 24) throw new Error(`arx: extended nonce must be 24 bytes`);\n      extendNonceFn(sigma, k32, u32(nonce.subarray(0, 16)), k32);\n      nonce = nonce.subarray(16);\n    }\n\n    // Handle nonce counter\n    const nonceNcLen = 16 - counterLength;\n    if (nonceNcLen !== nonce.length)\n      throw new Error(`arx: nonce must be ${nonceNcLen} or 16 bytes`);\n\n    // Pad counter when nonce is 64 bit\n    if (nonceNcLen !== 12) {\n      const nc = new Uint8Array(12);\n      nc.set(nonce, counterRight ? 0 : 12 - nonce.length);\n      nonce = nc;\n      toClean.push(nonce);\n    }\n    const n32 = u32(nonce);\n    runCipher(core, sigma, k32, n32, data, output, counter, rounds);\n    while (toClean.length > 0) toClean.pop()!.fill(0);\n    return output;\n  };\n}\n", "import assert from './_assert.js';\nimport { CHash, Input, toBytes } from './utils.js';\nimport { hmac } from './hmac.js';\n\n// HKDF (RFC 5869)\n// https://soatok.blog/2021/11/17/understanding-hkdf/\n\n/**\n * HKDF-Extract(IKM, salt) -> PRK\n * Arguments position differs from spec (IKM is first one, since it is not optional)\n * @param hash\n * @param ikm\n * @param salt\n * @returns\n */\nexport function extract(hash: CHash, ikm: Input, salt?: Input) {\n  assert.hash(hash);\n  // NOTE: some libraries treat zero-length array as 'not provided';\n  // we don't, since we have undefined as 'not provided'\n  // https://github.com/RustCrypto/KDFs/issues/15\n  if (salt === undefined) salt = new Uint8Array(hash.outputLen); // if not provided, it is set to a string of HashLen zeros\n  return hmac(hash, toBytes(salt), toBytes(ikm));\n}\n\n// HKDF-Expand(PRK, info, L) -> OKM\nconst HKDF_COUNTER = new Uint8Array([0]);\nconst EMPTY_BUFFER = new Uint8Array();\n\n/**\n * HKDF-expand from the spec.\n * @param prk - a pseudorandom key of at least HashLen octets (usually, the output from the extract step)\n * @param info - optional context and application specific information (can be a zero-length string)\n * @param length - length of output keying material in octets\n */\nexport function expand(hash: CHash, prk: Input, info?: Input, length: number = 32) {\n  assert.hash(hash);\n  assert.number(length);\n  if (length > 255 * hash.outputLen) throw new Error('Length should be <= 255*HashLen');\n  const blocks = Math.ceil(length / hash.outputLen);\n  if (info === undefined) info = EMPTY_BUFFER;\n  // first L(ength) octets of T\n  const okm = new Uint8Array(blocks * hash.outputLen);\n  // Re-use HMAC instance between blocks\n  const HMAC = hmac.create(hash, prk);\n  const HMACTmp = HMAC._cloneInto();\n  const T = new Uint8Array(HMAC.outputLen);\n  for (let counter = 0; counter < blocks; counter++) {\n    HKDF_COUNTER[0] = counter + 1;\n    // T(0) = empty string (zero length)\n    // T(N) = HMAC-Hash(PRK, T(N-1) | info | N)\n    HMACTmp.update(counter === 0 ? EMPTY_BUFFER : T)\n      .update(info)\n      .update(HKDF_COUNTER)\n      .digestInto(T);\n    okm.set(T, hash.outputLen * counter);\n    HMAC._cloneInto(HMACTmp);\n  }\n  HMAC.destroy();\n  HMACTmp.destroy();\n  T.fill(0);\n  HKDF_COUNTER.fill(0);\n  return okm.slice(0, length);\n}\n\n/**\n * HKDF (RFC 5869): extract + expand in one step.\n * @param hash - hash function that would be used (e.g. sha256)\n * @param ikm - input keying material, the initial key\n * @param salt - optional salt value (a non-secret random value)\n * @param info - optional context and application specific information\n * @param length - length of output keying material in octets\n */\nexport const hkdf = (\n  hash: CHash,\n  ikm: Input,\n  salt: Input | undefined,\n  info: Input | undefined,\n  length: number\n) => expand(hash, extract(hash, ikm, salt), info, length);\n", "import assert from './_assert.js';\nimport { Hash, CHash, Input, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport class HMAC<T extends Hash<T>> extends Hash<HMAC<T>> {\n  oHash: T;\n  iHash: T;\n  blockLen: number;\n  outputLen: number;\n  private finished = false;\n  private destroyed = false;\n\n  constructor(hash: CHash, _key: Input) {\n    super();\n    assert.hash(hash);\n    const key = toBytes(_key);\n    this.iHash = hash.create() as T;\n    if (typeof this.iHash.update !== 'function')\n      throw new Error('Expected instance of class which extends utils.Hash');\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n    this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    this.oHash = hash.create() as T;\n    // Undo internal XOR && apply outer XOR\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n    this.oHash.update(pad);\n    pad.fill(0);\n  }\n  update(buf: Input) {\n    assert.exists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assert.exists(this);\n    assert.bytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest() {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to?: HMAC<T>): HMAC<T> {\n    // Create new instance without calling constructor since key already in state and we don't know it.\n    to ||= Object.create(Object.getPrototypeOf(this), {});\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to as this;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  destroy() {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n}\n\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash: CHash, key: Input, message: Input): Uint8Array =>\n  new HMAC<any>(hash, key).update(message).digest();\nhmac.create = (hash: CHash, key: Input) => new HMAC<any>(hash, key);\n", "import type { NostrProfile, Badge } from './nostr';\n\nfunction escapeXml(text: string): string {\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&apos;');\n}\n\nfunction truncateText(text: string, maxLength: number): string {\n  if (text.length <= maxLength) return text;\n  return text.substring(0, maxLength) + '...';\n}\n\nexport function generateProfileSvg(profile: NostrProfile, npub: string, badges: Badge[] = []): string {\n  const displayName = escapeXml(profile.display_name || profile.name || 'Anonymous');\n  const name = escapeXml(profile.name || '');\n  const about = profile.about ? escapeXml(truncateText(profile.about, 150)) : '';\n  const picture = profile.picture || 'https://via.placeholder.com/120';\n\n  // SVG dimensions\n  const width = 650;\n  const height = 200;\n\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n  <defs>\n    <style>\n      .card {\n        fill: #ffffff;\n        stroke: #e1e4e8;\n        stroke-width: 1;\n      }\n      .avatar-border {\n        fill: #ffffff;\n        stroke: #e1e4e8;\n        stroke-width: 2;\n      }\n      .display-name {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\n        font-size: 26px;\n        font-weight: 600;\n        fill: #24292e;\n      }\n      .username {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\n        font-size: 20px;\n        font-weight: 300;\n        fill: #586069;\n      }\n      .bio {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\n        font-size: 16px;\n        fill: #24292e;\n      }\n      .label {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\n        font-size: 12px;\n        fill: #586069;\n      }\n      .npub-text {\n        font-family: 'Courier New', monospace;\n        font-size: 11px;\n        fill: #586069;\n      }\n      .badge-name {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\n        font-size: 12px;\n        fill: #24292e;\n        text-anchor: middle;\n      }\n      .badge-border {\n        fill: #ffffff;\n        stroke: #e1e4e8;\n        stroke-width: 1;\n      }\n    </style>\n    <clipPath id=\"avatar-clip\">\n      <circle cx=\"80\" cy=\"80\" r=\"58\"/>\n    </clipPath>\n  </defs>\n\n  <!-- Background card -->\n  <rect class=\"card\" x=\"0\" y=\"0\" width=\"${width}\" height=\"${height}\" rx=\"10\"/>\n\n  <!-- Avatar with border -->\n  <circle class=\"avatar-border\" cx=\"80\" cy=\"80\" r=\"60\"/>\n  <image href=\"${picture}\" x=\"20\" y=\"20\" width=\"120\" height=\"120\" clip-path=\"url(#avatar-clip)\" preserveAspectRatio=\"xMidYMid slice\"/>\n\n  <!-- Profile info -->\n  <text class=\"display-name\" x=\"160\" y=\"65\">${displayName}</text>\n  ${name ? `<text class=\"username\" x=\"160\" y=\"95\">${name}</text>` : ''}\n\n  ${about ? `\n  <!-- Bio -->\n  <text class=\"bio\" x=\"160\" y=\"${name ? '135' : '115'}\">\n    ${about.split('\\n').slice(0, 3).map((line, i) =>\n      `<tspan x=\"160\" dy=\"${i === 0 ? '0' : '20'}\">${line}</tspan>`\n    ).join('\\n    ')}\n  </text>\n  ` : ''}\n\n  ${badges.length > 0 ? `\n  <!-- Badges -->\n  <g id=\"badges\">\n    ${badges.map((badge, index) => {\n      const badgeX = 382 + (index * 50); // Right-aligned: 650 - 20 - (48*5 + 2*4) = 382\n      const badgeY = 40;\n      const imageUrl = badge.thumb || badge.image || 'https://via.placeholder.com/48';\n\n      return `\n    <image href=\"${imageUrl}\" x=\"${badgeX}\" y=\"${badgeY}\" width=\"48\" height=\"48\" preserveAspectRatio=\"xMidYMid slice\"/>`;\n    }).join('\\n    ')}\n  </g>\n  ` : ''}\n</svg>`;\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAGA;AAAA;AAAA;;;ACHA;AAAA;AAAA;AAAA;AAEA,QAAI,cAAc;AAClB,QAAI,cAAc;AAClB,QAAI,YAAY;AAAA;AAAA,MAEd;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,M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AA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAEO,IAAM,YAAY;AAAA,MACxB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA;AAAA;;;AC9VA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,eAAsB,mBAAmB,QAAQ,SAAS;AACzD,SAAO,IAAI,eAAe,OAAO,EAAE,WAAW,MAAM;AACrD;AAEA,eAAsB,mBAAmB,OAAO,SAAS;AACxD,SAAO,IAAI,eAAe,OAAO,EAAE,WAAW,KAAK;AACpD;AAEA,eAAsB,iBAAiB,MAAM,SAAS;AACrD,SAAO,IAAI,eAAe,OAAO,EAAE,SAAS,IAAI;AACjD;AAEA,SAAS,wBAAwB,UAAU;AAC1C,aAAW,SAAS,YAAY;AAChC,UAAQ,UAAU;AAAA,IACjB,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KAAK;AACJ,aAAO;AAAA,QACN,KAAK;AAAA,QACL,MAAM;AAAA,MACP;AAAA,IACD,KA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",
  "names": ["decodeURIComponent", "uri", "byte", "i", "isLE", "i", "bytes", "i", "StringType", "init_lib", "bytes", "err", "i", "l", "t", "parse", "env", "hash", "i", "debug", "init_lib", "i", "init_lib", "initDebug", "StringType", "StringType", "init_lib", "init_core", "init_lib", "fileType", "StringType", "parse", "serialize", "decode", "max", "i", "value", "IsAsyncIterator", "IsObject", "IsIterator", "IsDate", "IsUint8Array", "HasPropertyKey", "IsObject", "IsArray", "IsUndefined", "IsNull", "IsBoolean", "IsNumber", "IsBigInt", "IsString", "IsFunction", "IsSymbol", "TypeSystemPolicy", "isObject", "IsObject", "IsArray", "IsNumber", "IsUndefined", "value", "IsArray", "IsAsyncIterator", "IsBigInt", "IsBoolean", "IsDate", "IsFunction", "IsInteger", "IsIterator", "IsNull", "IsNumber", "IsObject", "IsPromise", "IsRegExp", "IsString", "IsSymbol", "IsUndefined", "IsUint8Array", "IsArray", "IsBoolean", "IsBigInt", "IsAsyncIterator", "IsDate", "IsFunction", "IsInteger", "IsIterator", "IsNull", "IsNumber", "IsObject", "IsPromise", "IsAny", "IsArgument", "IsArray", "IsAsyncIterator", "IsBigInt", "IsBoolean", "IsComputed", "IsConstructor", "IsDate", "IsFunction", "IsInteger", "IsIntersect", "IsIterator", "IsKind", "IsKindOf", "IsLiteral", "IsLiteralValue", "IsMappedKey", "IsMappedResult", "IsNever", "IsNot", "IsNull", "IsNumber", "IsObject", "IsOptional", "IsPromise", "IsReadonly", "IsRecord", "IsRef", "IsRegExp", "IsSchema", "IsString", "IsSymbol", "IsTemplateLiteral", "IsThis", "IsTransform", "IsTuple", "IsUint8Array", "IsUndefined", "IsUnion", "IsUnknown", "IsUnsafe", "IsVoid", "i", "IsSchema", "IsReadonly", "IsOptional", "IsAny", "IsKindOf", "IsArgument", "IsArray", "IsAsyncIterator", "IsBigInt", "IsBoolean", "IsComputed", "IsConstructor", "IsDate", "IsFunction", "IsInteger", "IsIntersect", "IsTransform", "IsIterator", "IsLiteral", "IsLiteralValue", "IsMappedKey", "IsMappedResult", "IsNever", "IsNot", "IsNull", "IsNumber", "IsObject", "IsPromise", "IsRecord", "IsRef", "IsRegExp", "IsString", "IsSymbol", "IsTemplateLiteral", "IsThis", "IsTuple", "IsUndefined", "IsUnion", "IsUint8Array", "IsUnknown", "IsUnsafe", "IsVoid", "IsKind", "Set", "Set", "type_exports", "Clear", "Delete", "Entries", "Get", "Has", "Set", "map", "Entries", "Clear", "Delete", "Has", "Set", "Get", "Array", "Function", "isOptional", "range", "pattern", "Boolean", "BigInt", "Number", "String", "Boolean", "Number", "BigInt", "String", "i", "Visit", "schema", "IsNumber", "IsInteger", "IsBigInt", "IsString", "IsBoolean", "FromUnion", "IsNumber", "IsInteger", "FromUnion", "IsArray", "IsObject", "Object", "Promise", "FromProperties", "FromMappedResult", "FromMappedResult", "FromRest", "FromProperties", "IsFunction", "Function", "IsAsyncIterator", "IsIterator", "IsObject", "Object", "IsArray", "Array", "IsPromise", "Promise", "map", "FromProperties", "FromMappedResult", "IsObject", "RemoveOptionalFromType", "RemoveOptionalFromRest", "FromIntersect", "FromRest", "FromUnion", "IsPromise", "FromRest", "FromIntersect", "FromUnion", "FromTuple", "FromArray", "FromProperties", "IsArray", "IsObject", "FromComputed", "FromRef", "Number", "FromProperties", "FromMappedResult", "Object", "Date", "Symbol", "Uint8Array", "FromArray", "FromProperties", "Uint8Array", "Date", "Object", "Function", "Symbol", "BigInt", "ExtendsResult", "FromArray", "Visit", "FromIntersect", "FromLiteral", "Number", "Function", "FromPromise", "String", "FromTemplateLiteral", "FromTuple", "FromUnion", "FromProperties", "FromMappedResult", "FromMappedKey", "Intersect", "schema", "Union", "FromProperties", "FromMappedResult", "FromProperties", "FromMappedResult", "Object", "IsBoolean", "IsInteger", "IsNumber", "IsRegExp", "IsString", "RecordKey", "String", "Number", "RecordValue", "FromConstructor", "FromFunction", "FromIntersect", "FromUnion", "FromTuple", "FromArray", "FromAsyncIterator", "FromIterator", "FromPromise", "FromObject", "FromProperties", "Object", "FromRecord", "RecordKey", "RecordValue", "FromProperty", "isOptional", "IsFunction", "IsArray", "IsAsyncIterator", "IsIterator", "IsPromise", "IsObject", "FromTemplateLiteral", "FromRest", "FromProperties", "FromMappedResult", "FromIntersect", "FromUnion", "FromProperty", "FromProperties", "FromObject", "Object", "result", "IsObject", "FromPropertyKey", "FromPropertyKeys", "FromMappedKey", "FromProperties", "FromMappedResult", "FromIntersect", "FromUnion", "FromProperties", "FromObject", "Object", "UnionFromPropertyKeys", "result", "IsObject", "FromPropertyKey", "FromPropertyKeys", "FromMappedKey", "FromComputed", "FromRef", "FromProperties", "FromObject", "Object", "FromRest", "IsObject", "IsBigInt", "IsBoolean", "IsInteger", "IsNull", "IsNumber", "IsString", "IsSymbol", "IsUndefined", "FromProperties", "FromMappedResult", "FromComputed", "FromRef", "FromProperties", "FromObject", "Object", "FromRest", "IsObject", "IsBigInt", "IsBoolean", "IsInteger", "IsNull", "IsNumber", "IsString", "IsSymbol", "IsUndefined", "FromProperties", "FromMappedResult", "FromType", "FromComputed", "FromArray", "Array", "FromAsyncIterator", "FromConstructor", "FromTypes", "FromFunction", "Function", "FromIntersect", "FromIterator", "FromObject", "Object", "FromRecord", "RecordValue", "FromTuple", "FromUnion", "IsArray", "IsAsyncIterator", "IsFunction", "IsIterator", "IsObject", "Not", "IsFunction", "RegExp", "IsFunction", "decode", "Encode", "Decode", "type_exports", "Array", "BigInt", "Boolean", "Date", "Function", "Not", "Number", "Object", "Promise", "RegExp", "String", "Symbol", "Uint8Array", "type_exports", "import_fast_decode_uri_component", "target", "IsString", "ByteMarker", "i", "ArrayType", "Visit", "byte", "DateType", "ObjectType", "Uint8ArrayType", "IsArray", "IsBoolean", "IsBigInt", "IsDate", "IsNull", "IsNumber", "IsObject", "IsString", "IsSymbol", "IsUint8Array", "IsUndefined", "FromAny", "FromArgument", "FromArray", "IsArray", "value", "Visit", "set", "IsNumber", "FromAsyncIterator", "IsAsyncIterator", "FromBigInt", "IsBigInt", "FromBoolean", "IsBoolean", "FromConstructor", "FromDate", "IsDate", "FromFunction", "IsFunction", "FromInteger", "FromIntersect", "schema", "FromIterator", "IsIterator", "FromLiteral", "FromNever", "FromNot", "FromNull", "IsNull", "FromNumber", "FromObject", "FromPromise", "FromRecord", "regex", "FromRef", "FromRegExp", "FromString", "IsString", "FromSymbol", "IsSymbol", "FromTemplateLiteral", "FromTuple", "i", "FromUndefined", "IsUndefined", "FromUnion", "FromUint8Array", "IsUint8Array", "FromUnknown", "FromVoid", "type_exports", "ValueErrorType", "IsDefined", "FromAny", "FromArgument", "FromArray", "IsArray", "i", "Visit", "set", "value", "IsNumber", "FromAsyncIterator", "IsAsyncIterator", "FromBigInt", "IsBigInt", "FromBoolean", "IsBoolean", "FromConstructor", "FromDate", "IsDate", "FromFunction", "IsFunction", "FromImport", "FromInteger", "FromIntersect", "FromIterator", "IsIterator", "FromLiteral", "FromNever", "FromNot", "FromNull", "IsNull", "FromNumber", "FromObject", "FromPromise", "FromRecord", "regex", "FromRef", "FromRegExp", "IsString", "FromString", "FromSymbol", "IsSymbol", "FromTemplateLiteral", "FromThis", "FromTuple", "FromUndefined", "IsUndefined", "FromUnion", "FromUint8Array", "IsUint8Array", "FromUnknown", "FromVoid", "FromKind", "type_exports", "_AssertError_Iterator", "FromObject", "Clone", "FromArray", "FromDate", "FromValue", "IsArray", "IsDate", "IsObject", "IsFunction", "Clone", "FromAny", "HasPropertyKey", "FromArgument", "FromArray", "Visit", "FromAsyncIterator", "FromBigInt", "FromBoolean", "FromConstructor", "FromDate", "FromFunction", "FromImport", "FromInteger", "FromIntersect", "schema", "FromIterator", "FromLiteral", "FromNever", "FromNot", "FromNull", "FromNumber", "FromObject", "FromPromise", "FromRecord", "FromRef", "FromRegExp", "FromString", "FromSymbol", "FromTemplateLiteral", "FromThis", "FromTuple", "FromUndefined", "FromUnion", "FromUint8Array", "FromUnknown", "FromVoid", "FromKind", "type_exports", "Create", "IsNull", "schema", "exists", "Clone", "Create", "FromArray", "IsArray", "IsNumber", "value", "Visit", "FromConstructor", "FromImport", "IsObject", "FromIntersect", "FromNever", "FromObject", "FromRecord", "FromRef", "FromThis", "FromTuple", "FromUnion", "IsString", "FromArray", "IsArray", "value", "Visit", "FromImport", "FromIntersect", "schema", "Clone", "IsObject", "FromObject", "HasPropertyKey", "FromRecord", "FromRef", "FromThis", "FromTuple", "IsUndefined", "i", "FromUnion", "IsString", "IsString", "IsBigInt", "IsBoolean", "IsNumber", "value", "IsSymbol", "IsDate", "Default", "FromArray", "IsArray", "Visit", "FromBigInt", "FromBoolean", "FromDate", "FromImport", "FromInteger", "FromIntersect", "schema", "FromLiteral", "FromNull", "FromNumber", "FromObject", "IsObject", "HasPropertyKey", "FromRecord", "FromRef", "FromString", "FromSymbol", "FromThis", "FromTuple", "IsUndefined", "FromUndefined", "FromUnion", "Clone", "Default", "FromArray", "IsArray", "value", "Visit", "FromIntersect", "IsObject", "FromImport", "FromNot", "FromObject", "HasPropertyKey", "IsUndefined", "FromRecord", "FromRef", "FromThis", "FromTuple", "schema", "FromUnion", "Default", "FromArray", "IsArray", "value", "Visit", "FromImport", "FromIntersect", "IsObject", "FromNot", "FromObject", "HasPropertyKey", "IsUndefined", "FromRecord", "FromRef", "FromThis", "FromTuple", "schema", "FromUnion", "FromArray", "Visit", "FromAsyncIterator", "FromConstructor", "schema", "FromFunction", "FromIntersect", "FromImport", "FromIterator", "FromNot", "FromObject", "FromPromise", "FromRecord", "FromRef", "FromThis", "FromTuple", "IsUndefined", "FromUnion", "HasPropertyKey", "IsFunction", "Clone", "IsUndefined", "IsObject", "FromArray", "IsArray", "i", "Visit", "FromDate", "IsDate", "FromImport", "FromIntersect", "schema", "FromObject", "FromRecord", "FromRef", "FromThis", "FromTuple", "max", "FromUnion", "Default", "Delete", "Get", "Has", "Set", "Escape", "i", "Set", "Delete", "Has", "Get", "ObjectType", "IsObject", "DateType", "IsDate", "ArrayType", "IsArray", "Object", "String", "Delete", "ObjectType", "HasPropertyKey", "Visit", "ArrayType", "IsArray", "i", "TypedArrayType", "ValueType", "Clone", "IsStandardObject", "IsObject", "IsArray", "ObjectType", "Clone", "Visit", "ArrayType", "TypedArrayType", "i", "ValueType", "ParseRegistry", "Clone", "Default", "Delete", "Set", "Get", "value", "IsUndefined", "IsArray", "value_exports", "Clone", "Create", "Default", "Character", "MemberExpression", "i", "Encode", "Identifier", "LiteralString", "Escape", "Policy", "TypeCompiler", "IsAnyOrUnknown", "FromAny", "FromArgument", "FromArray", "IsNumber", "IsSchema", "FromAsyncIterator", "FromBigInt", "IsBigInt", "FromBoolean", "FromConstructor", "Visit", "FromDate", "FromFunction", "FromImport", "FromInteger", "FromIntersect", "schema", "FromIterator", "FromLiteral", "FromNever", "FromNot", "FromNull", "FromNumber", "FromObject", "FromPromise", "FromRecord", "FromRef", "FromRegExp", "FromString", "FromSymbol", "FromTemplateLiteral", "FromThis", "FromTuple", "FromUndefined", "FromUnion", "FromUint8Array", "FromUnknown", "FromVoid", "FromKind", "IsString", "type_exports", "pad", "expression", "IsArray", "isBun", "i", "number", "status", "ParseError", "value_exports", "type_exports", "value_exports", "fileTypeFromBlob", "file", "mod", "i", "i", "number", "date2", "date", "decode", "set", "decode", "i", "env", "set", "i", "env", "mapResponse", "mapCompactResponse", "handleStream", "status", "file", "stat", "isOptional", "i", "regex", "caches", "i", "mapResponse", "handleResponse", "errorToResponse", "handleStream", "mapCompactResponse", "mapEarlyResponse", "createStaticHandler", "import_fast_decode_uri_component", "import_fast_decode_uri_component", "i", "decode", "process", "i", "process2", "i2", "Kind", "Hint", "v2", "isOptional", "i", "i2", "i", "value_exports", "normalize", "sanitize", "mirror", "Check", "status", "i", "normalize", "isObject", "mapResponse", "value_exports", "validateFile", "i2", "mapResponse2", "ParseError", "decode", "allocateIf", "mapEarlyResponse", "set", "mapResponse", "parse", "i", "mapResponse", "mapEarlyResponse", "mapCompactResponse", "createStaticHandler", "i", "parse", "set", "handleResponse", "mapResponse", "mapEarlyResponse", "set", "i", "form", "i2", "_a", "_Elysia", "fastDecodeURIComponent", "env", "normalize", "sanitize", "compile", "i", "v2", "hash", "crypto", "pad", "Hash", "crypto", "isLE", "Hash", "i", "i", "concatBytes", "utf8ToBytes", "u8a", "i", "bytes", "hex", "byte", "concatBytes", "pad", "utf8ToBytes", "isOptional", "_0n", "_1n", "_2n", "number", "gcd", "Fp", "ge", "i", "map", "_0n", "_1n", "i", "bitLen", "isLE", "_0n", "_1n", "bytes", "isLE", "_1n", "_0n", "_1n", "bits", "window", "i", "Fp", "hex", "s", "_0n", "_1n", "_2n", "_3n", "_4n", "toBytes", "concatBytes", "bytes", "Point", "i", "mul", "a", "modN", "number", "Signature", "getPublicKey", "hash", "randomBytes", "r", "Hash", "hash", "pad", "i", "hash", "_1n", "_2n", "_3n", "_0n", "concatBytes", "t", "crypto", "u8a", "createView", "rotr", "isLE", "hexes", "i", "bytesToHex", "bytes", "u8a", "hex", "hexToBytes", "byte", "utf8ToBytes", "toBytes", "u8a", "concatBytes", "pad", "Hash", "wrapConstructor", "toBytes", "randomBytes", "crypto", "number", "bytes", "hash", "exists", "output", "setBigUint64", "isLE", "SHA2", "Hash", "createView", "toBytes", "i", "Chi", "Maj", "SHA256_K", "IV", "SHA256_W", "SHA256", "SHA2", "i", "rotr", "sha256", "wrapConstructor", "i", "decode", "alphabet", "bits", "padding", "bytes", "i", "i", "limit", "decode", "_words", "number", "bool", "bytes", "exists", "output", "bytes", "u8", "createView", "isLE", "utf8ToBytes", "toBytes", "utf8ToBytes", "equalBytes", "i", "setBigUint64", "isLE", "i", "t", "bytes", "toBytes", "createView", "bits", "byte", "exists", "output", "BLOCK_SIZE", "POLY", "mul2", "t", "i", "sbox", "sbox2", "bytes", "t0", "t1", "t2", "t3", "ctr", "u8", "isLE", "createView", "ecb", "cbc", "cfb", "setBigUint64", "gcm", "equalBytes", "max", "siv", "i", "toBytes", "bytes", "pad", "exists", "output", "wrapConstructorWithKey", "sigma", "output", "number", "bool", "bytes", "i", "ZEROS16", "ZEROS32", "computeTag", "createView", "setBigUint64", "bytes", "output", "equalBytes", "HMAC", "Hash", "hash", "toBytes", "pad", "i", "hmac", "hash", "hmac", "toBytes", "HMAC", "__defProp", "__export", "utils_exports", "__export", "bytesToHex", "hexToBytes", "t", "hash", "err", "sha256", "Date2", "__export", "challenge", "t", "err", "set", "err", "map", "__export", "decode", "number", "bytesToHex", "t", "hex", "hexToBytes", "bytes", "concatBytes", "__export", "decrypt", "encrypt", "bytesToHex", "randomBytes", "parse", "hex", "sha256", "decrypt2", "encrypt2", "concatBytes", "hmac", "equalBytes", "t", "parse2", "uri", "decode", "max", "regex", "err", "hash", "i", "set", "env", "env", "env", "env"]
}
